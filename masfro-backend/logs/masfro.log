2025-11-12 20:23:59 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-12 20:23:59 - app.main - INFO - <module>:377 - Initializing MAS-FRO Multi-Agent System...
2025-11-12 20:24:00 - app.communication.message_queue - INFO - __init__:46 - MessageQueue system initialized
2025-11-12 20:24:00 - app.agents.hazard_agent_001 - INFO - __init__:36 - Agent hazard_agent_001 created
2025-11-12 20:24:00 - services.geotiff_service - INFO - __init__:82 - GeoTIFFService initialized: 4 return periods, 18 time steps
2025-11-12 20:24:00 - services.geotiff_service - INFO - __init__:86 - Using manual coordinate mapping: center=(14.6456, 121.10305)
2025-11-12 20:24:00 - app.agents.hazard_agent - INFO - __init__:95 - hazard_agent_001 initialized GeoTIFFService
2025-11-12 20:24:00 - app.agents.hazard_agent - INFO - __init__:107 - hazard_agent_001 initialized with risk weights: {'flood_depth': 0.5, 'crowdsourced': 0.3, 'historical': 0.2}, return_period: rr01, time_step: 1
2025-11-12 20:24:00 - app.agents.flood_agent_001 - INFO - __init__:36 - Agent flood_agent_001 created
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - __init__:106 - flood_agent_001 initialized RiverScraperService
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - __init__:114 - flood_agent_001 initialized OpenWeatherMapService
2025-11-12 20:24:00 - services.dam_water_scraper_service - INFO - __init__:164 - DamWaterScraperService initialized
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - __init__:125 - flood_agent_001 initialized DamWaterScraperService
2025-11-12 20:24:00 - services.data_sources - INFO - __init__:309 - DataCollector initialized: simulated=False, pagasa=False, noah=False, mmda=False
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - __init__:153 - flood_agent_001 initialized with update interval 300s, real_apis=True, simulated=False
2025-11-12 20:24:00 - app.agents.routing_agent_001 - INFO - __init__:36 - Agent routing_agent_001 created
2025-11-12 20:24:00 - app.agents.routing_agent - INFO - _load_evacuation_centers:402 - Loaded 36 evacuation centers from C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\data\evacuation_centers.csv
2025-11-12 20:24:00 - app.agents.routing_agent - INFO - __init__:71 - routing_agent_001 initialized with risk_weight=0.6, distance_weight=0.4, evacuation_centers=36
2025-11-12 20:24:00 - app.agents.evac_manager_001 - INFO - __init__:36 - Agent evac_manager_001 created
2025-11-12 20:24:00 - app.agents.evacuation_manager_agent - INFO - __init__:90 - evac_manager_001 initialized
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - set_hazard_agent:167 - flood_agent_001 linked to hazard_agent_001
2025-11-12 20:24:00 - app.agents.evacuation_manager_agent - INFO - set_hazard_agent:126 - evac_manager_001 linked to hazard_agent_001
2025-11-12 20:24:00 - app.agents.evacuation_manager_agent - INFO - set_routing_agent:116 - evac_manager_001 linked to routing_agent_001
2025-11-12 20:24:00 - app.services.flood_data_scheduler - INFO - __init__:71 - FloodDataScheduler initialized with interval=300s (5.0 minutes), WebSocket broadcasting=enabled
2025-11-12 20:24:00 - app.main - INFO - <module>:425 - MAS-FRO system initialized successfully
2025-11-12 20:24:00 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-12 20:24:00 - app.main - INFO - startup_event:434 - ============================================================
2025-11-12 20:24:00 - app.main - INFO - startup_event:435 - MAS-FRO Backend Starting Up
2025-11-12 20:24:00 - app.main - INFO - startup_event:436 - ============================================================
2025-11-12 20:24:00 - app.main - INFO - startup_event:437 - Structured logging initialized - logs written to logs/masfro.log
2025-11-12 20:24:00 - app.main - INFO - startup_event:440 - Checking database connection...
2025-11-12 20:24:00 - app.database.connection - INFO - check_connection:92 - [OK] Database connection successful
2025-11-12 20:24:00 - app.main - INFO - startup_event:442 - Database connection successful
2025-11-12 20:24:00 - app.database.connection - INFO - init_db:76 - [OK] Database tables created successfully
2025-11-12 20:24:00 - app.main - INFO - startup_event:449 - Starting background scheduler...
2025-11-12 20:24:00 - app.services.flood_data_scheduler - INFO - start:265 - [OK] FloodDataScheduler started (interval=300s)
2025-11-12 20:24:00 - app.main - INFO - startup_event:453 - Automated flood data collection started (every 5 minutes)
2025-11-12 20:24:00 - app.services.flood_data_scheduler - INFO - _collection_loop:179 - FloodDataScheduler started
2025-11-12 20:24:00 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 20:24:01 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 4.9mm 24h forecast, intensity=none
2025-11-12 20:24:01 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 20:24:01 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 20:24:01 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 20:24:01 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 20:24:01 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 20:24:01 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 20:24:01 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 20:24:01 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 20:24:01 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 20:24:01 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:01 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:01 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:01 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 1 locations
2025-11-12 20:24:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 2 locations
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 3 locations
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 4 locations
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 5 locations
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 6 locations
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 7 locations
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 8 locations
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 9 locations
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 10 locations
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 11 locations
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 12 locations
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 13 locations
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 14 locations
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:06 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:06 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:06 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:06 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 20:24:06 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 5.61s
2025-11-12 20:24:06 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 1ec8589d-7509-4bd9-8a24-9d5433ec8db1 with 14 river stations
2025-11-12 20:24:06 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=1ec8589d-7509-4bd9-8a24-9d5433ec8db1
2025-11-12 20:24:06 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 20:24:06 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 20:28:25 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 1
2025-11-12 20:28:25 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 2
2025-11-12 20:28:25 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 3
2025-11-12 20:28:30 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 4
2025-11-12 20:29:06 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 20:29:06 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 20:29:06 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 20:29:06 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 20:29:06 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 20:29:06 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 20:29:06 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 4.9mm 24h forecast, intensity=none
2025-11-12 20:29:06 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 20:29:06 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 20:29:07 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 20:29:07 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 20:29:07 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 20:29:07 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 20:29:07 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 20:29:07 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 20:29:07 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 20:29:07 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:07 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:07 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:07 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:07 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:08 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 20:29:08 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:08 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:08 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:08 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 20:29:08 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:08 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:08 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:10 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 20:29:10 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:10 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:10 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:10 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 20:29:10 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:10 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:10 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:11 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 20:29:11 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:11 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:11 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:11 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 20:29:12 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:12 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:12 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 20:29:12 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:12 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:12 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:14 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 20:29:14 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:14 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:14 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:14 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 20:29:14 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 8.52s
2025-11-12 20:29:14 - app.database.repository - INFO - create_collection:104 - Saved flood data collection a308b42c-e022-4fa0-9f27-4abbcf8f9dc8 with 14 river stations
2025-11-12 20:29:14 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=a308b42c-e022-4fa0-9f27-4abbcf8f9dc8
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6094, type: <class 'str'>
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6094, type: <class 'str'>
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6094, type: <class 'str'>
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:29:14 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 20:29:14 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 20:29:14 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:29:06.390386", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:29:06.390386", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:29:06.390386", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:29:06.390386", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:29:06.390386", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 4.92, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.8, "humidity_pct": 84, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T20:00:00", "rain_mm": 0.0, "temp_c": 28.8, "humidity_pct": 84, "pop": 0}, {"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.48, "humidity_pct": 83, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.05, "humidity_pct": 83, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 27.5, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 26.9, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.16, "humidity_pct": 86, "pop": 0}], "timestamp": "2025-11-12T20:29:06.572371", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T20:29:14.773941", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 20:29:14 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6094, type: <class 'str'>
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:29:14 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 3
2025-11-12 20:29:14 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 20:29:14 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 20:29:14 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 20:30:32 - app.main - INFO - get_route:507 - Route request: (14.632850588665193, 121.08317709343379) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:30:32 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.632850588665193, 121.08317709343379) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:30:32 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 6773333505 to 32210237 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:30:32 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 60 nodes. Blocked 0 edges during search.
2025-11-12 20:30:32 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=1625m, risk=0.00
2025-11-12 20:30:43 - app.main - INFO - get_route:507 - Route request: (14.642154232149835, 121.08724640229883) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:30:43 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.642154232149835, 121.08724640229883) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:30:43 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 318616582 to 32210237 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:30:43 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 68 nodes. Blocked 0 edges during search.
2025-11-12 20:30:43 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=1423m, risk=0.00
2025-11-12 20:31:22 - app.main - INFO - get_route:507 - Route request: (14.642154232149835, 121.08724640229883) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:31:22 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.642154232149835, 121.08724640229883) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:31:22 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 318616582 to 32210237 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:31:22 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 68 nodes. Blocked 0 edges during search.
2025-11-12 20:31:22 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=1423m, risk=0.00
2025-11-12 20:32:01 - app.main - INFO - get_route:507 - Route request: (14.642154232149835, 121.08724640229883) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:32:01 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.642154232149835, 121.08724640229883) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:32:01 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 318616582 to 32210237 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:01 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 68 nodes. Blocked 0 edges during search.
2025-11-12 20:32:01 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=1423m, risk=0.00
2025-11-12 20:32:02 - app.main - INFO - get_route:507 - Route request: (14.642154232149835, 121.08724640229883) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:32:02 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.642154232149835, 121.08724640229883) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:32:02 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 318616582 to 32210237 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:02 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 68 nodes. Blocked 0 edges during search.
2025-11-12 20:32:02 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=1423m, risk=0.00
2025-11-12 20:32:08 - app.main - INFO - get_route:507 - Route request: (14.645062973471653, 121.09091600225071) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:32:08 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.645062973471653, 121.09091600225071) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:32:08 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 318616580 to 32210237 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:08 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 70 nodes. Blocked 0 edges during search.
2025-11-12 20:32:08 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=1531m, risk=0.00
2025-11-12 20:32:30 - app.main - INFO - get_route:507 - Route request: (14.63777480232011, 121.09795331953302) -> (14.642440445983851, 121.09974194281733)
2025-11-12 20:32:30 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.63777480232011, 121.09795331953302) -> (14.642440445983851, 121.09974194281733)
2025-11-12 20:32:30 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 21322195 to 21322197 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:30 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 11 nodes. Blocked 0 edges during search.
2025-11-12 20:32:30 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=683m, risk=0.00
2025-11-12 20:32:35 - app.main - INFO - get_route:507 - Route request: (14.63777480232011, 121.09795331953302) -> (14.642440445983851, 121.09974194281733)
2025-11-12 20:32:35 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.63777480232011, 121.09795331953302) -> (14.642440445983851, 121.09974194281733)
2025-11-12 20:32:35 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 21322195 to 21322197 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:35 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 11 nodes. Blocked 0 edges during search.
2025-11-12 20:32:35 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=683m, risk=0.00
2025-11-12 20:32:44 - app.main - INFO - get_route:507 - Route request: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:44 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:44 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 11481203584 to 21322197 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:44 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 16 nodes. Blocked 0 edges during search.
2025-11-12 20:32:44 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=905m, risk=0.00
2025-11-12 20:32:48 - app.main - INFO - get_route:507 - Route request: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:48 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:48 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 11481203584 to 21322197 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:48 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 16 nodes. Blocked 0 edges during search.
2025-11-12 20:32:48 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=905m, risk=0.00
2025-11-12 20:32:49 - app.main - INFO - get_route:507 - Route request: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:49 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:49 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 11481203584 to 21322197 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:49 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 16 nodes. Blocked 0 edges during search.
2025-11-12 20:32:49 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=905m, risk=0.00
2025-11-12 20:32:49 - app.main - INFO - get_route:507 - Route request: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:49 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:49 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 11481203584 to 21322197 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:49 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 16 nodes. Blocked 0 edges during search.
2025-11-12 20:32:49 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=905m, risk=0.00
2025-11-12 20:32:49 - app.main - INFO - get_route:507 - Route request: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:49 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:49 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 11481203584 to 21322197 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:49 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 16 nodes. Blocked 0 edges during search.
2025-11-12 20:32:49 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=905m, risk=0.00
2025-11-12 20:34:14 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 20:34:14 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 20:34:14 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 20:34:14 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 20:34:14 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 20:34:14 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 20:34:15 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 4.9mm 24h forecast, intensity=none
2025-11-12 20:34:15 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 20:34:15 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 20:34:16 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 20:34:16 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 20:34:16 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 20:34:16 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 20:34:16 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 20:34:16 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 20:34:16 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 20:34:16 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:16 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:16 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:16 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:16 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:18 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 20:34:18 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:18 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:18 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 20:34:18 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:18 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:19 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 20:34:19 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:19 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:19 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 20:34:19 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:19 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:21 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 20:34:21 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:21 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:21 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:21 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 20:34:21 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:21 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:21 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:22 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 20:34:22 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:22 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:22 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:22 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 20:34:22 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:22 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:22 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:23 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:23 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:23 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:23 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 20:34:23 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 8.53s
2025-11-12 20:34:23 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 0d1ee3aa-406a-46ef-9332-68924b3029b1 with 14 river stations
2025-11-12 20:34:23 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=0d1ee3aa-406a-46ef-9332-68924b3029b1
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:34:23 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 20:34:23 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 20:34:23 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 20:37:27 - app.main - INFO - get_route:507 - Route request: (14.655187948704992, 121.09218890763293) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:37:27 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.655187948704992, 121.09218890763293) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:37:27 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 875474757 to 21322197 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:37:27 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 114 nodes. Blocked 0 edges during search.
2025-11-12 20:37:27 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=3156m, risk=0.00
2025-11-12 20:37:46 - app.main - INFO - get_route:507 - Route request: (14.655187948704992, 121.09218890763293) -> (14.655273147099777, 121.09904711264363)
2025-11-12 20:37:46 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.655187948704992, 121.09218890763293) -> (14.655273147099777, 121.09904711264363)
2025-11-12 20:37:46 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 875474757 to 33120912 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:37:46 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 37 nodes. Blocked 0 edges during search.
2025-11-12 20:37:46 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=981m, risk=0.01
2025-11-12 20:37:52 - app.main - INFO - get_route:507 - Route request: (14.655736076733646, 121.09262977526254) -> (14.655273147099777, 121.09904711264363)
2025-11-12 20:37:52 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.655736076733646, 121.09262977526254) -> (14.655273147099777, 121.09904711264363)
2025-11-12 20:37:52 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 875474974 to 33120912 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:37:52 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 36 nodes. Blocked 0 edges during search.
2025-11-12 20:37:52 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=876m, risk=0.01
2025-11-12 20:38:00 - app.main - INFO - get_route:507 - Route request: (14.655877813989392, 121.09220169503607) -> (14.655273147099777, 121.09904711264363)
2025-11-12 20:38:00 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.655877813989392, 121.09220169503607) -> (14.655273147099777, 121.09904711264363)
2025-11-12 20:38:00 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 875474956 to 33120912 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:38:00 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 37 nodes. Blocked 0 edges during search.
2025-11-12 20:38:00 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=925m, risk=0.01
2025-11-12 20:39:23 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 20:39:23 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 20:39:23 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 20:39:23 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 20:39:23 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 20:39:23 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 20:39:23 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 4.9mm 24h forecast, intensity=none
2025-11-12 20:39:23 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 20:39:23 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 20:39:24 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 20:39:24 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 20:39:24 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 20:39:24 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 20:39:24 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 20:39:24 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 20:39:24 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 20:39:24 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:24 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:24 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:24 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:24 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:27 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 20:39:27 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:27 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:27 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:27 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 20:39:27 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:27 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:27 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:28 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 20:39:28 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:28 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:28 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:28 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 20:39:28 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:28 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:28 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:29 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 20:39:29 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:29 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:29 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:29 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 20:39:29 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:29 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:29 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:31 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:31 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:31 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:31 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 20:39:31 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 7.99s
2025-11-12 20:39:31 - app.database.repository - INFO - create_collection:104 - Saved flood data collection eb6a2a96-2483-45e9-8409-a78df02f307c with 14 river stations
2025-11-12 20:39:31 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=eb6a2a96-2483-45e9-8409-a78df02f307c
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:39:31 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 20:39:31 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 20:39:31 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 20:40:06 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 4
2025-11-12 20:40:06 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 5
2025-11-12 20:40:11 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 6
2025-11-12 20:44:31 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 20:44:31 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 20:44:31 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 20:44:31 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 20:44:31 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 20:44:31 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 20:44:31 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 4.9mm 24h forecast, intensity=none
2025-11-12 20:44:31 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 20:44:31 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 20:44:32 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 20:44:32 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 20:44:32 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 20:44:32 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 20:44:32 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 20:44:32 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 20:44:32 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 20:44:32 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:32 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:32 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:32 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:32 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:33 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 20:44:33 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:33 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:33 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 20:44:33 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:33 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:34 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 20:44:34 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:34 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:34 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 20:44:34 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:34 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:35 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 20:44:35 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:35 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:35 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:35 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 20:44:35 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:35 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:35 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:36 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 20:44:36 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:36 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:36 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:36 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 20:44:36 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:36 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:36 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:37 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 20:44:37 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:37 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:37 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:37 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 20:44:37 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:37 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:37 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:39 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 20:44:39 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:39 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:39 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:39 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 20:44:39 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 8.45s
2025-11-12 20:44:39 - app.database.repository - INFO - create_collection:104 - Saved flood data collection f970f276-9156-4daf-8265-9642273a50ca with 14 river stations
2025-11-12 20:44:39 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=f970f276-9156-4daf-8265-9642273a50ca
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:44:39 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 20:44:39 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 20:44:39 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:44:31.545515", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:44:31.545515", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:44:31.545515", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:44:31.545515", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:44:31.545515", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 4.92, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.67, "humidity_pct": 84, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T20:00:00", "rain_mm": 0.0, "temp_c": 28.42, "humidity_pct": 83, "pop": 0}, {"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.67, "humidity_pct": 84, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.32, "humidity_pct": 83, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 27.85, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.32, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.46, "humidity_pct": 86, "pop": 0}], "timestamp": "2025-11-12T20:44:31.719593", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T20:44:39.893211", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 20:44:39 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:44:39 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 5
2025-11-12 20:44:39 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 5 clients
2025-11-12 20:44:39 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 20:44:39 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 20:47:22 - app.main - INFO - get_route:507 - Route request: (14.656499917802734, 121.0938021747009) -> (14.655098402947672, 121.09934941736373)
2025-11-12 20:47:22 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.656499917802734, 121.0938021747009) -> (14.655098402947672, 121.09934941736373)
2025-11-12 20:47:22 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 317496239 to 12206558412 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:47:22 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 26 nodes. Blocked 0 edges during search.
2025-11-12 20:47:22 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=681m, risk=0.01
2025-11-12 20:48:50 - app.main - INFO - get_route:507 - Route request: (14.65530351656524, 121.0990326002763) -> (14.658309296109394, 121.10108030234699)
2025-11-12 20:48:50 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.65530351656524, 121.0990326002763) -> (14.658309296109394, 121.10108030234699)
2025-11-12 20:48:50 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 33120912 to 10789370050 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:48:50 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 29 nodes. Blocked 0 edges during search.
2025-11-12 20:48:50 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=535m, risk=0.02
2025-11-12 20:49:39 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 20:49:39 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 20:49:39 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 20:49:40 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 20:49:40 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 20:49:40 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 20:49:40 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 4.9mm 24h forecast, intensity=none
2025-11-12 20:49:40 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 20:49:40 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 20:49:41 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 20:49:41 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 20:49:41 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 20:49:41 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 20:49:41 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 20:49:41 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 20:49:41 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 20:49:41 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:41 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:41 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:41 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:41 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:41 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:42 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 20:49:42 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:42 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:42 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 20:49:42 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:42 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:43 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 20:49:43 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:43 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:43 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 20:49:43 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:43 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:44 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 20:49:44 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:44 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:44 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 20:49:44 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:44 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:45 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 20:49:45 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:45 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:45 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:45 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 20:49:45 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:45 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:45 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:47 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 20:49:47 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:47 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:47 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:47 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 20:49:47 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:47 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:47 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:48 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 20:49:48 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:48 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:48 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:48 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:48 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 20:49:48 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 8.88s
2025-11-12 20:49:48 - app.database.repository - INFO - create_collection:104 - Saved flood data collection e1604fbd-441c-4ecf-9e34-b442b0a2da25 with 14 river stations
2025-11-12 20:49:48 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=e1604fbd-441c-4ecf-9e34-b442b0a2da25
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:49:48 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 5 clients
2025-11-12 20:49:48 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 20:49:48 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 20:50:58 - app.main - INFO - get_route:507 - Route request: (14.65530351656524, 121.0990326002763) -> (14.658309296109394, 121.10108030234699)
2025-11-12 20:50:58 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.65530351656524, 121.0990326002763) -> (14.658309296109394, 121.10108030234699)
2025-11-12 20:50:58 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 33120912 to 10789370050 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:50:58 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 29 nodes. Blocked 0 edges during search.
2025-11-12 20:50:58 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=535m, risk=0.02
2025-11-12 20:54:48 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 20:54:48 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 20:54:48 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 20:54:48 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 20:54:48 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 20:54:48 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 20:54:49 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 4.9mm 24h forecast, intensity=none
2025-11-12 20:54:49 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 20:54:49 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 20:54:50 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 20:54:50 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 20:54:50 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 20:54:50 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 20:54:50 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 20:54:50 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:50 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:50 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:50 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 20:54:50 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:50 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:50 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:52 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 20:54:52 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:52 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:52 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:52 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 20:54:52 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:52 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:52 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:53 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 20:54:53 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:53 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:53 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:53 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 20:54:53 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:53 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:53 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:54 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 20:54:54 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:54 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:54 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 20:54:54 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:54 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:55 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 20:54:55 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:55 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:55 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:57 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:57 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:57 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 20:54:57 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 8.62s
2025-11-12 20:54:57 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 7bbd1233-333b-42ec-ad1f-c18c00a775be with 14 river stations
2025-11-12 20:54:57 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=7bbd1233-333b-42ec-ad1f-c18c00a775be
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:54:57 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 5 clients
2025-11-12 20:54:57 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 20:54:57 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 20:59:57 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 20:59:57 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 20:59:57 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 20:59:57 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 20:59:57 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 20:59:57 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 20:59:57 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 4.9mm 24h forecast, intensity=none
2025-11-12 20:59:57 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 20:59:57 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 20:59:58 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 20:59:58 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 20:59:58 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 20:59:58 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 20:59:58 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 20:59:58 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 20:59:58 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 20:59:58 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:59:58 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:59:58 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:59:58 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:59:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:59:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:59:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:59:59 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 20:59:59 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:59:59 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:59:59 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:59:59 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 20:59:59 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:59:59 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:59:59 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:01 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:00:01 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:01 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:01 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:00:01 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:01 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:02 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:00:02 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:02 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:02 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:00:02 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:02 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:03 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 21:00:03 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:03 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:03 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:00:03 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:03 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:05 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:05 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:05 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:00:05 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 7.83s
2025-11-12 21:00:05 - app.database.repository - INFO - create_collection:104 - Saved flood data collection a737b3c6-8df6-4115-adb9-bdec8be63680 with 14 river stations
2025-11-12 21:00:05 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=a737b3c6-8df6-4115-adb9-bdec8be63680
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:00:05 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 5 clients
2025-11-12 21:00:05 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:00:05 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 21:05:05 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 21:05:05 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 21:05:05 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 21:05:05 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 21:05:05 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 21:05:05 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 21:05:05 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 21:05:05 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 21:05:05 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 21:05:06 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 21:05:06 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 21:05:06 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 21:05:06 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 21:05:06 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 21:05:06 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 21:05:06 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 21:05:06 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:06 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:06 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:06 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:06 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:06 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:06 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:08 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:05:08 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:08 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:08 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:08 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:05:08 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:08 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:08 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:11 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:05:11 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:11 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:11 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:11 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:05:11 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:11 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:11 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:12 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:05:12 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 7.54s
2025-11-12 21:05:12 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 3f8a67d7-4f7a-4caa-a382-75b780f6e927 with 14 river stations
2025-11-12 21:05:12 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=3f8a67d7-4f7a-4caa-a382-75b780f6e927
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:05:12 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 5 clients
2025-11-12 21:05:12 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:05:12 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 21:10:12 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 21:10:12 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 21:10:12 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 21:10:13 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 21:10:13 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 21:10:13 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 21:10:13 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 21:10:13 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 21:10:13 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 21:10:14 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 21:10:14 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 21:10:14 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 21:10:14 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 21:10:14 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 21:10:14 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:14 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:14 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 21:10:14 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:14 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:15 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 21:10:15 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:15 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:15 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:15 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:10:15 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:15 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:15 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:17 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:10:17 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:17 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:17 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:10:17 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:17 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:18 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:10:18 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:18 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:18 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 21:10:18 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:18 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:19 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:10:19 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:19 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:19 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:10:19 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:19 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:20 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:10:20 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:20 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:20 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:10:20 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:20 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:21 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:21 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:21 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:21 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:10:21 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 8.19s
2025-11-12 21:10:21 - app.database.repository - INFO - create_collection:104 - Saved flood data collection e36a2905-d182-470d-8961-a02db34f4b53 with 14 river stations
2025-11-12 21:10:21 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=e36a2905-d182-470d-8961-a02db34f4b53
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:10:21 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 5 clients
2025-11-12 21:10:21 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:10:21 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 21:15:21 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 21:15:21 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 21:15:21 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 21:15:21 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 21:15:21 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 21:15:21 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 21:15:21 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 21:15:21 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 21:15:21 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 21:15:22 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 21:15:22 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 21:15:22 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 21:15:22 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 21:15:22 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 21:15:22 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:22 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:22 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:22 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 21:15:22 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:22 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:22 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:23 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 21:15:23 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:23 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:23 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:23 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:15:23 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:23 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:23 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:24 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:15:24 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:24 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:24 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:24 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:15:24 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:24 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:24 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:24 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:15:24 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:24 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:24 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:25 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:15:25 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:25 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:25 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:25 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:15:25 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:25 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:25 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:26 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:15:26 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:26 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:26 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 21:15:26 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:26 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:26 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:15:26 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:26 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:27 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:15:27 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:27 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:27 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:27 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:15:27 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:27 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:27 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:28 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:28 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:28 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:28 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:15:28 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 21:15:28 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:28 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:28 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:28 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:28 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:28 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:28 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:28 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:28 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:15:28 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 7.49s
2025-11-12 21:15:28 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 3c63d46f-bcad-4c30-bc05-04e72b50f415 with 14 river stations
2025-11-12 21:15:28 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=3c63d46f-bcad-4c30-bc05-04e72b50f415
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:15:28 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 5 clients
2025-11-12 21:15:28 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:15:28 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 21:20:28 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 21:20:28 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 21:20:28 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 21:20:29 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 21:20:29 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 21:20:29 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 21:20:29 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 21:20:29 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 21:20:29 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 21:20:30 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 21:20:30 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 21:20:30 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 21:20:30 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 21:20:30 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 21:20:30 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:30 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:30 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:30 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 21:20:30 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:30 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:30 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:30 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 21:20:30 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:30 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:30 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:31 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:20:31 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:31 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:31 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:31 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:20:31 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:31 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:31 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:32 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:20:32 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:32 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:32 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:32 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:20:32 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:32 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:32 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:32 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:20:32 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:32 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:32 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:33 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:20:33 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:33 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:33 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:20:33 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:33 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:34 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 21:20:34 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:34 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:34 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:20:34 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:34 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:34 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:20:34 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:34 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:35 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:20:35 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:35 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:35 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:35 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:20:35 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:35 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:35 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:35 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:35 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:20:35 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 7.28s
2025-11-12 21:20:35 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 24253ca9-1a64-4989-ab86-db4cedd3079d with 14 river stations
2025-11-12 21:20:35 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=24253ca9-1a64-4989-ab86-db4cedd3079d
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:20:35 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 5 clients
2025-11-12 21:20:35 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:20:35 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 21:25:35 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 21:25:35 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 21:25:35 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 21:25:36 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 21:25:36 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 21:25:36 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 21:25:36 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 21:25:36 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 21:25:36 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 21:25:37 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 21:25:37 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 21:25:37 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 21:25:37 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 21:25:37 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 21:25:37 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 21:25:37 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 21:25:37 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:37 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:37 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:37 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:37 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:38 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 21:25:38 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:38 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:38 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 21:25:38 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:38 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:38 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:25:39 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:39 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:39 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:25:39 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:39 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:39 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:25:39 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:39 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:40 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:25:40 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:40 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:40 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:40 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:25:40 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:40 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:40 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:41 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:25:41 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:41 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:41 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:41 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:25:41 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:41 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:41 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:42 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 21:25:42 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:42 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:42 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:25:42 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:42 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:43 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:25:43 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:43 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:43 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:25:43 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:43 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:43 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:44 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:44 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:25:44 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 21:25:44 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:44 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:44 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:44 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:44 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:44 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:44 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:25:44 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 8.46s
2025-11-12 21:25:44 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 8da1097d-e890-4145-832d-f8e105fd472c with 14 river stations
2025-11-12 21:25:44 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=8da1097d-e890-4145-832d-f8e105fd472c
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:25:44 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 5 clients
2025-11-12 21:25:44 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:25:44 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 21:30:44 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 21:30:44 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 21:30:44 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 21:30:44 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 21:30:44 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 21:30:44 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 21:30:44 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 21:30:44 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 21:30:44 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 21:30:45 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 21:30:45 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 21:30:45 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 21:30:45 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 21:30:45 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 21:30:45 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 21:30:45 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 21:30:45 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:45 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:45 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:45 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:45 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:46 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 21:30:46 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:46 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:46 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 21:30:46 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:46 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:47 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:30:47 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:47 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:47 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:47 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:30:47 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:47 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:47 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:48 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:30:48 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:48 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:48 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:48 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:30:48 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:48 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:48 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:48 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:30:48 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:48 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:48 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:49 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:30:49 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:49 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:49 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:49 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:30:49 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:49 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:49 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:50 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 21:30:50 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:50 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:50 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:50 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:30:50 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:50 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:50 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:51 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:30:51 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:51 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:51 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:51 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:30:51 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:51 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:51 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:52 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:52 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:52 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:52 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:30:52 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 21:30:52 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:52 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:52 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:52 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:52 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:52 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:52 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:52 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:52 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:30:52 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 8.03s
2025-11-12 21:30:52 - app.database.repository - INFO - create_collection:104 - Saved flood data collection c3d55797-873b-4f23-b4e6-bbf316735c31 with 14 river stations
2025-11-12 21:30:52 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=c3d55797-873b-4f23-b4e6-bbf316735c31
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:30:52 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 5 clients
2025-11-12 21:30:52 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:30:52 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 21:35:36 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 6
2025-11-12 21:35:36 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 7
2025-11-12 21:35:36 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 8
2025-11-12 21:35:41 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 9
2025-11-12 21:35:52 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 21:35:52 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 21:35:52 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 21:35:52 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 21:35:52 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 21:35:52 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 21:35:52 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 21:35:52 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 21:35:52 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 21:35:53 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 21:35:53 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 21:35:53 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 21:35:53 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 21:35:53 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 21:35:53 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 21:35:53 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 21:35:53 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:53 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:53 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:53 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:53 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:54 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 21:35:54 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:54 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:54 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 21:35:54 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:54 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:55 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:35:55 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:55 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:55 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:35:55 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:55 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:55 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:35:55 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:55 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:56 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:35:56 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:56 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:56 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:35:56 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:56 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:57 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:35:57 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:57 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:57 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:35:57 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:57 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:58 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 21:35:58 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:58 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:58 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:35:58 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:58 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:58 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:35:58 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:58 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:59 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:35:59 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:59 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:59 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:59 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:35:59 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:59 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:59 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:36:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:36:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:36:00 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:36:00 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:36:00 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:36:00 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 7.82s
2025-11-12 21:36:00 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 06ec48ab-208e-43ff-8cf6-0d1d92fed45a with 14 river stations
2025-11-12 21:36:00 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=06ec48ab-208e-43ff-8cf6-0d1d92fed45a
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:36:00 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:36:00 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:36:00 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 85, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 84, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:35:52.851042", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:36:00.364605", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:36:00 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:36:00 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:36:00 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:36:00 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 85, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 84, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:35:52.851042", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:36:00.364605", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:36:00 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:36:00 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:36:00 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:36:00 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 85, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 84, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:35:52.851042", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:36:00.364605", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:36:00 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:36:00 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:36:00 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:36:00 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 85, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 84, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:35:52.851042", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:36:00.364605", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:36:00 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:36:00 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:36:00 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:36:00 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 85, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 84, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:35:52.851042", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:36:00.364605", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:36:00 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:36:00 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:36:00 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:36:00 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 85, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 84, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:35:52.851042", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:36:00.364605", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:36:00 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 8
2025-11-12 21:36:00 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 7
2025-11-12 21:36:00 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 6
2025-11-12 21:36:00 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 5
2025-11-12 21:36:00 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 4
2025-11-12 21:36:00 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 3
2025-11-12 21:36:00 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 21:36:00 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:36:00 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 21:39:36 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 4
2025-11-12 21:39:37 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 5
2025-11-12 21:39:37 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 6
2025-11-12 21:39:42 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 7
2025-11-12 21:40:12 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 8
2025-11-12 21:40:12 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 9
2025-11-12 21:40:12 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 10
2025-11-12 21:40:17 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 11
2025-11-12 21:41:00 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 21:41:00 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 21:41:00 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 21:41:00 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 21:41:00 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 21:41:00 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 21:41:00 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 21:41:00 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 21:41:00 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 21:41:01 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 21:41:01 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 21:41:01 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 21:41:01 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 21:41:01 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 21:41:01 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 21:41:01 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 21:41:01 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:01 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:01 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:01 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:02 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 21:41:02 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:02 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:02 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 21:41:02 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:02 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:03 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:41:03 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:03 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:03 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:41:03 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:03 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:04 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:41:04 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:04 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:04 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:41:04 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:04 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:05 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:41:05 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:05 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:05 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:05 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:41:05 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:05 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:05 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:06 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:41:06 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:06 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:06 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:06 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 21:41:06 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:06 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:06 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:07 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:07 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:07 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:07 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:41:07 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 21:41:07 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:07 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:07 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:07 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:07 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:07 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:07 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:07 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:41:08 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:08 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:08 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:08 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:41:08 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:08 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:08 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:09 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:09 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:09 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:41:09 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 21:41:09 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:09 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:09 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:09 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:09 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:09 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:09 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:41:09 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 9.17s
2025-11-12 21:41:09 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 677246be-6052-4519-9238-8c0b069c597e with 14 river stations
2025-11-12 21:41:09 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=677246be-6052-4519-9238-8c0b069c597e
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:41:09 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:41:09 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:41:09 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 86, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:41:00.737436", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:41:09.598343", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:41:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:41:09 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:41:09 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:41:09 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 86, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:41:00.737436", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:41:09.598343", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:41:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:41:09 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:41:09 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:41:09 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 86, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:41:00.737436", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:41:09.598343", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:41:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:41:09 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:41:09 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:41:09 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 86, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:41:00.737436", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:41:09.598343", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:41:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:41:09 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:41:09 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:41:09 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 86, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:41:00.737436", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:41:09.598343", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:41:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:41:09 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:41:09 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:41:09 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 86, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:41:00.737436", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:41:09.598343", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:41:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:41:09 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:41:09 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:41:09 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 86, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:41:00.737436", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:41:09.598343", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:41:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:41:09 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:41:09 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:41:09 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 86, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:41:00.737436", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:41:09.598343", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:41:09 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 10
2025-11-12 21:41:09 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 9
2025-11-12 21:41:09 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 8
2025-11-12 21:41:09 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 7
2025-11-12 21:41:09 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 6
2025-11-12 21:41:09 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 5
2025-11-12 21:41:09 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 4
2025-11-12 21:41:09 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 3
2025-11-12 21:41:09 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 21:41:09 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:41:09 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 21:41:15 - app.main - INFO - get_route:507 - Route request: (14.635755878309041, 121.089376798165) -> (14.64869770407337, 121.09767556911231)
2025-11-12 21:41:15 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.635755878309041, 121.089376798165) -> (14.64869770407337, 121.09767556911231)
2025-11-12 21:41:15 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 949366039 to 32085112 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 21:41:15 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 91 nodes. Blocked 0 edges during search.
2025-11-12 21:41:15 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=2078m, risk=0.00
2025-11-12 21:46:09 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 21:46:09 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 21:46:09 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 21:46:09 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 21:46:09 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 21:46:09 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 21:46:09 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 21:46:09 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 21:46:09 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 21:46:11 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 21:46:11 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 21:46:11 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 21:46:11 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 21:46:11 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 21:46:11 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:11 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:11 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:11 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 21:46:11 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:11 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:11 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:12 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 21:46:12 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:12 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:12 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:46:12 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:12 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:13 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:46:13 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:13 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:13 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:46:13 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:13 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:14 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:46:14 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:14 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:14 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:46:14 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:14 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:15 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:46:15 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:15 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:15 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:15 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:46:15 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:15 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:15 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:16 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 21:46:16 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:16 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:16 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:46:16 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:16 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:17 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:46:17 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:17 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:17 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:46:17 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:17 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:18 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:18 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:18 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:46:18 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 21:46:18 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:18 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:18 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:18 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:18 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:18 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:18 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:46:18 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 9.20s
2025-11-12 21:46:18 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 40ffe318-1c19-4ae8-8848-808d6e841ffb with 14 river stations
2025-11-12 21:46:18 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=40ffe318-1c19-4ae8-8848-808d6e841ffb
2025-11-12 21:46:18 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:46:18 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 21:46:18 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:46:18 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:46:18 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 21:46:18 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:46:18 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:46:18 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 21:46:18 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:46:18 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:46:18 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 21:46:18 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:46:18 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 21:51:18 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 21:51:18 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 21:51:18 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 21:51:19 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 21:51:19 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 21:51:19 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 21:51:19 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 21:51:19 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 21:51:19 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 21:51:20 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 21:51:20 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 21:51:20 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 21:51:20 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 21:51:20 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 21:51:20 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 21:51:20 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 21:51:20 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:20 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:20 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:20 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:21 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 21:51:21 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:21 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:21 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:21 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 21:51:21 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:21 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:21 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:22 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:51:22 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:22 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:22 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:22 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:51:22 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:22 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:22 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:23 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:23 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:23 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:23 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:51:23 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 21:51:23 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:23 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:23 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:23 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:23 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:24 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:51:24 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:24 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:24 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:24 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:51:24 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:24 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:24 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:25 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:51:25 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:25 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:25 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:25 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:51:25 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:25 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:25 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:26 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 21:51:26 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:26 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:26 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:51:26 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:26 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:27 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:51:27 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:27 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:27 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:27 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:51:27 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:27 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:27 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:28 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:28 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:28 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:28 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:51:28 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 21:51:28 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:28 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:28 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:28 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:28 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:29 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:29 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:29 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:29 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:51:29 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 10.15s
2025-11-12 21:51:29 - app.database.repository - INFO - create_collection:104 - Saved flood data collection db82644f-4d05-48bf-ba34-13ba975159dc with 14 river stations
2025-11-12 21:51:29 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=db82644f-4d05-48bf-ba34-13ba975159dc
2025-11-12 21:51:29 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:51:29 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 21:51:29 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:51:29 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:51:29 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 21:51:29 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:51:29 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:51:29 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 21:51:29 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:51:29 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:51:29 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 21:51:29 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:51:29 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 21:51:51 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-12 21:51:51 - app.main - INFO - <module>:377 - Initializing MAS-FRO Multi-Agent System...
2025-11-12 21:51:52 - app.communication.message_queue - INFO - __init__:46 - MessageQueue system initialized
2025-11-12 21:51:52 - app.agents.hazard_agent_001 - INFO - __init__:36 - Agent hazard_agent_001 created
2025-11-12 21:51:52 - app.agents.hazard_agent - INFO - __init__:108 - hazard_agent_001 GeoTIFF integration DISABLED
2025-11-12 21:51:52 - app.agents.hazard_agent - INFO - __init__:117 - hazard_agent_001 initialized with risk weights: {'flood_depth': 0.5, 'crowdsourced': 0.3, 'historical': 0.2}, return_period: rr01, time_step: 1, geotiff_enabled: False
2025-11-12 21:51:52 - app.agents.flood_agent_001 - INFO - __init__:36 - Agent flood_agent_001 created
2025-11-12 21:51:52 - app.agents.flood_agent - INFO - __init__:106 - flood_agent_001 initialized RiverScraperService
2025-11-12 21:51:52 - app.agents.flood_agent - INFO - __init__:114 - flood_agent_001 initialized OpenWeatherMapService
2025-11-12 21:51:52 - services.dam_water_scraper_service - INFO - __init__:164 - DamWaterScraperService initialized
2025-11-12 21:51:52 - app.agents.flood_agent - INFO - __init__:125 - flood_agent_001 initialized DamWaterScraperService
2025-11-12 21:51:52 - services.data_sources - INFO - __init__:309 - DataCollector initialized: simulated=False, pagasa=False, noah=False, mmda=False
2025-11-12 21:51:52 - app.agents.flood_agent - INFO - __init__:153 - flood_agent_001 initialized with update interval 300s, real_apis=True, simulated=False
2025-11-12 21:51:52 - app.agents.routing_agent_001 - INFO - __init__:36 - Agent routing_agent_001 created
2025-11-12 21:51:52 - app.agents.routing_agent - INFO - _load_evacuation_centers:402 - Loaded 36 evacuation centers from C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\data\evacuation_centers.csv
2025-11-12 21:51:52 - app.agents.routing_agent - INFO - __init__:71 - routing_agent_001 initialized with risk_weight=0.6, distance_weight=0.4, evacuation_centers=36
2025-11-12 21:51:52 - app.agents.evac_manager_001 - INFO - __init__:36 - Agent evac_manager_001 created
2025-11-12 21:51:52 - app.agents.evacuation_manager_agent - INFO - __init__:90 - evac_manager_001 initialized
2025-11-12 21:51:52 - app.agents.flood_agent - INFO - set_hazard_agent:167 - flood_agent_001 linked to hazard_agent_001
2025-11-12 21:51:52 - app.agents.evacuation_manager_agent - INFO - set_hazard_agent:126 - evac_manager_001 linked to hazard_agent_001
2025-11-12 21:51:52 - app.agents.evacuation_manager_agent - INFO - set_routing_agent:116 - evac_manager_001 linked to routing_agent_001
2025-11-12 21:51:52 - app.services.flood_data_scheduler - INFO - __init__:71 - FloodDataScheduler initialized with interval=300s (5.0 minutes), WebSocket broadcasting=enabled
2025-11-12 21:51:52 - app.main - INFO - <module>:425 - MAS-FRO system initialized successfully
2025-11-12 21:51:52 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-12 21:51:52 - app.main - INFO - startup_event:434 - ============================================================
2025-11-12 21:51:52 - app.main - INFO - startup_event:435 - MAS-FRO Backend Starting Up
2025-11-12 21:51:52 - app.main - INFO - startup_event:436 - ============================================================
2025-11-12 21:51:52 - app.main - INFO - startup_event:437 - Structured logging initialized - logs written to logs/masfro.log
2025-11-12 21:51:52 - app.main - INFO - startup_event:440 - Checking database connection...
2025-11-12 21:51:52 - app.database.connection - INFO - check_connection:92 - [OK] Database connection successful
2025-11-12 21:51:52 - app.main - INFO - startup_event:442 - Database connection successful
2025-11-12 21:51:52 - app.database.connection - INFO - init_db:76 - [OK] Database tables created successfully
2025-11-12 21:51:52 - app.main - INFO - startup_event:449 - Starting background scheduler...
2025-11-12 21:51:52 - app.services.flood_data_scheduler - INFO - start:265 - [OK] FloodDataScheduler started (interval=300s)
2025-11-12 21:51:52 - app.main - INFO - startup_event:453 - Automated flood data collection started (every 5 minutes)
2025-11-12 21:51:52 - app.services.flood_data_scheduler - INFO - _collection_loop:179 - FloodDataScheduler started
2025-11-12 21:51:52 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 21:51:52 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 21:51:52 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 21:51:52 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 21:51:52 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 21:51:52 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 21:51:52 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 1
2025-11-12 21:51:52 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 2
2025-11-12 21:51:52 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 21:51:52 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 21:51:52 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 21:51:54 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 21:51:54 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 21:51:54 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 21:51:54 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 21:51:54 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 1 locations
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 2 locations
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 3 locations
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 4 locations
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 5 locations
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 6 locations
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 7 locations
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 8 locations
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 9 locations
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:55 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 3
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 10 locations
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 11 locations
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 12 locations
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 13 locations
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:56 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:51:56 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:56 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 14 locations
2025-11-12 21:51:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:56 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:51:56 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:56 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:51:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:56 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:56 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:51:56 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 4.37s
2025-11-12 21:51:56 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 8dfb2ab1-e143-4c85-b928-ebaa27426e3a with 14 river stations
2025-11-12 21:51:56 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=8dfb2ab1-e143-4c85-b928-ebaa27426e3a
2025-11-12 21:51:56 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:51:56 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 21:51:56 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:51:56 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:51:56 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 21:51:56 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:51:56 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:51:56 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 21:51:56 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:51:56 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:51:56 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 21:51:56 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:51:56 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 21:54:38 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 4
2025-11-12 21:54:38 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 5
2025-11-12 21:54:38 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 6
2025-11-12 21:54:43 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 7
2025-11-12 21:56:56 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 21:56:56 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 21:56:56 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 21:56:57 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 21:56:57 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 21:56:57 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 21:56:57 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 21:56:57 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 21:56:57 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 21:56:58 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 21:56:58 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 21:56:58 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 21:56:58 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 21:56:58 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-12 21:56:58 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:56:58 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:56:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:56:58 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-12 21:56:58 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:56:58 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:56:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:56:58 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 21:56:58 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:56:58 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:56:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:56:59 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:56:59 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:56:59 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:56:59 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:56:59 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:56:59 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:56:59 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:56:59 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:56:59 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:56:59 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:56:59 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:56:59 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:57:00 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:57:00 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:57:00 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:57:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:57:00 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:57:00 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:57:00 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:57:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:57:00 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:57:00 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:57:00 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:57:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:57:01 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:57:01 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:57:01 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:57:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:57:01 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-12 21:57:01 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:57:01 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:57:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:57:01 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:57:01 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:57:01 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:57:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:57:02 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:57:02 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:57:02 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:57:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:57:02 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:57:02 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:57:02 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:57:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:57:02 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:57:02 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:57:02 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:57:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:57:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:57:03 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:57:03 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:57:03 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:57:03 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 6.22s
2025-11-12 21:57:03 - app.database.repository - INFO - create_collection:104 - Saved flood data collection c04434eb-2dc7-4d09-96ff-c951718272ad with 14 river stations
2025-11-12 21:57:03 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=c04434eb-2dc7-4d09-96ff-c951718272ad
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:57:03 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:57:03 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:57:03 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.26, "humidity_pct": 86, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.05, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.26, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 27.93, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.52, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.6, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 26.92, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:56:57.253344", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:57:03.173664", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:57:03 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:57:03 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:57:03 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:57:03 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.26, "humidity_pct": 86, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.05, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.26, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 27.93, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.52, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.6, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 26.92, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:56:57.253344", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:57:03.173664", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:57:03 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:57:03 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:57:03 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:57:03 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.26, "humidity_pct": 86, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.05, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.26, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 27.93, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.52, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.6, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 26.92, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:56:57.253344", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:57:03.173664", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:57:03 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:57:03 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:57:03 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:57:03 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.26, "humidity_pct": 86, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.05, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.26, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 27.93, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.52, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.6, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 26.92, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:56:57.253344", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:57:03.173664", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:57:03 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 6
2025-11-12 21:57:03 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 5
2025-11-12 21:57:03 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 4
2025-11-12 21:57:03 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 3
2025-11-12 21:57:03 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 21:57:03 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:57:03 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 22:02:03 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 22:02:03 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 22:02:03 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 22:02:03 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 22:02:03 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 22:02:03 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 22:02:03 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 22:02:03 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 22:02:03 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 22:02:05 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 22:02:05 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 22:02:05 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 22:02:05 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 22:02:05 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 22:02:05 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-12 22:02:05 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-12 22:02:05 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:05 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:05 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:05 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:05 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:05 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:05 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:05 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-12 22:02:05 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-12 22:02:05 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:05 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:05 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:05 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:05 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:07 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 22:02:07 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:07 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:07 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:07 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-12 22:02:07 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:07 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:07 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:07 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-12 22:02:07 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:07 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:07 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:08 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 22:02:08 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:08 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:08 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:08 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-12 22:02:08 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:08 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:08 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:08 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-12 22:02:08 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:08 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:08 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:09 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 22:02:09 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:09 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:09 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 22:02:09 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:09 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:09 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 22:02:09 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:09 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:09 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:09 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 22:02:09 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 6.70s
2025-11-12 22:02:09 - app.database.repository - INFO - create_collection:104 - Saved flood data collection be10e130-ba27-4c69-806c-000e9f8110d5 with 14 river stations
2025-11-12 22:02:09 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=be10e130-ba27-4c69-806c-000e9f8110d5
2025-11-12 22:02:09 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 22:02:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:02:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:02:09 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:02:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:02:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:02:09 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:02:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:02:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:02:09 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:02:09 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 22:02:09 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 22:02:09 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 22:07:09 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 22:07:09 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 22:07:09 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 22:07:10 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 22:07:10 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 22:07:10 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 22:07:10 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 22:07:10 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 22:07:10 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 22:07:11 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 22:07:11 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 22:07:11 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 22:07:11 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 22:07:11 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-12 22:07:11 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:11 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:11 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:11 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-12 22:07:11 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:11 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:11 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:11 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 22:07:11 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:11 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:11 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:12 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 22:07:12 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:12 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:12 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 22:07:12 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:12 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:12 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 22:07:12 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:12 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:15 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:15 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:15 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:15 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 22:07:15 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-12 22:07:15 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:15 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:15 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:15 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:15 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:15 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:15 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:15 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:15 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 22:07:15 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 5.58s
2025-11-12 22:07:15 - app.database.repository - INFO - create_collection:104 - Saved flood data collection b13c515d-0139-4c67-8321-9d9adcc1b61c with 14 river stations
2025-11-12 22:07:15 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=b13c515d-0139-4c67-8321-9d9adcc1b61c
2025-11-12 22:07:15 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 22:07:15 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:07:15 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:07:15 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:07:15 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:07:15 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:07:15 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:07:15 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:07:15 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:07:15 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:07:15 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 22:07:15 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 22:07:15 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 22:12:15 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 22:12:15 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 22:12:15 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 22:12:15 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 22:12:15 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 22:12:15 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 22:12:15 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 22:12:15 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 22:12:15 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 22:12:17 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 22:12:17 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 22:12:17 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 22:12:17 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 22:12:17 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:18 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 22:12:18 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:18 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:18 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 22:12:18 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:18 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:18 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 22:12:18 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:18 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:19 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-12 22:12:19 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:19 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:19 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-12 22:12:19 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:19 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:19 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 22:12:19 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:19 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:20 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-12 22:12:20 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:20 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:20 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-12 22:12:20 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:20 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:20 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 22:12:20 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:20 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:21 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 22:12:21 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:21 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:21 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:21 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 22:12:21 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:21 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:21 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:22 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:22 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:22 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:22 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 22:12:22 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 6.45s
2025-11-12 22:12:22 - app.database.repository - INFO - create_collection:104 - Saved flood data collection ae958ac4-c72e-4b97-84ec-a5d033a57a93 with 14 river stations
2025-11-12 22:12:22 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=ae958ac4-c72e-4b97-84ec-a5d033a57a93
2025-11-12 22:12:22 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 22:12:22 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:12:22 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:12:22 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:12:22 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:12:22 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:12:22 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:12:22 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:12:22 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:12:22 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:12:22 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 22:12:22 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 22:12:22 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 22:17:22 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 22:17:22 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 22:17:22 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 22:17:22 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 22:17:22 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 22:17:22 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 22:17:22 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 22:17:22 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 22:17:22 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 22:17:23 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 22:17:23 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 22:17:23 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 22:17:23 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 22:17:23 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 22:17:23 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-12 22:17:23 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-12 22:17:23 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:23 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:23 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:23 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:23 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:23 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:23 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:23 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:23 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-12 22:17:23 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-12 22:17:23 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:23 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:23 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:23 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:23 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:24 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 22:17:24 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:24 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:24 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:24 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 22:17:24 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:24 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:24 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:24 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 22:17:24 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:24 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:24 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:25 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 22:17:25 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:25 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:25 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:25 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 22:17:25 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:25 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:25 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:25 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-12 22:17:25 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:25 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:25 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:26 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-12 22:17:26 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:26 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:26 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 22:17:26 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:26 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:26 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-12 22:17:26 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:26 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:27 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-12 22:17:27 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:27 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:27 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:27 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 22:17:27 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:27 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:27 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:27 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 22:17:27 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:27 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:27 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:28 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:28 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:28 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:28 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 22:17:28 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-12 22:17:28 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:28 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:28 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:28 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:28 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:28 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:28 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:28 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:28 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 22:17:28 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 6.51s
2025-11-12 22:17:28 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 2faa71a0-78c1-4e1d-a81a-54e4e40edb25 with 14 river stations
2025-11-12 22:17:28 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=2faa71a0-78c1-4e1d-a81a-54e4e40edb25
2025-11-12 22:17:28 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 22:17:28 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:17:28 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:17:28 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:17:28 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:17:28 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:17:28 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:17:28 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:17:28 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:17:28 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:17:28 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 22:17:28 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 22:17:28 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 22:22:28 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 22:22:28 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 22:22:28 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 22:22:28 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 22:22:28 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 22:22:28 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 22:22:28 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 22:22:28 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 22:22:28 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 22:22:30 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 22:22:30 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 22:22:30 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 22:22:30 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 22:22:30 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 22:22:30 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-12 22:22:30 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-12 22:22:30 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:30 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:30 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:30 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:30 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:32 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 22:22:32 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:32 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:32 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:32 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 22:22:32 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:32 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:32 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:32 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-12 22:22:32 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:32 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:32 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:34 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 22:22:34 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:34 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:34 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 22:22:34 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:34 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:34 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 22:22:34 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:34 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:35 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:35 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:35 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 22:22:35 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 6.59s
2025-11-12 22:22:35 - app.database.repository - INFO - create_collection:104 - Saved flood data collection b74b7130-c6dc-4cf5-bec0-bfe460bb83f5 with 14 river stations
2025-11-12 22:22:35 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=b74b7130-c6dc-4cf5-bec0-bfe460bb83f5
2025-11-12 22:22:35 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 22:22:35 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:22:35 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:22:35 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:22:35 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:22:35 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:22:35 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:22:35 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:22:35 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:22:35 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:22:35 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 22:22:35 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 22:22:35 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 22:27:35 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 22:27:35 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 22:27:35 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 22:27:35 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 22:27:35 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 22:27:35 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 22:27:35 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 22:27:35 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 22:27:35 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 22:27:36 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 22:27:36 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 22:27:36 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 22:27:36 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 22:27:36 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 22:27:36 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-12 22:27:36 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-12 22:27:36 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:36 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:36 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:36 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:36 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:36 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:36 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:36 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:36 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:36 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-12 22:27:36 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-12 22:27:36 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:36 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:36 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:36 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:36 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:36 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:37 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 22:27:37 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:37 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:37 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:37 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 22:27:37 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:37 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:37 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:37 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 22:27:37 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:37 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:37 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:40 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 22:27:40 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:40 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:40 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:40 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 22:27:40 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:40 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:40 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:40 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:40 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 22:27:40 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 5.55s
2025-11-12 22:27:40 - app.database.repository - INFO - create_collection:104 - Saved flood data collection ff3d3651-8dde-4f2f-bb19-e494e823e0e4 with 14 river stations
2025-11-12 22:27:40 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=ff3d3651-8dde-4f2f-bb19-e494e823e0e4
2025-11-12 22:27:40 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 22:27:40 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 22:27:40 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:27:40 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:27:40 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 22:27:40 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:27:40 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:27:40 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 22:27:40 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:27:40 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:27:40 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 22:27:40 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 22:27:40 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 22:32:40 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 22:32:40 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 22:32:40 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 22:32:40 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 22:32:40 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 22:32:40 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 22:32:41 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 22:32:41 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 22:32:41 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 22:32:42 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 22:32:42 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 22:32:42 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 22:32:42 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 22:32:42 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-12 22:32:42 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:42 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:42 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-12 22:32:42 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:42 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:42 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 22:32:42 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:42 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:44 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-12 22:32:44 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:44 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:44 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-12 22:32:44 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:44 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:44 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 22:32:44 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:44 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:46 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:46 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:46 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 22:32:46 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-12 22:32:46 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:46 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:46 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:46 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:46 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:46 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:46 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 22:32:46 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 5.65s
2025-11-12 22:32:46 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 8015e885-5110-4664-8fc3-76384b9654d8 with 14 river stations
2025-11-12 22:32:46 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=8015e885-5110-4664-8fc3-76384b9654d8
2025-11-12 22:32:46 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 22:32:46 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 22:32:46 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:32:46 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:32:46 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 22:32:46 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:32:46 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:32:46 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 22:32:46 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:32:46 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:32:46 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 22:32:46 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 22:32:46 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 22:37:46 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 22:37:46 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 22:37:46 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 22:37:46 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 22:37:46 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 22:37:46 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 22:37:46 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 22:37:46 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 22:37:46 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 22:37:47 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 22:37:47 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 22:37:47 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 22:37:47 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 22:37:47 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 22:37:47 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-12 22:37:47 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-12 22:37:47 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:47 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:47 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:47 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:47 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:48 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-12 22:37:48 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:48 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:48 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:48 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 22:37:48 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:48 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:48 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:48 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 22:37:48 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:48 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:48 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:49 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 22:37:49 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:49 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:49 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:49 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 22:37:49 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:49 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:49 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:49 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 22:37:49 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:49 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:49 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:50 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-12 22:37:50 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:50 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:50 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:50 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-12 22:37:50 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:50 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:50 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:51 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 22:37:51 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:51 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:51 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:51 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-12 22:37:51 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:51 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:51 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:51 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-12 22:37:51 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:51 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:51 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:52 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 22:37:52 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:52 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:52 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:52 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 22:37:52 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:52 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:52 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:53 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:53 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:53 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:53 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 22:37:53 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-12 22:37:53 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:53 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:53 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:53 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:53 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:53 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:53 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:53 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:53 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 22:37:53 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 6.88s
2025-11-12 22:37:53 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 7aae2630-1916-499d-81d8-3b0c1a3cf567 with 14 river stations
2025-11-12 22:37:53 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=7aae2630-1916-499d-81d8-3b0c1a3cf567
2025-11-12 22:37:53 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 22:37:53 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 22:37:53 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:37:53 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:37:53 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 22:37:53 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:37:53 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:37:53 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 22:37:53 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:37:53 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:37:53 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 22:37:53 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 22:37:53 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 22:42:53 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 22:42:53 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 22:42:53 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 22:42:53 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 22:42:53 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 22:42:53 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 22:42:53 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 22:42:53 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 22:42:53 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 22:42:54 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 22:42:54 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 22:42:54 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 22:42:54 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 22:42:54 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 22:42:54 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-12 22:42:54 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-12 22:42:54 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:54 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:54 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:54 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:57 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 22:42:57 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:57 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:57 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-12 22:42:57 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:57 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:57 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-12 22:42:57 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:57 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:58 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 22:42:58 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:58 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:58 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 22:42:58 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:58 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:58 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 22:42:58 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:58 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:58 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:58 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 22:42:58 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 5.54s
2025-11-12 22:42:58 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 7aadb5bd-773c-4f80-a9be-69c7510a354e with 14 river stations
2025-11-12 22:42:58 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=7aadb5bd-773c-4f80-a9be-69c7510a354e
2025-11-12 22:42:58 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 22:42:58 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 22:42:58 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:42:58 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:42:58 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 22:42:58 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:42:58 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:42:58 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 22:42:58 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:42:58 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:42:58 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 22:42:58 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 22:42:58 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 22:47:58 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 22:47:58 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 22:47:58 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 22:47:59 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 22:47:59 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 22:47:59 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 22:47:59 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 22:47:59 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 22:47:59 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 22:48:00 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 22:48:00 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 22:48:00 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 22:48:00 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 22:48:00 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-12 22:48:00 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:00 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:00 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-12 22:48:00 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:00 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:00 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 22:48:00 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:00 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:04 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:04 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:04 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 22:48:04 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 5.23s
2025-11-12 22:48:04 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 3a043ffa-11ab-4005-86d3-cbb33c171060 with 14 river stations
2025-11-12 22:48:04 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=3a043ffa-11ab-4005-86d3-cbb33c171060
2025-11-12 22:48:04 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 22:48:04 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 22:48:04 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:48:04 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:48:04 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 22:48:04 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:48:04 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:48:04 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 22:48:04 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:48:04 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:48:04 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 22:48:04 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 22:48:04 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-13 13:29:29 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-13 13:29:29 - app.main - INFO - <module>:377 - Initializing MAS-FRO Multi-Agent System...
2025-11-13 13:29:30 - app.communication.message_queue - INFO - __init__:46 - MessageQueue system initialized
2025-11-13 13:29:30 - app.agents.hazard_agent_001 - INFO - __init__:36 - Agent hazard_agent_001 created
2025-11-13 13:29:30 - app.agents.hazard_agent - INFO - __init__:108 - hazard_agent_001 GeoTIFF integration DISABLED
2025-11-13 13:29:30 - app.agents.hazard_agent - INFO - __init__:117 - hazard_agent_001 initialized with risk weights: {'flood_depth': 0.5, 'crowdsourced': 0.3, 'historical': 0.2}, return_period: rr01, time_step: 1, geotiff_enabled: False
2025-11-13 13:29:30 - app.agents.flood_agent_001 - INFO - __init__:36 - Agent flood_agent_001 created
2025-11-13 13:29:30 - app.agents.flood_agent - INFO - __init__:106 - flood_agent_001 initialized RiverScraperService
2025-11-13 13:29:30 - app.agents.flood_agent - INFO - __init__:114 - flood_agent_001 initialized OpenWeatherMapService
2025-11-13 13:29:30 - services.dam_water_scraper_service - INFO - __init__:164 - DamWaterScraperService initialized
2025-11-13 13:29:30 - app.agents.flood_agent - INFO - __init__:125 - flood_agent_001 initialized DamWaterScraperService
2025-11-13 13:29:30 - services.data_sources - INFO - __init__:309 - DataCollector initialized: simulated=False, pagasa=False, noah=False, mmda=False
2025-11-13 13:29:30 - app.agents.flood_agent - INFO - __init__:153 - flood_agent_001 initialized with update interval 300s, real_apis=True, simulated=False
2025-11-13 13:29:30 - app.agents.routing_agent_001 - INFO - __init__:36 - Agent routing_agent_001 created
2025-11-13 13:29:30 - app.agents.routing_agent - INFO - _load_evacuation_centers:402 - Loaded 36 evacuation centers from C:\Users\Donald\Documents\Code\multi-agent-routing-app\masfro-backend\app\data\evacuation_centers.csv
2025-11-13 13:29:30 - app.agents.routing_agent - INFO - __init__:71 - routing_agent_001 initialized with risk_weight=0.6, distance_weight=0.4, evacuation_centers=36
2025-11-13 13:29:30 - app.agents.evac_manager_001 - INFO - __init__:36 - Agent evac_manager_001 created
2025-11-13 13:29:30 - app.agents.evacuation_manager_agent - INFO - __init__:90 - evac_manager_001 initialized
2025-11-13 13:29:30 - app.agents.flood_agent - INFO - set_hazard_agent:167 - flood_agent_001 linked to hazard_agent_001
2025-11-13 13:29:30 - app.agents.evacuation_manager_agent - INFO - set_hazard_agent:126 - evac_manager_001 linked to hazard_agent_001
2025-11-13 13:29:30 - app.agents.evacuation_manager_agent - INFO - set_routing_agent:116 - evac_manager_001 linked to routing_agent_001
2025-11-13 13:29:30 - app.services.flood_data_scheduler - INFO - __init__:71 - FloodDataScheduler initialized with interval=300s (5.0 minutes), WebSocket broadcasting=enabled
2025-11-13 13:29:30 - app.main - INFO - <module>:425 - MAS-FRO system initialized successfully
2025-11-13 13:29:30 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-13 13:29:30 - app.main - INFO - startup_event:434 - ============================================================
2025-11-13 13:29:30 - app.main - INFO - startup_event:435 - MAS-FRO Backend Starting Up
2025-11-13 13:29:30 - app.main - INFO - startup_event:436 - ============================================================
2025-11-13 13:29:30 - app.main - INFO - startup_event:437 - Structured logging initialized - logs written to logs/masfro.log
2025-11-13 13:29:30 - app.main - INFO - startup_event:440 - Checking database connection...
2025-11-13 13:29:30 - app.database.connection - INFO - check_connection:92 - [OK] Database connection successful
2025-11-13 13:29:30 - app.main - INFO - startup_event:442 - Database connection successful
2025-11-13 13:29:30 - app.database.connection - INFO - init_db:76 - [OK] Database tables created successfully
2025-11-13 13:29:30 - app.main - INFO - startup_event:449 - Starting background scheduler...
2025-11-13 13:29:30 - app.services.flood_data_scheduler - INFO - start:265 - [OK] FloodDataScheduler started (interval=300s)
2025-11-13 13:29:30 - app.main - INFO - startup_event:453 - Automated flood data collection started (every 5 minutes)
2025-11-13 13:29:30 - app.services.flood_data_scheduler - INFO - _collection_loop:179 - FloodDataScheduler started
2025-11-13 13:29:30 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-13 13:29:30 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-13 13:29:30 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-13 13:29:32 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-13 13:29:32 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-13 13:29:32 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-13 13:29:32 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.4mm 24h forecast, intensity=none
2025-11-13 13:29:32 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-13 13:29:32 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-13 13:29:33 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-13 13:29:33 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-13 13:29:33 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-13 13:29:33 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-13 13:29:33 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-13 13:29:33 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-13 13:29:33 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-13 13:29:33 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:33 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:33 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:33 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 1 locations
2025-11-13 13:29:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:33 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:33 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:33 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-13 13:29:33 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-13 13:29:33 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:33 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:33 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:33 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 2 locations
2025-11-13 13:29:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 3 locations
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 4 locations
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 5 locations
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 6 locations
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 7 locations
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 8 locations
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 9 locations
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 10 locations
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 11 locations
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 12 locations
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 13 locations
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:36 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-13 13:29:36 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:36 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 14 locations
2025-11-13 13:29:36 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:36 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-13 13:29:36 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:36 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:29:36 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:36 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:36 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-13 13:29:36 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 5.92s
2025-11-13 13:29:36 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 1baa2903-8870-41de-8069-23cd9e69536f with 14 river stations
2025-11-13 13:29:36 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=1baa2903-8870-41de-8069-23cd9e69536f
2025-11-13 13:29:36 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-13 13:29:36 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-13 13:34:36 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-13 13:34:36 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-13 13:34:36 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-13 13:34:37 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-13 13:34:37 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-13 13:34:37 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-13 13:34:37 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.4mm 24h forecast, intensity=none
2025-11-13 13:34:37 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-13 13:34:37 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-13 13:34:38 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-13 13:34:38 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-13 13:34:38 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-13 13:34:38 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-13 13:34:38 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-13 13:34:38 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-13 13:34:38 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-13 13:34:38 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:38 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:38 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:38 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:39 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-13 13:34:39 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:39 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:39 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-13 13:34:39 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:39 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:39 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-13 13:34:39 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:39 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:40 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-13 13:34:40 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:40 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:40 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:40 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-13 13:34:40 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:40 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:40 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:41 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-13 13:34:41 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:41 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:41 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:41 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-13 13:34:41 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:41 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:41 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:42 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-13 13:34:42 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:42 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:42 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-13 13:34:42 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:42 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:43 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-13 13:34:43 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:43 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:43 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-13 13:34:43 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:43 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:43 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-13 13:34:43 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:43 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:44 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-13 13:34:44 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:44 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:44 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-13 13:34:44 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:44 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:44 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:45 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:45 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-13 13:34:45 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 8.05s
2025-11-13 13:34:45 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 15e8c5f9-c366-405c-b088-68fd78fcc0c9 with 14 river stations
2025-11-13 13:34:45 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=15e8c5f9-c366-405c-b088-68fd78fcc0c9
2025-11-13 13:34:45 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-13 13:34:45 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-13 13:39:45 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-13 13:39:45 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-13 13:39:45 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-13 13:39:45 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-13 13:39:45 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-13 13:39:45 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-13 13:39:45 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.1mm 24h forecast, intensity=none
2025-11-13 13:39:45 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-13 13:39:45 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-13 13:39:46 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-13 13:39:46 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-13 13:39:46 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-13 13:39:46 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-13 13:39:46 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-13 13:39:46 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:46 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:46 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-13 13:39:46 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:46 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:46 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-13 13:39:46 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:46 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:47 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-13 13:39:47 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:47 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:47 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:47 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-13 13:39:47 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:47 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:47 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:47 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-13 13:39:47 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:47 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:47 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:48 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-13 13:39:48 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:48 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:48 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:48 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-13 13:39:48 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:48 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:48 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:49 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-13 13:39:49 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:49 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:49 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:49 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-13 13:39:49 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:49 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:49 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:49 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-13 13:39:49 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:49 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:49 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:50 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-13 13:39:50 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:50 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:50 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:50 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-13 13:39:50 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:50 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:50 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:50 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-13 13:39:50 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:50 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:50 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:51 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:51 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:51 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-13 13:39:51 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-13 13:39:51 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:51 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:51 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:51 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:51 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:51 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:51 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:51 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-13 13:39:51 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 6.53s
2025-11-13 13:39:51 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 35815f09-92b8-493b-8b4a-218342a7de0d with 14 river stations
2025-11-13 13:39:51 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=35815f09-92b8-493b-8b4a-218342a7de0d
2025-11-13 13:39:51 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-13 13:39:51 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-13 13:44:51 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-13 13:44:51 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-13 13:44:51 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-13 13:44:51 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-13 13:44:51 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-13 13:44:51 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-13 13:44:52 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.1mm 24h forecast, intensity=none
2025-11-13 13:44:52 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-13 13:44:52 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-13 13:44:52 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-13 13:44:52 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-13 13:44:52 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-13 13:44:52 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-13 13:44:52 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-13 13:44:52 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-13 13:44:52 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-13 13:44:52 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:52 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:52 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:52 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:52 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:53 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-13 13:44:53 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:53 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:53 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:53 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-13 13:44:53 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:53 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:53 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:53 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-13 13:44:53 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:53 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:53 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:54 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-13 13:44:54 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:54 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:54 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-13 13:44:54 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:54 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:54 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-13 13:44:54 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:54 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-13 13:44:55 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:55 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-13 13:44:55 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:55 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-13 13:44:55 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:55 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:56 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-13 13:44:56 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:56 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:56 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-13 13:44:56 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:56 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:57 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-13 13:44:57 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:57 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:57 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-13 13:44:57 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:57 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:57 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-13 13:44:57 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:57 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:58 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:58 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:58 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-13 13:44:58 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 6.59s
2025-11-13 13:44:58 - app.database.repository - INFO - create_collection:104 - Saved flood data collection e73241f9-3907-4437-8b92-52bb952d53b8 with 14 river stations
2025-11-13 13:44:58 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=e73241f9-3907-4437-8b92-52bb952d53b8
2025-11-13 13:44:58 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-13 13:44:58 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-13 13:49:58 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-13 13:49:58 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-13 13:49:58 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-13 13:49:58 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-13 13:49:58 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-13 13:49:58 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-13 13:49:58 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.2mm 24h forecast, intensity=none
2025-11-13 13:49:58 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-13 13:49:58 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-13 13:50:00 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-13 13:50:00 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-13 13:50:00 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-13 13:50:00 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-13 13:50:00 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-13 13:50:00 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-13 13:50:00 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-13 13:50:00 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:00 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:00 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:00 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:01 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-13 13:50:01 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:01 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:01 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-13 13:50:01 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:01 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:02 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:02 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:02 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-13 13:50:02 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-13 13:50:02 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:02 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:02 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:02 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:02 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:03 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:03 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-13 13:50:03 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-13 13:50:03 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:03 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:03 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:03 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:03 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:03 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:03 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-13 13:50:03 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-13 13:50:03 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:03 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:03 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:03 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:04 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-13 13:50:04 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:04 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:04 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-13 13:50:04 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:04 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:05 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:05 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:05 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-13 13:50:05 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-13 13:50:05 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:05 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:05 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:05 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:05 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:06 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-13 13:50:06 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:06 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:06 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:06 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-13 13:50:06 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:06 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:06 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:07 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-13 13:50:07 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:07 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:07 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:07 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-13 13:50:07 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:07 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:07 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:08 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:08 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:08 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:08 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-13 13:50:08 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-13 13:50:08 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:08 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:08 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:08 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:08 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:09 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:09 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:09 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-13 13:50:09 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-13 13:50:09 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:09 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:09 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:09 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:09 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:09 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:09 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-13 13:50:09 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 11.62s
2025-11-13 13:50:09 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 5e282e14-38e5-47ba-8172-0f372fb6624c with 14 river stations
2025-11-13 13:50:09 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=5e282e14-38e5-47ba-8172-0f372fb6624c
2025-11-13 13:50:09 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-13 13:50:09 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-13 13:54:33 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 1
2025-11-13 13:54:35 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 2
2025-11-13 13:54:35 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 3
2025-11-13 13:54:40 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 4
2025-11-13 13:55:09 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-13 13:55:09 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-13 13:55:09 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-13 13:55:10 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-13 13:55:10 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-13 13:55:10 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-13 13:55:10 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.3mm 24h forecast, intensity=none
2025-11-13 13:55:10 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-13 13:55:10 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-13 13:55:11 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-13 13:55:11 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-13 13:55:11 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-13 13:55:11 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-13 13:55:11 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-13 13:55:11 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-13 13:55:11 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-13 13:55:11 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:11 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:11 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:11 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:11 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:11 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:11 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:12 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:12 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-13 13:55:12 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-13 13:55:12 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:12 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:12 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:12 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:12 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:12 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:12 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-13 13:55:12 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-13 13:55:12 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:12 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:12 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:12 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:13 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:13 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:13 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:13 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-13 13:55:13 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-13 13:55:13 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:13 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:13 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:13 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:14 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-13 13:55:14 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:14 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:14 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-13 13:55:14 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:14 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:15 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:15 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:15 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:15 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-13 13:55:15 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-13 13:55:15 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:15 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:15 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:15 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:15 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:16 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-13 13:55:16 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:16 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:16 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-13 13:55:16 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:16 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:17 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-13 13:55:17 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:17 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:17 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-13 13:55:17 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:17 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:18 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:18 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:18 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-13 13:55:18 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-13 13:55:18 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:18 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:18 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:18 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:19 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-13 13:55:19 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:19 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:19 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-13 13:55:19 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:19 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:20 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:20 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:20 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-13 13:55:20 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-13 13:55:20 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:20 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:20 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:20 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:20 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:20 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:20 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-13 13:55:20 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 11.17s
2025-11-13 13:55:21 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 9b072da0-9d53-430d-b691-6137a37fda92 with 14 river stations
2025-11-13 13:55:21 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=9b072da0-9d53-430d-b691-6137a37fda92
2025-11-13 13:55:21 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-13 13:55:21 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6116, type: <class 'str'>
2025-11-13 13:55:21 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 13:55:21 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 13:55:21 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6116, type: <class 'str'>
2025-11-13 13:55:21 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 13:55:21 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 13:55:21 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6116, type: <class 'str'>
2025-11-13 13:55:21 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 13:55:21 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 13:55:21 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6116, type: <class 'str'>
2025-11-13 13:55:21 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 13:55:21 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-13 13:55:21 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-13 13:55:21 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\Donald\Documents\Code\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\Donald\Documents\Code\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\Donald\Documents\Code\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-13T13:55:10.148359", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-13T13:55:10.148359", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-13T13:55:10.148359", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-13T13:55:10.148359", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-13T13:55:10.148359", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 0.34, "forecast_6h_mm": 0.23, "intensity": "none", "temperature_c": 31.16, "humidity_pct": 74, "pressure_hpa": 1009, "forecast_hourly": [{"timestamp": "2025-11-13T13:00:00", "rain_mm": 0.0, "temp_c": 31.23, "humidity_pct": 73, "pop": 0.03}, {"timestamp": "2025-11-13T14:00:00", "rain_mm": 0.0, "temp_c": 31.16, "humidity_pct": 74, "pop": 0.39}, {"timestamp": "2025-11-13T15:00:00", "rain_mm": 0.0, "temp_c": 30.97, "humidity_pct": 73, "pop": 0.8}, {"timestamp": "2025-11-13T16:00:00", "rain_mm": 0.0, "temp_c": 30.93, "humidity_pct": 75, "pop": 0.78}, {"timestamp": "2025-11-13T17:00:00", "rain_mm": 0.23, "temp_c": 30.31, "humidity_pct": 77, "pop": 0.98}, {"timestamp": "2025-11-13T18:00:00", "rain_mm": 0.0, "temp_c": 29.54, "humidity_pct": 80, "pop": 0.73}], "timestamp": "2025-11-13T13:55:10.435624", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.52, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.48, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.48, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-13", "water_level_change_hr": 24.0, "water_level_change_amt": 0.3, "timestamp": "2025-11-13T13:55:11.405119", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.02, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.02, "rule_curve_elevation_m": 200.94, "deviation_from_rule_curve_m": 9.08, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-13", "water_level_change_hr": 24.0, "water_level_change_amt": -0.28, "timestamp": "2025-11-13T13:55:11.405119", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 573.7, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -1.3, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -1.3, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-13", "water_level_change_hr": 24.0, "water_level_change_amt": 1.39, "timestamp": "2025-11-13T13:55:11.405119", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.19, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-13", "water_level_change_hr": 24.0, "water_level_change_amt": -0.22, "timestamp": "2025-11-13T13:55:11.405119", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.97, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.13, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-13", "water_level_change_hr": 24.0, "water_level_change_amt": 0.32, "timestamp": "2025-11-13T13:55:11.405119", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.63, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.52, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-13", "water_level_change_hr": 24.0, "water_level_change_amt": 0.08, "timestamp": "2025-11-13T13:55:11.405119", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 189.86, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -3.14, "rule_curve_elevation_m": 189.75, "deviation_from_rule_curve_m": 0.11, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-13", "water_level_change_hr": 24.0, "water_level_change_amt": -0.67, "timestamp": "2025-11-13T13:55:11.405119", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.33, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.67, "rule_curve_elevation_m": 219.7, "deviation_from_rule_curve_m": -3.37, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-13", "water_level_change_hr": 24.0, "water_level_change_amt": -0.05, "timestamp": "2025-11-13T13:55:11.405119", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.72, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.72, "rule_curve_elevation_m": 278.84, "deviation_from_rule_curve_m": 1.88, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-13", "water_level_change_hr": 24.0, "water_level_change_amt": 0.14, "timestamp": "2025-11-13T13:55:11.405119", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-13T13:55:21.006381", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Donald\Documents\Code\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\Donald\Documents\Code\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\Donald\Documents\Code\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Donald\Documents\Code\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\Donald\Documents\Code\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\Donald\Documents\Code\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-13 13:55:21 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 3
2025-11-13 13:55:21 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-13 13:55:21 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-13 13:55:21 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-13 14:00:21 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-13 14:00:21 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-13 14:00:21 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-13 14:00:21 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-13 14:00:21 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-13 14:00:21 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-13 14:00:21 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.3mm 24h forecast, intensity=none
2025-11-13 14:00:21 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-13 14:00:21 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-13 14:00:22 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-13 14:00:22 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-13 14:00:22 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-13 14:00:22 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-13 14:00:22 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-13 14:00:22 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-13 14:00:22 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-13 14:00:22 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:22 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:22 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:22 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:22 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:23 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-13 14:00:23 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:23 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:23 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:23 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-13 14:00:23 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:23 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:23 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:24 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-13 14:00:24 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:24 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:24 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:24 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-13 14:00:24 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:24 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:24 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:25 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-13 14:00:25 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:25 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:25 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:25 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-13 14:00:25 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:25 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:25 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:26 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:26 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:26 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:26 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-13 14:00:26 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-13 14:00:26 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:26 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:26 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:26 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:27 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-13 14:00:27 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:27 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:27 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:27 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-13 14:00:27 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:27 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:27 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:28 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-13 14:00:28 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:28 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:28 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:28 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-13 14:00:28 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:28 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:28 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:29 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-13 14:00:29 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:29 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:29 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:29 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-13 14:00:29 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:29 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:29 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:30 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:30 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:30 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:30 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-13 14:00:30 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-13 14:00:30 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:30 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:30 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:30 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:30 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:30 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:30 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:30 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:30 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-13 14:00:30 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 9.79s
2025-11-13 14:00:30 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 8753bdd4-d0a6-4c79-913a-a8a9ffc59098 with 14 river stations
2025-11-13 14:00:30 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=8753bdd4-d0a6-4c79-913a-a8a9ffc59098
2025-11-13 14:00:30 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-13 14:00:30 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6116, type: <class 'str'>
2025-11-13 14:00:30 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:00:30 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:00:30 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6116, type: <class 'str'>
2025-11-13 14:00:30 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:00:30 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:00:30 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6116, type: <class 'str'>
2025-11-13 14:00:30 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:00:30 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:00:30 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-13 14:00:30 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-13 14:00:30 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-13 14:05:30 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-13 14:05:30 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-13 14:05:30 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-13 14:05:31 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-13 14:05:31 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-13 14:05:31 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-13 14:05:31 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.3mm 24h forecast, intensity=none
2025-11-13 14:05:31 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-13 14:05:31 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-13 14:05:32 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-13 14:05:32 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-13 14:05:32 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-13 14:05:32 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-13 14:05:32 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-13 14:05:32 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-13 14:05:32 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-13 14:05:32 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:32 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:32 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:32 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:32 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:33 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-13 14:05:33 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:33 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:33 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-13 14:05:33 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:33 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:34 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:34 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:34 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-13 14:05:34 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-13 14:05:34 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:34 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:34 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:34 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:35 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-13 14:05:35 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:35 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:35 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:35 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-13 14:05:35 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:35 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:35 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:36 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:36 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:36 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:36 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-13 14:05:36 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-13 14:05:36 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:36 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:36 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:36 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:36 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:36 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:37 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:37 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:37 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:37 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-13 14:05:37 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-13 14:05:37 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:37 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:37 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:37 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:37 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:38 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:38 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:38 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-13 14:05:38 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-13 14:05:38 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:38 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:38 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:38 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:38 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:39 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:39 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-13 14:05:39 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-13 14:05:39 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:39 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:39 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:39 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:39 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:39 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:39 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-13 14:05:39 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-13 14:05:39 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:39 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:39 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:39 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:40 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:40 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:40 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:40 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-13 14:05:40 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-13 14:05:40 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:40 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:40 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:40 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:40 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:41 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-13 14:05:41 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:41 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:41 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:41 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-13 14:05:41 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:41 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:41 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:42 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:42 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:42 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-13 14:05:42 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-13 14:05:42 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:42 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:42 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:42 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:43 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:43 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:43 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-13 14:05:43 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 12.11s
2025-11-13 14:05:43 - app.database.repository - INFO - create_collection:104 - Saved flood data collection cb200216-9349-4ca5-b7d2-e116d72244c3 with 14 river stations
2025-11-13 14:05:43 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=cb200216-9349-4ca5-b7d2-e116d72244c3
2025-11-13 14:05:43 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-13 14:05:43 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6116, type: <class 'str'>
2025-11-13 14:05:43 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:05:43 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:05:43 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6116, type: <class 'str'>
2025-11-13 14:05:43 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:05:43 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:05:43 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6116, type: <class 'str'>
2025-11-13 14:05:43 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:05:43 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:05:43 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-13 14:05:43 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-13 14:05:43 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-13 14:10:43 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-13 14:10:43 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-13 14:10:43 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-13 14:10:44 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-13 14:10:44 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-13 14:10:44 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-13 14:10:44 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.3mm/hr current, 1.4mm 24h forecast, intensity=light
2025-11-13 14:10:44 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-13 14:10:44 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-13 14:10:46 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-13 14:10:46 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-13 14:10:46 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-13 14:10:46 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-13 14:10:46 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-13 14:10:46 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-13 14:10:46 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-13 14:10:46 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:46 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:46 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:46 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:46 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:46 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:46 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-13 14:10:46 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-13 14:10:46 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:46 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:46 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:46 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:47 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:47 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:47 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:47 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-13 14:10:47 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-13 14:10:47 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:47 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:47 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:47 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:47 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:48 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-13 14:10:48 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:48 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:48 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:48 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-13 14:10:48 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:48 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:48 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:49 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:49 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:49 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:49 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-13 14:10:49 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-13 14:10:49 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:49 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:49 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:49 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:49 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:49 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:50 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-13 14:10:50 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:50 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:50 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:50 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-13 14:10:50 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:50 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:50 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:51 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-13 14:10:51 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:51 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:51 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:51 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-13 14:10:51 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:51 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:51 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:52 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:52 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:52 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:52 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-13 14:10:52 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-13 14:10:52 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:52 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:52 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:52 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:52 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:53 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-13 14:10:53 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:53 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:53 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:53 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-13 14:10:53 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:53 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:53 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:54 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:54 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:54 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-13 14:10:54 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-13 14:10:54 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:54 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:54 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:54 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:55 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-13 14:10:55 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-13 14:10:55 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:55 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:55 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:55 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:55 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-13 14:10:55 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 12.72s
2025-11-13 14:10:55 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 920b9de4-4a81-4f6b-a3d8-e81b0ef14ba8 with 14 river stations
2025-11-13 14:10:55 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=920b9de4-4a81-4f6b-a3d8-e81b0ef14ba8
2025-11-13 14:10:55 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-13 14:10:55 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6118, type: <class 'str'>
2025-11-13 14:10:55 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:10:55 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:10:55 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6118, type: <class 'str'>
2025-11-13 14:10:55 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:10:55 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:10:55 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6118, type: <class 'str'>
2025-11-13 14:10:55 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:10:55 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:10:55 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-13 14:10:55 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-13 14:10:55 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-13 14:15:55 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-13 14:15:55 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-13 14:15:55 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-13 14:15:56 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-13 14:15:56 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-13 14:15:56 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-13 14:15:56 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.6mm 24h forecast, intensity=none
2025-11-13 14:15:56 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-13 14:15:56 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-13 14:15:57 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-13 14:15:57 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-13 14:15:57 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-13 14:15:57 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-13 14:15:57 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-13 14:15:57 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-13 14:15:57 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-13 14:15:57 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:15:57 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:15:57 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:15:57 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:15:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:15:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:15:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:15:57 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:15:57 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:15:57 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-13 14:15:57 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-13 14:15:57 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:15:57 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:15:57 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:15:57 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:15:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:15:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:15:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:15:58 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:15:58 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:15:58 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-13 14:15:58 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-13 14:15:58 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:15:58 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:15:58 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:15:58 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:15:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:15:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:15:59 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-13 14:15:59 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:15:59 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:15:59 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:15:59 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-13 14:15:59 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:15:59 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:15:59 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:16:00 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-13 14:16:00 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:16:00 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:16:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:16:00 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-13 14:16:00 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:16:00 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:16:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:16:01 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-13 14:16:01 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:16:01 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:16:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:16:01 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-13 14:16:01 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:16:01 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:16:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:16:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:16:02 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:16:02 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:16:02 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-13 14:16:02 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-13 14:16:02 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:16:02 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:16:02 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:16:02 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:16:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:16:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:16:03 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-13 14:16:03 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:16:03 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:16:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:16:03 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-13 14:16:03 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:16:03 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:16:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:16:04 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-13 14:16:04 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:16:04 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:16:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:16:04 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-13 14:16:04 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:16:04 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:16:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:16:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:16:05 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:16:05 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:16:05 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-13 14:16:05 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-13 14:16:05 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:16:05 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:16:05 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:16:05 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:16:05 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:16:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:16:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:16:05 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:16:06 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:16:06 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-13 14:16:06 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 10.11s
2025-11-13 14:16:06 - app.database.repository - INFO - create_collection:104 - Saved flood data collection e5731ab5-5455-4e22-8153-e5f0338c2fd3 with 14 river stations
2025-11-13 14:16:06 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=e5731ab5-5455-4e22-8153-e5f0338c2fd3
2025-11-13 14:16:06 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-13 14:16:06 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6117, type: <class 'str'>
2025-11-13 14:16:06 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:16:06 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:16:06 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6117, type: <class 'str'>
2025-11-13 14:16:06 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:16:06 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:16:06 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6117, type: <class 'str'>
2025-11-13 14:16:06 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:16:06 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:16:06 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-13 14:16:06 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-13 14:16:06 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-13 14:21:06 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-13 14:21:06 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-13 14:21:06 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-13 14:21:06 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-13 14:21:06 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-13 14:21:06 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-13 14:21:06 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.6mm 24h forecast, intensity=none
2025-11-13 14:21:06 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-13 14:21:06 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-13 14:21:07 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-13 14:21:07 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-13 14:21:07 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-13 14:21:07 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-13 14:21:07 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-13 14:21:07 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-13 14:21:07 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-13 14:21:07 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:07 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:07 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:07 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:07 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:08 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:08 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:08 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:08 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-13 14:21:08 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-13 14:21:08 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:08 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:08 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:08 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:08 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:09 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-13 14:21:09 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:09 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:09 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-13 14:21:09 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:09 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:10 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:10 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:10 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:10 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-13 14:21:10 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-13 14:21:10 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:10 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:10 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:10 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:10 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:11 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-13 14:21:11 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:11 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:11 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:11 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-13 14:21:11 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:11 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:11 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:12 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-13 14:21:12 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:12 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:12 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-13 14:21:12 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:12 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:13 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:13 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:13 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:13 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-13 14:21:13 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-13 14:21:13 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:13 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:13 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:13 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:14 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-13 14:21:14 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:14 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:14 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-13 14:21:14 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:14 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:15 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:15 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:15 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:15 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-13 14:21:15 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-13 14:21:15 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:15 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:15 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:15 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:15 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:15 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:15 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:15 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:16 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-13 14:21:16 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-13 14:21:16 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:16 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:16 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:16 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:16 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:16 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:16 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-13 14:21:16 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-13 14:21:16 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:16 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:16 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:16 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:17 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:17 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:17 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-13 14:21:17 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 11.16s
2025-11-13 14:21:17 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 32faa4c3-ff29-439b-97d3-19032d7b4c31 with 14 river stations
2025-11-13 14:21:17 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=32faa4c3-ff29-439b-97d3-19032d7b4c31
2025-11-13 14:21:17 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-13 14:21:17 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6117, type: <class 'str'>
2025-11-13 14:21:17 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:21:17 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:21:17 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6117, type: <class 'str'>
2025-11-13 14:21:17 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:21:17 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:21:17 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6117, type: <class 'str'>
2025-11-13 14:21:17 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:21:17 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:21:17 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-13 14:21:17 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-13 14:21:17 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-13 14:26:17 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-13 14:26:17 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-13 14:26:17 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-13 14:26:18 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-13 14:26:18 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-13 14:26:18 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-13 14:26:18 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.6mm 24h forecast, intensity=none
2025-11-13 14:26:18 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-13 14:26:18 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-13 14:26:37 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-13 14:26:37 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-13 14:26:37 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-13 14:26:37 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-13 14:26:37 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-13 14:26:37 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-13 14:26:37 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-13 14:26:37 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:37 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:37 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:37 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:37 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:37 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:37 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:37 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:37 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-13 14:26:37 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-13 14:26:37 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:37 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:37 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:37 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:37 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:38 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:38 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:38 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-13 14:26:38 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-13 14:26:38 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:38 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:38 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:38 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:39 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-13 14:26:39 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:39 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:39 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-13 14:26:39 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:39 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:40 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-13 14:26:40 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:40 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:40 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:40 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-13 14:26:40 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:40 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:40 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:41 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:41 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:41 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:41 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-13 14:26:41 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-13 14:26:41 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:41 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:41 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:41 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:41 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:41 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:42 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-13 14:26:42 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:42 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:42 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-13 14:26:42 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:42 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:43 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:43 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:43 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-13 14:26:43 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-13 14:26:43 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:43 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:43 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:43 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:43 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:44 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:44 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-13 14:26:44 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-13 14:26:44 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:44 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:44 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:44 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:44 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:44 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:44 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-13 14:26:44 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-13 14:26:44 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:44 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:44 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:44 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:45 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:45 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:45 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:45 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-13 14:26:45 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-13 14:26:45 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:45 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:45 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:45 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:45 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:46 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:46 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:46 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-13 14:26:46 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-13 14:26:46 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:46 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:46 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:46 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:46 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:46 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:46 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-13 14:26:46 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 29.48s
2025-11-13 14:26:46 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 2050c1b4-a1c7-43e8-9fea-7106dbfce733 with 14 river stations
2025-11-13 14:26:46 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=2050c1b4-a1c7-43e8-9fea-7106dbfce733
2025-11-13 14:26:46 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-13 14:26:46 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6117, type: <class 'str'>
2025-11-13 14:26:46 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:26:46 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:26:46 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6117, type: <class 'str'>
2025-11-13 14:26:46 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:26:46 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:26:46 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6117, type: <class 'str'>
2025-11-13 14:26:46 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:26:46 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:26:46 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-13 14:26:46 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-13 14:26:46 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 11:31:35 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-14 11:31:35 - app.main - INFO - <module>:393 - Initializing MAS-FRO Multi-Agent System...
2025-11-14 11:31:37 - app.communication.message_queue - INFO - __init__:46 - MessageQueue system initialized
2025-11-14 11:31:37 - app.agents.hazard_agent_001 - INFO - __init__:36 - Agent hazard_agent_001 created
2025-11-14 11:31:37 - app.agents.hazard_agent - INFO - __init__:116 - hazard_agent_001 GeoTIFF integration DISABLED
2025-11-14 11:31:37 - app.ml_models.location_geocoder - INFO - __init__:169 - LocationGeocoder initialized with 85 location mappings
2025-11-14 11:31:37 - app.agents.hazard_agent - INFO - __init__:129 - hazard_agent_001 LocationGeocoder initialized
2025-11-14 11:31:37 - app.agents.hazard_agent - INFO - __init__:137 - hazard_agent_001 initialized with risk weights: {'flood_depth': 0.5, 'crowdsourced': 0.3, 'historical': 0.2}, return_period: rr01, time_step: 1, geotiff_enabled: False
2025-11-14 11:31:37 - app.agents.flood_agent_001 - INFO - __init__:36 - Agent flood_agent_001 created
2025-11-14 11:31:37 - services.river_scraper_service - INFO - __init__:44 - RiverScraperService initialized
2025-11-14 11:31:37 - app.agents.flood_agent - INFO - __init__:106 - flood_agent_001 initialized RiverScraperService
2025-11-14 11:31:37 - app.agents.flood_agent - INFO - __init__:114 - flood_agent_001 initialized OpenWeatherMapService
2025-11-14 11:31:37 - services.dam_water_scraper_service - INFO - __init__:164 - DamWaterScraperService initialized
2025-11-14 11:31:37 - app.agents.flood_agent - INFO - __init__:125 - flood_agent_001 initialized DamWaterScraperService
2025-11-14 11:31:37 - services.data_sources - INFO - __init__:309 - DataCollector initialized: simulated=False, pagasa=False, noah=False, mmda=False
2025-11-14 11:31:37 - app.agents.flood_agent - INFO - __init__:153 - flood_agent_001 initialized with update interval 300s, real_apis=True, simulated=False
2025-11-14 11:31:37 - app.agents.routing_agent_001 - INFO - __init__:36 - Agent routing_agent_001 created
2025-11-14 11:31:37 - app.agents.routing_agent - INFO - _load_evacuation_centers:402 - Loaded 36 evacuation centers from C:\Users\Donald\Documents\Code\multi-agent-routing-app\masfro-backend\app\data\evacuation_centers.csv
2025-11-14 11:31:37 - app.agents.routing_agent - INFO - __init__:71 - routing_agent_001 initialized with risk_weight=0.6, distance_weight=0.4, evacuation_centers=36
2025-11-14 11:31:37 - app.agents.evac_manager_001 - INFO - __init__:36 - Agent evac_manager_001 created
2025-11-14 11:31:37 - app.agents.evacuation_manager_agent - INFO - __init__:90 - evac_manager_001 initialized
2025-11-14 11:31:37 - app.agents.flood_agent - INFO - set_hazard_agent:167 - flood_agent_001 linked to hazard_agent_001
2025-11-14 11:31:37 - app.agents.evacuation_manager_agent - INFO - set_hazard_agent:126 - evac_manager_001 linked to hazard_agent_001
2025-11-14 11:31:37 - app.agents.evacuation_manager_agent - INFO - set_routing_agent:116 - evac_manager_001 linked to routing_agent_001
2025-11-14 11:31:37 - app.services.flood_data_scheduler - INFO - __init__:71 - FloodDataScheduler initialized with interval=300s (5.0 minutes), WebSocket broadcasting=enabled
2025-11-14 11:31:37 - app.main - INFO - <module>:441 - MAS-FRO system initialized successfully
2025-11-14 11:31:37 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-14 11:31:37 - app.main - INFO - startup_event:450 - ============================================================
2025-11-14 11:31:37 - app.main - INFO - startup_event:451 - MAS-FRO Backend Starting Up
2025-11-14 11:31:37 - app.main - INFO - startup_event:452 - ============================================================
2025-11-14 11:31:37 - app.main - INFO - startup_event:453 - Structured logging initialized - logs written to logs/masfro.log
2025-11-14 11:31:37 - app.main - INFO - startup_event:456 - Checking database connection...
2025-11-14 11:31:38 - app.database.connection - INFO - check_connection:92 - [OK] Database connection successful
2025-11-14 11:31:38 - app.main - INFO - startup_event:458 - Database connection successful
2025-11-14 11:31:38 - app.database.connection - INFO - init_db:76 - [OK] Database tables created successfully
2025-11-14 11:31:38 - app.main - INFO - startup_event:465 - Starting background scheduler...
2025-11-14 11:31:38 - app.services.flood_data_scheduler - INFO - start:265 - [OK] FloodDataScheduler started (interval=300s)
2025-11-14 11:31:38 - app.main - INFO - startup_event:469 - Automated flood data collection started (every 5 minutes)
2025-11-14 11:31:38 - app.services.flood_data_scheduler - INFO - _collection_loop:179 - FloodDataScheduler started
2025-11-14 11:31:38 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 11:31:38 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 11:31:38 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 11:31:38 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 11:31:38 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 11:31:38 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 1
2025-11-14 11:31:38 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 2
2025-11-14 11:31:40 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 3
2025-11-14 11:31:40 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 11:31:48 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 11:31:51 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 11:31:51 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 11:31:51 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 11:31:53 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 11:31:53 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 11:31:53 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 11:31:53 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.8mm 24h forecast, intensity=none
2025-11-14 11:31:53 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 11:31:53 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 11:31:54 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 11:31:54 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 11:31:54 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 11:31:54 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 11:31:54 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-14 11:31:54 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Montalban
2025-11-14 11:31:54 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Montalban
2025-11-14 11:31:54 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:54 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:54 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:54 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 1 locations
2025-11-14 11:31:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:54 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Nangka
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Nangka
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 2 locations
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Rosario Bridge
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 3 locations
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Sto Nino
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Sto Nino
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 4 locations
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Tumana Bridge
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 5 locations
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Marikina_weather
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Marikina_weather
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 6 locations
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:56 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-14 11:31:56 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: AMBUKLAO
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:56 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 7 locations
2025-11-14 11:31:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:56 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: ANGAT
2025-11-14 11:31:56 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: ANGAT
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:56 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 8 locations
2025-11-14 11:31:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:56 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: BINGA
2025-11-14 11:31:56 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: BINGA
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:56 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 9 locations
2025-11-14 11:31:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:57 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: CALIRAYA
2025-11-14 11:31:57 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: CALIRAYA
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:57 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 10 locations
2025-11-14 11:31:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:57 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: IPO
2025-11-14 11:31:57 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: IPO
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:57 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 11 locations
2025-11-14 11:31:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:58 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: LA MESA
2025-11-14 11:31:58 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: LA MESA
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:58 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 12 locations
2025-11-14 11:31:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:58 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-14 11:31:58 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: MAGAT DAM
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:58 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 13 locations
2025-11-14 11:31:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:58 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-14 11:31:58 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: PANTABANGAN
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:58 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 14 locations
2025-11-14 11:31:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:59 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:59 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:59 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:59 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-14 11:31:59 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: SAN ROQUE
2025-11-14 11:31:59 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:59 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:59 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:59 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:31:59 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:32:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:32:00 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:32:00 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:32:00 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-14 11:32:00 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 22.06s
2025-11-14 11:32:00 - app.database.repository - INFO - create_collection:104 - Saved flood data collection c9543b05-4c80-4648-836a-2a6dffc22f4e with 14 river stations
2025-11-14 11:32:00 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=c9543b05-4c80-4648-836a-2a6dffc22f4e
2025-11-14 11:32:00 - app.main - DEBUG - broadcast:161 - Successfully serialized message of type: flood_update
2025-11-14 11:32:00 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-14 11:32:00 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-14 11:32:00 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-14 11:32:00 - app.main - INFO - broadcast_flood_update:228 - Broadcasted flood update to 3 clients
2025-11-14 11:32:00 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 11:32:00 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 11:32:05 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 4
2025-11-14 11:32:05 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 5
2025-11-14 11:32:05 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 6
2025-11-14 11:32:10 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 7
2025-11-14 11:37:00 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 11:37:00 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 11:37:00 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 11:37:00 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 11:37:00 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 11:37:01 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 11:37:10 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 11:37:12 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 11:37:12 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 11:37:12 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 11:37:14 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 11:37:14 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 11:37:14 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 11:37:15 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.8mm 24h forecast, intensity=none
2025-11-14 11:37:15 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 11:37:15 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 11:37:16 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 11:37:16 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 11:37:16 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 11:37:16 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 11:37:16 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-14 11:37:16 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Montalban
2025-11-14 11:37:16 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Montalban
2025-11-14 11:37:16 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:16 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:16 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:16 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:16 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:16 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:16 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Nangka
2025-11-14 11:37:16 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Nangka
2025-11-14 11:37:16 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:16 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:16 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:16 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:17 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-14 11:37:17 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Rosario Bridge
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:17 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:17 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Sto Nino
2025-11-14 11:37:17 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Sto Nino
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:17 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:18 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:18 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:18 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-14 11:37:18 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Tumana Bridge
2025-11-14 11:37:18 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:18 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:18 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:18 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:18 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:19 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:19 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Marikina_weather
2025-11-14 11:37:19 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Marikina_weather
2025-11-14 11:37:19 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:19 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:19 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:19 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:19 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:19 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:19 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-14 11:37:19 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: AMBUKLAO
2025-11-14 11:37:19 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:19 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:19 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:19 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:20 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: ANGAT
2025-11-14 11:37:20 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: ANGAT
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:20 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:20 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: BINGA
2025-11-14 11:37:20 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: BINGA
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:20 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:21 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: CALIRAYA
2025-11-14 11:37:21 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: CALIRAYA
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:21 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:21 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:21 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: IPO
2025-11-14 11:37:21 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: IPO
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:21 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:21 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:22 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:22 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:22 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:22 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: LA MESA
2025-11-14 11:37:22 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: LA MESA
2025-11-14 11:37:22 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:22 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:22 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:22 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:22 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:22 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:22 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:22 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:22 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-14 11:37:22 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: MAGAT DAM
2025-11-14 11:37:22 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:22 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:22 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:23 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:23 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:23 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:23 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:23 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:23 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-14 11:37:23 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: PANTABANGAN
2025-11-14 11:37:23 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:23 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:23 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:23 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:23 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:24 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:24 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:24 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:24 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-14 11:37:24 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: SAN ROQUE
2025-11-14 11:37:24 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:24 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:24 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:24 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:24 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:24 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:24 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:24 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:24 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-14 11:37:24 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 24.43s
2025-11-14 11:37:24 - app.database.repository - INFO - create_collection:104 - Saved flood data collection e9f17f3e-c829-409f-b4ca-6e5a5d0599f4 with 14 river stations
2025-11-14 11:37:24 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=e9f17f3e-c829-409f-b4ca-6e5a5d0599f4
2025-11-14 11:37:24 - app.main - DEBUG - broadcast:161 - Successfully serialized message of type: flood_update
2025-11-14 11:37:24 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-14 11:37:24 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-14 11:37:24 - app.main - INFO - broadcast:188 - WebSocket disconnected during broadcast
2025-11-14 11:37:24 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-14 11:37:24 - app.main - INFO - broadcast:188 - WebSocket disconnected during broadcast
2025-11-14 11:37:24 - app.main - INFO - broadcast:188 - WebSocket disconnected during broadcast
2025-11-14 11:37:24 - app.main - INFO - broadcast:188 - WebSocket disconnected during broadcast
2025-11-14 11:37:24 - app.main - INFO - disconnect:143 - WebSocket disconnected. Total connections: 6
2025-11-14 11:37:24 - app.main - INFO - disconnect:143 - WebSocket disconnected. Total connections: 5
2025-11-14 11:37:24 - app.main - INFO - disconnect:143 - WebSocket disconnected. Total connections: 4
2025-11-14 11:37:24 - app.main - INFO - disconnect:143 - WebSocket disconnected. Total connections: 3
2025-11-14 11:37:24 - app.main - INFO - broadcast_flood_update:228 - Broadcasted flood update to 3 clients
2025-11-14 11:37:24 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 11:37:24 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
