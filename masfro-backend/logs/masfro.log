2025-11-12 20:23:59 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-12 20:23:59 - app.main - INFO - <module>:377 - Initializing MAS-FRO Multi-Agent System...
2025-11-12 20:24:00 - app.communication.message_queue - INFO - __init__:46 - MessageQueue system initialized
2025-11-12 20:24:00 - app.agents.hazard_agent_001 - INFO - __init__:36 - Agent hazard_agent_001 created
2025-11-12 20:24:00 - services.geotiff_service - INFO - __init__:82 - GeoTIFFService initialized: 4 return periods, 18 time steps
2025-11-12 20:24:00 - services.geotiff_service - INFO - __init__:86 - Using manual coordinate mapping: center=(14.6456, 121.10305)
2025-11-12 20:24:00 - app.agents.hazard_agent - INFO - __init__:95 - hazard_agent_001 initialized GeoTIFFService
2025-11-12 20:24:00 - app.agents.hazard_agent - INFO - __init__:107 - hazard_agent_001 initialized with risk weights: {'flood_depth': 0.5, 'crowdsourced': 0.3, 'historical': 0.2}, return_period: rr01, time_step: 1
2025-11-12 20:24:00 - app.agents.flood_agent_001 - INFO - __init__:36 - Agent flood_agent_001 created
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - __init__:106 - flood_agent_001 initialized RiverScraperService
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - __init__:114 - flood_agent_001 initialized OpenWeatherMapService
2025-11-12 20:24:00 - services.dam_water_scraper_service - INFO - __init__:164 - DamWaterScraperService initialized
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - __init__:125 - flood_agent_001 initialized DamWaterScraperService
2025-11-12 20:24:00 - services.data_sources - INFO - __init__:309 - DataCollector initialized: simulated=False, pagasa=False, noah=False, mmda=False
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - __init__:153 - flood_agent_001 initialized with update interval 300s, real_apis=True, simulated=False
2025-11-12 20:24:00 - app.agents.routing_agent_001 - INFO - __init__:36 - Agent routing_agent_001 created
2025-11-12 20:24:00 - app.agents.routing_agent - INFO - _load_evacuation_centers:402 - Loaded 36 evacuation centers from C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\data\evacuation_centers.csv
2025-11-12 20:24:00 - app.agents.routing_agent - INFO - __init__:71 - routing_agent_001 initialized with risk_weight=0.6, distance_weight=0.4, evacuation_centers=36
2025-11-12 20:24:00 - app.agents.evac_manager_001 - INFO - __init__:36 - Agent evac_manager_001 created
2025-11-12 20:24:00 - app.agents.evacuation_manager_agent - INFO - __init__:90 - evac_manager_001 initialized
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - set_hazard_agent:167 - flood_agent_001 linked to hazard_agent_001
2025-11-12 20:24:00 - app.agents.evacuation_manager_agent - INFO - set_hazard_agent:126 - evac_manager_001 linked to hazard_agent_001
2025-11-12 20:24:00 - app.agents.evacuation_manager_agent - INFO - set_routing_agent:116 - evac_manager_001 linked to routing_agent_001
2025-11-12 20:24:00 - app.services.flood_data_scheduler - INFO - __init__:71 - FloodDataScheduler initialized with interval=300s (5.0 minutes), WebSocket broadcasting=enabled
2025-11-12 20:24:00 - app.main - INFO - <module>:425 - MAS-FRO system initialized successfully
2025-11-12 20:24:00 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-12 20:24:00 - app.main - INFO - startup_event:434 - ============================================================
2025-11-12 20:24:00 - app.main - INFO - startup_event:435 - MAS-FRO Backend Starting Up
2025-11-12 20:24:00 - app.main - INFO - startup_event:436 - ============================================================
2025-11-12 20:24:00 - app.main - INFO - startup_event:437 - Structured logging initialized - logs written to logs/masfro.log
2025-11-12 20:24:00 - app.main - INFO - startup_event:440 - Checking database connection...
2025-11-12 20:24:00 - app.database.connection - INFO - check_connection:92 - [OK] Database connection successful
2025-11-12 20:24:00 - app.main - INFO - startup_event:442 - Database connection successful
2025-11-12 20:24:00 - app.database.connection - INFO - init_db:76 - [OK] Database tables created successfully
2025-11-12 20:24:00 - app.main - INFO - startup_event:449 - Starting background scheduler...
2025-11-12 20:24:00 - app.services.flood_data_scheduler - INFO - start:265 - [OK] FloodDataScheduler started (interval=300s)
2025-11-12 20:24:00 - app.main - INFO - startup_event:453 - Automated flood data collection started (every 5 minutes)
2025-11-12 20:24:00 - app.services.flood_data_scheduler - INFO - _collection_loop:179 - FloodDataScheduler started
2025-11-12 20:24:00 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 20:24:01 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 4.9mm 24h forecast, intensity=none
2025-11-12 20:24:01 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 20:24:01 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 20:24:01 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 20:24:01 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 20:24:01 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 20:24:01 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 20:24:01 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 20:24:01 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 20:24:01 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 20:24:01 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:01 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:01 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:01 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 1 locations
2025-11-12 20:24:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 2 locations
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 3 locations
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 4 locations
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 5 locations
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 6 locations
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 7 locations
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 8 locations
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 9 locations
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 10 locations
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 11 locations
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 12 locations
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 13 locations
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 14 locations
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:06 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:06 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:06 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:06 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 20:24:06 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 5.61s
2025-11-12 20:24:06 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 1ec8589d-7509-4bd9-8a24-9d5433ec8db1 with 14 river stations
2025-11-12 20:24:06 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=1ec8589d-7509-4bd9-8a24-9d5433ec8db1
2025-11-12 20:24:06 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 20:24:06 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 20:28:25 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 1
2025-11-12 20:28:25 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 2
2025-11-12 20:28:25 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 3
2025-11-12 20:28:30 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 4
2025-11-12 20:29:06 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 20:29:06 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 20:29:06 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 20:29:06 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 20:29:06 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 20:29:06 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 20:29:06 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 4.9mm 24h forecast, intensity=none
2025-11-12 20:29:06 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 20:29:06 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 20:29:07 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 20:29:07 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 20:29:07 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 20:29:07 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 20:29:07 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 20:29:07 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 20:29:07 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 20:29:07 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:07 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:07 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:07 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:07 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:08 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 20:29:08 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:08 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:08 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:08 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 20:29:08 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:08 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:08 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:10 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 20:29:10 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:10 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:10 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:10 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 20:29:10 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:10 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:10 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:11 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 20:29:11 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:11 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:11 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:11 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 20:29:12 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:12 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:12 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 20:29:12 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:12 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:12 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:14 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 20:29:14 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:14 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:14 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:14 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 20:29:14 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 8.52s
2025-11-12 20:29:14 - app.database.repository - INFO - create_collection:104 - Saved flood data collection a308b42c-e022-4fa0-9f27-4abbcf8f9dc8 with 14 river stations
2025-11-12 20:29:14 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=a308b42c-e022-4fa0-9f27-4abbcf8f9dc8
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6094, type: <class 'str'>
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6094, type: <class 'str'>
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6094, type: <class 'str'>
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:29:14 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 20:29:14 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 20:29:14 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:29:06.390386", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:29:06.390386", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:29:06.390386", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:29:06.390386", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:29:06.390386", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 4.92, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.8, "humidity_pct": 84, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T20:00:00", "rain_mm": 0.0, "temp_c": 28.8, "humidity_pct": 84, "pop": 0}, {"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.48, "humidity_pct": 83, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.05, "humidity_pct": 83, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 27.5, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 26.9, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.16, "humidity_pct": 86, "pop": 0}], "timestamp": "2025-11-12T20:29:06.572371", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T20:29:14.773941", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 20:29:14 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6094, type: <class 'str'>
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:29:14 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 3
2025-11-12 20:29:14 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 20:29:14 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 20:29:14 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 20:30:32 - app.main - INFO - get_route:507 - Route request: (14.632850588665193, 121.08317709343379) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:30:32 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.632850588665193, 121.08317709343379) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:30:32 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 6773333505 to 32210237 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:30:32 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 60 nodes. Blocked 0 edges during search.
2025-11-12 20:30:32 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=1625m, risk=0.00
2025-11-12 20:30:43 - app.main - INFO - get_route:507 - Route request: (14.642154232149835, 121.08724640229883) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:30:43 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.642154232149835, 121.08724640229883) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:30:43 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 318616582 to 32210237 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:30:43 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 68 nodes. Blocked 0 edges during search.
2025-11-12 20:30:43 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=1423m, risk=0.00
2025-11-12 20:31:22 - app.main - INFO - get_route:507 - Route request: (14.642154232149835, 121.08724640229883) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:31:22 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.642154232149835, 121.08724640229883) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:31:22 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 318616582 to 32210237 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:31:22 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 68 nodes. Blocked 0 edges during search.
2025-11-12 20:31:22 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=1423m, risk=0.00
2025-11-12 20:32:01 - app.main - INFO - get_route:507 - Route request: (14.642154232149835, 121.08724640229883) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:32:01 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.642154232149835, 121.08724640229883) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:32:01 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 318616582 to 32210237 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:01 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 68 nodes. Blocked 0 edges during search.
2025-11-12 20:32:01 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=1423m, risk=0.00
2025-11-12 20:32:02 - app.main - INFO - get_route:507 - Route request: (14.642154232149835, 121.08724640229883) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:32:02 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.642154232149835, 121.08724640229883) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:32:02 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 318616582 to 32210237 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:02 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 68 nodes. Blocked 0 edges during search.
2025-11-12 20:32:02 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=1423m, risk=0.00
2025-11-12 20:32:08 - app.main - INFO - get_route:507 - Route request: (14.645062973471653, 121.09091600225071) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:32:08 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.645062973471653, 121.09091600225071) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:32:08 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 318616580 to 32210237 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:08 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 70 nodes. Blocked 0 edges during search.
2025-11-12 20:32:08 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=1531m, risk=0.00
2025-11-12 20:32:30 - app.main - INFO - get_route:507 - Route request: (14.63777480232011, 121.09795331953302) -> (14.642440445983851, 121.09974194281733)
2025-11-12 20:32:30 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.63777480232011, 121.09795331953302) -> (14.642440445983851, 121.09974194281733)
2025-11-12 20:32:30 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 21322195 to 21322197 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:30 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 11 nodes. Blocked 0 edges during search.
2025-11-12 20:32:30 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=683m, risk=0.00
2025-11-12 20:32:35 - app.main - INFO - get_route:507 - Route request: (14.63777480232011, 121.09795331953302) -> (14.642440445983851, 121.09974194281733)
2025-11-12 20:32:35 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.63777480232011, 121.09795331953302) -> (14.642440445983851, 121.09974194281733)
2025-11-12 20:32:35 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 21322195 to 21322197 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:35 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 11 nodes. Blocked 0 edges during search.
2025-11-12 20:32:35 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=683m, risk=0.00
2025-11-12 20:32:44 - app.main - INFO - get_route:507 - Route request: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:44 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:44 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 11481203584 to 21322197 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:44 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 16 nodes. Blocked 0 edges during search.
2025-11-12 20:32:44 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=905m, risk=0.00
2025-11-12 20:32:48 - app.main - INFO - get_route:507 - Route request: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:48 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:48 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 11481203584 to 21322197 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:48 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 16 nodes. Blocked 0 edges during search.
2025-11-12 20:32:48 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=905m, risk=0.00
2025-11-12 20:32:49 - app.main - INFO - get_route:507 - Route request: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:49 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:49 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 11481203584 to 21322197 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:49 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 16 nodes. Blocked 0 edges during search.
2025-11-12 20:32:49 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=905m, risk=0.00
2025-11-12 20:32:49 - app.main - INFO - get_route:507 - Route request: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:49 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:49 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 11481203584 to 21322197 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:49 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 16 nodes. Blocked 0 edges during search.
2025-11-12 20:32:49 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=905m, risk=0.00
2025-11-12 20:32:49 - app.main - INFO - get_route:507 - Route request: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:49 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:49 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 11481203584 to 21322197 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:49 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 16 nodes. Blocked 0 edges during search.
2025-11-12 20:32:49 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=905m, risk=0.00
2025-11-12 20:34:14 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 20:34:14 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 20:34:14 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 20:34:14 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 20:34:14 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 20:34:14 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 20:34:15 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 4.9mm 24h forecast, intensity=none
2025-11-12 20:34:15 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 20:34:15 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 20:34:16 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 20:34:16 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 20:34:16 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 20:34:16 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 20:34:16 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 20:34:16 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 20:34:16 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 20:34:16 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:16 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:16 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:16 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:16 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:18 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 20:34:18 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:18 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:18 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 20:34:18 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:18 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:19 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 20:34:19 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:19 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:19 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 20:34:19 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:19 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:21 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 20:34:21 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:21 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:21 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:21 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 20:34:21 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:21 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:21 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:22 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 20:34:22 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:22 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:22 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:22 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 20:34:22 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:22 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:22 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:23 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:23 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:23 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:23 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 20:34:23 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 8.53s
2025-11-12 20:34:23 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 0d1ee3aa-406a-46ef-9332-68924b3029b1 with 14 river stations
2025-11-12 20:34:23 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=0d1ee3aa-406a-46ef-9332-68924b3029b1
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:34:23 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 20:34:23 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 20:34:23 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 20:37:27 - app.main - INFO - get_route:507 - Route request: (14.655187948704992, 121.09218890763293) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:37:27 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.655187948704992, 121.09218890763293) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:37:27 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 875474757 to 21322197 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:37:27 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 114 nodes. Blocked 0 edges during search.
2025-11-12 20:37:27 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=3156m, risk=0.00
2025-11-12 20:37:46 - app.main - INFO - get_route:507 - Route request: (14.655187948704992, 121.09218890763293) -> (14.655273147099777, 121.09904711264363)
2025-11-12 20:37:46 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.655187948704992, 121.09218890763293) -> (14.655273147099777, 121.09904711264363)
2025-11-12 20:37:46 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 875474757 to 33120912 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:37:46 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 37 nodes. Blocked 0 edges during search.
2025-11-12 20:37:46 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=981m, risk=0.01
2025-11-12 20:37:52 - app.main - INFO - get_route:507 - Route request: (14.655736076733646, 121.09262977526254) -> (14.655273147099777, 121.09904711264363)
2025-11-12 20:37:52 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.655736076733646, 121.09262977526254) -> (14.655273147099777, 121.09904711264363)
2025-11-12 20:37:52 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 875474974 to 33120912 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:37:52 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 36 nodes. Blocked 0 edges during search.
2025-11-12 20:37:52 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=876m, risk=0.01
2025-11-12 20:38:00 - app.main - INFO - get_route:507 - Route request: (14.655877813989392, 121.09220169503607) -> (14.655273147099777, 121.09904711264363)
2025-11-12 20:38:00 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.655877813989392, 121.09220169503607) -> (14.655273147099777, 121.09904711264363)
2025-11-12 20:38:00 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 875474956 to 33120912 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:38:00 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 37 nodes. Blocked 0 edges during search.
2025-11-12 20:38:00 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=925m, risk=0.01
2025-11-12 20:39:23 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 20:39:23 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 20:39:23 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 20:39:23 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 20:39:23 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 20:39:23 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 20:39:23 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 4.9mm 24h forecast, intensity=none
2025-11-12 20:39:23 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 20:39:23 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 20:39:24 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 20:39:24 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 20:39:24 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 20:39:24 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 20:39:24 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 20:39:24 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 20:39:24 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 20:39:24 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:24 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:24 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:24 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:24 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:27 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 20:39:27 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:27 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:27 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:27 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 20:39:27 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:27 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:27 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:28 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 20:39:28 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:28 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:28 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:28 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 20:39:28 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:28 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:28 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:29 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 20:39:29 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:29 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:29 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:29 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 20:39:29 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:29 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:29 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:31 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:31 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:31 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:31 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 20:39:31 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 7.99s
2025-11-12 20:39:31 - app.database.repository - INFO - create_collection:104 - Saved flood data collection eb6a2a96-2483-45e9-8409-a78df02f307c with 14 river stations
2025-11-12 20:39:31 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=eb6a2a96-2483-45e9-8409-a78df02f307c
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:39:31 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 20:39:31 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 20:39:31 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 20:40:06 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 4
2025-11-12 20:40:06 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 5
2025-11-12 20:40:11 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 6
2025-11-12 20:44:31 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 20:44:31 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 20:44:31 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 20:44:31 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 20:44:31 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 20:44:31 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 20:44:31 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 4.9mm 24h forecast, intensity=none
2025-11-12 20:44:31 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 20:44:31 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 20:44:32 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 20:44:32 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 20:44:32 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 20:44:32 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 20:44:32 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 20:44:32 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 20:44:32 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 20:44:32 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:32 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:32 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:32 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:32 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:33 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 20:44:33 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:33 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:33 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 20:44:33 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:33 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:34 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 20:44:34 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:34 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:34 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 20:44:34 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:34 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:35 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 20:44:35 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:35 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:35 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:35 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 20:44:35 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:35 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:35 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:36 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 20:44:36 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:36 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:36 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:36 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 20:44:36 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:36 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:36 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:37 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 20:44:37 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:37 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:37 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:37 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 20:44:37 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:37 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:37 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:39 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 20:44:39 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:39 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:39 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:39 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 20:44:39 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 8.45s
2025-11-12 20:44:39 - app.database.repository - INFO - create_collection:104 - Saved flood data collection f970f276-9156-4daf-8265-9642273a50ca with 14 river stations
2025-11-12 20:44:39 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=f970f276-9156-4daf-8265-9642273a50ca
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:44:39 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 20:44:39 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 20:44:39 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:44:31.545515", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:44:31.545515", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:44:31.545515", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:44:31.545515", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:44:31.545515", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 4.92, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.67, "humidity_pct": 84, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T20:00:00", "rain_mm": 0.0, "temp_c": 28.42, "humidity_pct": 83, "pop": 0}, {"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.67, "humidity_pct": 84, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.32, "humidity_pct": 83, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 27.85, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.32, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.46, "humidity_pct": 86, "pop": 0}], "timestamp": "2025-11-12T20:44:31.719593", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T20:44:39.893211", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 20:44:39 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:44:39 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 5
2025-11-12 20:44:39 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 5 clients
2025-11-12 20:44:39 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 20:44:39 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 20:47:22 - app.main - INFO - get_route:507 - Route request: (14.656499917802734, 121.0938021747009) -> (14.655098402947672, 121.09934941736373)
2025-11-12 20:47:22 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.656499917802734, 121.0938021747009) -> (14.655098402947672, 121.09934941736373)
2025-11-12 20:47:22 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 317496239 to 12206558412 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:47:22 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 26 nodes. Blocked 0 edges during search.
2025-11-12 20:47:22 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=681m, risk=0.01
2025-11-12 20:48:50 - app.main - INFO - get_route:507 - Route request: (14.65530351656524, 121.0990326002763) -> (14.658309296109394, 121.10108030234699)
2025-11-12 20:48:50 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.65530351656524, 121.0990326002763) -> (14.658309296109394, 121.10108030234699)
2025-11-12 20:48:50 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 33120912 to 10789370050 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:48:50 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 29 nodes. Blocked 0 edges during search.
2025-11-12 20:48:50 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=535m, risk=0.02
2025-11-12 20:49:39 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 20:49:39 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 20:49:39 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 20:49:40 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 20:49:40 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 20:49:40 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 20:49:40 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 4.9mm 24h forecast, intensity=none
2025-11-12 20:49:40 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 20:49:40 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 20:49:41 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 20:49:41 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 20:49:41 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 20:49:41 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 20:49:41 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 20:49:41 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 20:49:41 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 20:49:41 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:41 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:41 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:41 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:41 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:41 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:42 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 20:49:42 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:42 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:42 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 20:49:42 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:42 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:43 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 20:49:43 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:43 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:43 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 20:49:43 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:43 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:44 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 20:49:44 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:44 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:44 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 20:49:44 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:44 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:45 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 20:49:45 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:45 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:45 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:45 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 20:49:45 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:45 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:45 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:47 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 20:49:47 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:47 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:47 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:47 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 20:49:47 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:47 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:47 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:48 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 20:49:48 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:48 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:48 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:48 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:48 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 20:49:48 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 8.88s
2025-11-12 20:49:48 - app.database.repository - INFO - create_collection:104 - Saved flood data collection e1604fbd-441c-4ecf-9e34-b442b0a2da25 with 14 river stations
2025-11-12 20:49:48 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=e1604fbd-441c-4ecf-9e34-b442b0a2da25
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:49:48 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 5 clients
2025-11-12 20:49:48 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 20:49:48 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 20:50:58 - app.main - INFO - get_route:507 - Route request: (14.65530351656524, 121.0990326002763) -> (14.658309296109394, 121.10108030234699)
2025-11-12 20:50:58 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.65530351656524, 121.0990326002763) -> (14.658309296109394, 121.10108030234699)
2025-11-12 20:50:58 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 33120912 to 10789370050 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:50:58 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 29 nodes. Blocked 0 edges during search.
2025-11-12 20:50:58 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=535m, risk=0.02
2025-11-12 20:54:48 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 20:54:48 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 20:54:48 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 20:54:48 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 20:54:48 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 20:54:48 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 20:54:49 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 4.9mm 24h forecast, intensity=none
2025-11-12 20:54:49 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 20:54:49 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 20:54:50 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 20:54:50 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 20:54:50 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 20:54:50 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 20:54:50 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 20:54:50 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:50 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:50 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:50 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 20:54:50 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:50 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:50 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:52 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 20:54:52 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:52 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:52 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:52 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 20:54:52 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:52 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:52 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:53 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 20:54:53 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:53 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:53 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:53 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 20:54:53 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:53 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:53 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:54 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 20:54:54 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:54 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:54 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 20:54:54 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:54 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:55 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 20:54:55 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:55 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:55 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:57 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:57 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:57 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 20:54:57 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 8.62s
2025-11-12 20:54:57 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 7bbd1233-333b-42ec-ad1f-c18c00a775be with 14 river stations
2025-11-12 20:54:57 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=7bbd1233-333b-42ec-ad1f-c18c00a775be
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:54:57 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 5 clients
2025-11-12 20:54:57 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 20:54:57 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 20:59:57 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 20:59:57 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 20:59:57 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 20:59:57 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 20:59:57 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 20:59:57 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 20:59:57 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 4.9mm 24h forecast, intensity=none
2025-11-12 20:59:57 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 20:59:57 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 20:59:58 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 20:59:58 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 20:59:58 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 20:59:58 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 20:59:58 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 20:59:58 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 20:59:58 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 20:59:58 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:59:58 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:59:58 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:59:58 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:59:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:59:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:59:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:59:59 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 20:59:59 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:59:59 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:59:59 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:59:59 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 20:59:59 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:59:59 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:59:59 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:01 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:00:01 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:01 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:01 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:00:01 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:01 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:02 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:00:02 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:02 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:02 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:00:02 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:02 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:03 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 21:00:03 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:03 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:03 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:00:03 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:03 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:05 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:05 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:05 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:00:05 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 7.83s
2025-11-12 21:00:05 - app.database.repository - INFO - create_collection:104 - Saved flood data collection a737b3c6-8df6-4115-adb9-bdec8be63680 with 14 river stations
2025-11-12 21:00:05 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=a737b3c6-8df6-4115-adb9-bdec8be63680
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:00:05 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 5 clients
2025-11-12 21:00:05 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:00:05 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 21:05:05 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 21:05:05 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 21:05:05 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 21:05:05 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 21:05:05 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 21:05:05 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 21:05:05 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 21:05:05 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 21:05:05 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 21:05:06 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 21:05:06 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 21:05:06 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 21:05:06 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 21:05:06 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 21:05:06 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 21:05:06 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 21:05:06 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:06 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:06 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:06 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:06 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:06 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:06 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:08 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:05:08 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:08 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:08 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:08 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:05:08 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:08 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:08 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:11 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:05:11 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:11 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:11 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:11 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:05:11 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:11 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:11 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:12 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:05:12 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 7.54s
2025-11-12 21:05:12 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 3f8a67d7-4f7a-4caa-a382-75b780f6e927 with 14 river stations
2025-11-12 21:05:12 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=3f8a67d7-4f7a-4caa-a382-75b780f6e927
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:05:12 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 5 clients
2025-11-12 21:05:12 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:05:12 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 21:10:12 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 21:10:12 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 21:10:12 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 21:10:13 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 21:10:13 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 21:10:13 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 21:10:13 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 21:10:13 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 21:10:13 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 21:10:14 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 21:10:14 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 21:10:14 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 21:10:14 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 21:10:14 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 21:10:14 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:14 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:14 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 21:10:14 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:14 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:15 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 21:10:15 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:15 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:15 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:15 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:10:15 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:15 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:15 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:17 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:10:17 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:17 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:17 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:10:17 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:17 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:18 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:10:18 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:18 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:18 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 21:10:18 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:18 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:19 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:10:19 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:19 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:19 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:10:19 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:19 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:20 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:10:20 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:20 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:20 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:10:20 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:20 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:21 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:21 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:21 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:21 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:10:21 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 8.19s
2025-11-12 21:10:21 - app.database.repository - INFO - create_collection:104 - Saved flood data collection e36a2905-d182-470d-8961-a02db34f4b53 with 14 river stations
2025-11-12 21:10:21 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=e36a2905-d182-470d-8961-a02db34f4b53
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:10:21 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 5 clients
2025-11-12 21:10:21 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:10:21 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 21:15:21 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 21:15:21 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 21:15:21 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 21:15:21 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 21:15:21 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 21:15:21 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 21:15:21 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 21:15:21 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 21:15:21 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 21:15:22 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 21:15:22 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 21:15:22 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 21:15:22 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 21:15:22 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 21:15:22 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:22 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:22 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:22 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 21:15:22 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:22 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:22 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:23 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 21:15:23 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:23 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:23 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:23 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:15:23 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:23 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:23 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:24 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:15:24 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:24 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:24 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:24 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:15:24 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:24 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:24 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:24 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:15:24 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:24 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:24 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:25 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:15:25 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:25 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:25 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:25 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:15:25 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:25 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:25 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:26 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:15:26 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:26 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:26 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 21:15:26 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:26 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:26 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:15:26 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:26 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:27 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:15:27 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:27 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:27 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:27 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:15:27 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:27 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:27 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:28 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:28 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:28 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:28 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:15:28 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 21:15:28 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:15:28 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:15:28 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:15:28 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:15:28 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:15:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:15:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:15:28 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:15:28 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:15:28 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:15:28 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:15:28 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 7.49s
2025-11-12 21:15:28 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 3c63d46f-bcad-4c30-bc05-04e72b50f415 with 14 river stations
2025-11-12 21:15:28 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=3c63d46f-bcad-4c30-bc05-04e72b50f415
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:15:28 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:15:28 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 5 clients
2025-11-12 21:15:28 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:15:28 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 21:20:28 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 21:20:28 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 21:20:28 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 21:20:29 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 21:20:29 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 21:20:29 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 21:20:29 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 21:20:29 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 21:20:29 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 21:20:30 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 21:20:30 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 21:20:30 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 21:20:30 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 21:20:30 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 21:20:30 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:30 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:30 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:30 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 21:20:30 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:30 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:30 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:30 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 21:20:30 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:30 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:30 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:31 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:20:31 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:31 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:31 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:31 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:20:31 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:31 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:31 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:32 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:20:32 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:32 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:32 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:32 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:20:32 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:32 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:32 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:32 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:20:32 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:32 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:32 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:33 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:20:33 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:33 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:33 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:20:33 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:33 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:34 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 21:20:34 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:34 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:34 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:20:34 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:34 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:34 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:20:34 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:34 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:35 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:20:35 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:35 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:35 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:35 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:20:35 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:20:35 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:20:35 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:20:35 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:20:35 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:20:35 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:20:35 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 7.28s
2025-11-12 21:20:35 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 24253ca9-1a64-4989-ab86-db4cedd3079d with 14 river stations
2025-11-12 21:20:35 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=24253ca9-1a64-4989-ab86-db4cedd3079d
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:20:35 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:20:35 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 5 clients
2025-11-12 21:20:35 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:20:35 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 21:25:35 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 21:25:35 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 21:25:35 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 21:25:36 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 21:25:36 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 21:25:36 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 21:25:36 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 21:25:36 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 21:25:36 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 21:25:37 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 21:25:37 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 21:25:37 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 21:25:37 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 21:25:37 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 21:25:37 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 21:25:37 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 21:25:37 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:37 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:37 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:37 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:37 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:38 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 21:25:38 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:38 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:38 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 21:25:38 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:38 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:38 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:38 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:25:39 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:39 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:39 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:25:39 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:39 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:39 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:25:39 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:39 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:40 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:25:40 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:40 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:40 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:40 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:25:40 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:40 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:40 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:41 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:25:41 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:41 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:41 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:41 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:25:41 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:41 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:41 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:41 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:42 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 21:25:42 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:42 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:42 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:25:42 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:42 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:43 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:25:43 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:43 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:43 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:25:43 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:43 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:43 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:44 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:44 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:25:44 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 21:25:44 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:25:44 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:25:44 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:25:44 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:25:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:25:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:25:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:25:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:25:44 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:25:44 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:25:44 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:25:44 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 8.46s
2025-11-12 21:25:44 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 8da1097d-e890-4145-832d-f8e105fd472c with 14 river stations
2025-11-12 21:25:44 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=8da1097d-e890-4145-832d-f8e105fd472c
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:25:44 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:25:44 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 5 clients
2025-11-12 21:25:44 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:25:44 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 21:30:44 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 21:30:44 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 21:30:44 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 21:30:44 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 21:30:44 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 21:30:44 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 21:30:44 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 21:30:44 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 21:30:44 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 21:30:45 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 21:30:45 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 21:30:45 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 21:30:45 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 21:30:45 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 21:30:45 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 21:30:45 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 21:30:45 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:45 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:45 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:45 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:45 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:46 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 21:30:46 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:46 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:46 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 21:30:46 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:46 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:47 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:30:47 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:47 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:47 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:47 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:30:47 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:47 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:47 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:48 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:30:48 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:48 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:48 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:48 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:30:48 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:48 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:48 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:48 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:30:48 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:48 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:48 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:49 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:30:49 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:49 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:49 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:49 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:30:49 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:49 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:49 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:49 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:50 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 21:30:50 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:50 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:50 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:50 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:30:50 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:50 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:50 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:51 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:30:51 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:51 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:51 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:51 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:30:51 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:51 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:51 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:52 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:52 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:52 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:52 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:30:52 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 21:30:52 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:30:52 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:30:52 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:30:52 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:30:52 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:30:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:30:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:30:52 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:30:52 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:30:52 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:30:52 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:30:52 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 8.03s
2025-11-12 21:30:52 - app.database.repository - INFO - create_collection:104 - Saved flood data collection c3d55797-873b-4f23-b4e6-bbf316735c31 with 14 river stations
2025-11-12 21:30:52 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=c3d55797-873b-4f23-b4e6-bbf316735c31
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:30:52 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:30:52 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 5 clients
2025-11-12 21:30:52 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:30:52 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 21:35:36 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 6
2025-11-12 21:35:36 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 7
2025-11-12 21:35:36 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 8
2025-11-12 21:35:41 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 9
2025-11-12 21:35:52 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 21:35:52 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 21:35:52 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 21:35:52 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 21:35:52 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 21:35:52 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 21:35:52 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 21:35:52 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 21:35:52 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 21:35:53 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 21:35:53 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 21:35:53 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 21:35:53 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 21:35:53 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 21:35:53 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 21:35:53 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 21:35:53 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:53 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:53 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:53 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:53 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:54 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 21:35:54 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:54 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:54 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 21:35:54 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:54 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:55 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:35:55 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:55 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:55 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:35:55 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:55 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:55 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:35:55 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:55 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:56 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:35:56 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:56 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:56 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:35:56 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:56 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:57 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:35:57 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:57 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:57 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:35:57 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:57 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:58 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 21:35:58 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:58 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:58 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:35:58 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:58 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:58 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:35:58 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:58 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:59 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:35:59 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:59 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:59 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:35:59 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:35:59 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:35:59 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:35:59 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:35:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:36:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:36:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:36:00 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:36:00 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:36:00 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:36:00 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 7.82s
2025-11-12 21:36:00 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 06ec48ab-208e-43ff-8cf6-0d1d92fed45a with 14 river stations
2025-11-12 21:36:00 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=06ec48ab-208e-43ff-8cf6-0d1d92fed45a
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:36:00 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:36:00 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:36:00 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 85, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 84, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:35:52.851042", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:36:00.364605", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:36:00 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:36:00 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:36:00 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:36:00 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 85, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 84, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:35:52.851042", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:36:00.364605", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:36:00 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:36:00 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:36:00 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:36:00 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 85, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 84, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:35:52.851042", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:36:00.364605", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:36:00 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:36:00 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:36:00 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:36:00 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 85, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 84, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:35:52.851042", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:36:00.364605", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:36:00 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:36:00 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:36:00 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:36:00 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 85, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 84, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:35:52.851042", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:36:00.364605", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:36:00 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:36:00 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:36:00 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:36:00 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:36:00 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:35:52.659410", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 85, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 84, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:35:52.851042", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:35:53.774683", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:36:00.364605", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:36:00 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 8
2025-11-12 21:36:00 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 7
2025-11-12 21:36:00 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 6
2025-11-12 21:36:00 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 5
2025-11-12 21:36:00 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 4
2025-11-12 21:36:00 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 3
2025-11-12 21:36:00 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 21:36:00 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:36:00 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 21:39:36 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 4
2025-11-12 21:39:37 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 5
2025-11-12 21:39:37 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 6
2025-11-12 21:39:42 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 7
2025-11-12 21:40:12 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 8
2025-11-12 21:40:12 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 9
2025-11-12 21:40:12 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 10
2025-11-12 21:40:17 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 11
2025-11-12 21:41:00 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 21:41:00 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 21:41:00 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 21:41:00 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 21:41:00 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 21:41:00 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 21:41:00 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 21:41:00 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 21:41:00 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 21:41:01 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 21:41:01 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 21:41:01 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 21:41:01 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 21:41:01 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 21:41:01 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 21:41:01 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 21:41:01 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:01 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:01 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:01 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:02 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 21:41:02 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:02 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:02 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 21:41:02 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:02 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:03 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:41:03 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:03 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:03 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:41:03 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:03 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:04 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:41:04 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:04 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:04 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:41:04 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:04 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:05 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:41:05 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:05 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:05 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:05 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:41:05 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:05 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:05 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:06 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:41:06 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:06 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:06 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:06 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 21:41:06 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:06 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:06 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:06 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:07 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:07 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:07 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:07 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:41:07 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 21:41:07 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:07 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:07 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:07 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:07 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:07 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:07 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:07 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:41:08 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:08 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:08 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:08 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:41:08 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:08 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:08 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:09 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:09 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:09 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:41:09 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 21:41:09 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:41:09 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:41:09 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:41:09 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:41:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:41:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:41:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:41:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:41:09 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:41:09 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:41:09 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:41:09 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 9.17s
2025-11-12 21:41:09 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 677246be-6052-4519-9238-8c0b069c597e with 14 river stations
2025-11-12 21:41:09 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=677246be-6052-4519-9238-8c0b069c597e
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:41:09 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:41:09 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:41:09 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 86, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:41:00.737436", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:41:09.598343", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:41:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:41:09 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:41:09 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:41:09 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 86, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:41:00.737436", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:41:09.598343", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:41:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:41:09 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:41:09 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:41:09 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 86, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:41:00.737436", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:41:09.598343", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:41:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:41:09 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:41:09 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:41:09 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 86, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:41:00.737436", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:41:09.598343", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:41:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:41:09 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:41:09 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:41:09 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 86, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:41:00.737436", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:41:09.598343", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:41:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:41:09 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:41:09 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:41:09 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 86, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:41:00.737436", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:41:09.598343", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:41:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:41:09 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:41:09 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:41:09 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 86, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:41:00.737436", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:41:09.598343", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:41:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6095, type: <class 'str'>
2025-11-12 21:41:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:41:09 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:41:09 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:41:09 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:41:00.540603", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.66, "humidity_pct": 86, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.37, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.66, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 28.25, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.76, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 27, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:41:00.737436", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:41:01.692191", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:41:09.598343", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:41:09 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 10
2025-11-12 21:41:09 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 9
2025-11-12 21:41:09 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 8
2025-11-12 21:41:09 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 7
2025-11-12 21:41:09 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 6
2025-11-12 21:41:09 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 5
2025-11-12 21:41:09 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 4
2025-11-12 21:41:09 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 3
2025-11-12 21:41:09 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 21:41:09 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:41:09 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 21:41:15 - app.main - INFO - get_route:507 - Route request: (14.635755878309041, 121.089376798165) -> (14.64869770407337, 121.09767556911231)
2025-11-12 21:41:15 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.635755878309041, 121.089376798165) -> (14.64869770407337, 121.09767556911231)
2025-11-12 21:41:15 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 949366039 to 32085112 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 21:41:15 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 91 nodes. Blocked 0 edges during search.
2025-11-12 21:41:15 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=2078m, risk=0.00
2025-11-12 21:46:09 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 21:46:09 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 21:46:09 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 21:46:09 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 21:46:09 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 21:46:09 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 21:46:09 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 21:46:09 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 21:46:09 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 21:46:11 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 21:46:11 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 21:46:11 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 21:46:11 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 21:46:11 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 21:46:11 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:11 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:11 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:11 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 21:46:11 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:11 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:11 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:12 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 21:46:12 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:12 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:12 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:46:12 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:12 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:13 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:46:13 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:13 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:13 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:46:13 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:13 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:14 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:46:14 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:14 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:14 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:46:14 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:14 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:15 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:46:15 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:15 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:15 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:15 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:46:15 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:15 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:15 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:16 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 21:46:16 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:16 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:16 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:46:16 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:16 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:17 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:46:17 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:17 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:17 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:46:17 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:17 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:18 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:18 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:18 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:46:18 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 21:46:18 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:46:18 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:46:18 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:46:18 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:46:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:46:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:46:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:46:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:46:18 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:46:18 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:46:18 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:46:18 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 9.20s
2025-11-12 21:46:18 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 40ffe318-1c19-4ae8-8848-808d6e841ffb with 14 river stations
2025-11-12 21:46:18 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=40ffe318-1c19-4ae8-8848-808d6e841ffb
2025-11-12 21:46:18 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:46:18 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 21:46:18 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:46:18 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:46:18 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 21:46:18 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:46:18 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:46:18 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 21:46:18 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:46:18 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:46:18 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 21:46:18 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:46:18 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 21:51:18 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 21:51:18 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 21:51:18 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 21:51:19 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 21:51:19 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 21:51:19 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 21:51:19 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 21:51:19 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 21:51:19 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 21:51:20 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 21:51:20 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 21:51:20 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 21:51:20 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 21:51:20 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 21:51:20 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 21:51:20 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 21:51:20 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:20 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:20 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:20 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:21 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 21:51:21 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:21 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:21 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:21 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 21:51:21 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:21 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:21 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:22 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:51:22 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:22 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:22 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:22 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:51:22 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:22 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:22 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:23 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:23 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:23 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:23 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:51:23 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 21:51:23 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:23 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:23 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:23 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:23 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:24 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:51:24 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:24 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:24 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:24 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:51:24 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:24 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:24 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:25 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:51:25 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:25 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:25 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:25 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:51:25 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:25 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:25 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:26 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 21:51:26 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:26 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:26 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:51:26 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:26 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:27 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:51:27 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:27 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:27 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:27 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:51:27 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:27 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:27 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:28 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:28 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:28 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:28 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:51:28 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 21:51:28 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:28 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:28 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:28 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:51:28 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:51:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:51:29 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:29 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:29 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:51:29 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:51:29 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 10.15s
2025-11-12 21:51:29 - app.database.repository - INFO - create_collection:104 - Saved flood data collection db82644f-4d05-48bf-ba34-13ba975159dc with 14 river stations
2025-11-12 21:51:29 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=db82644f-4d05-48bf-ba34-13ba975159dc
2025-11-12 21:51:29 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:51:29 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 21:51:29 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:51:29 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:51:29 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 21:51:29 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:51:29 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:51:29 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 21:51:29 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:51:29 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:51:29 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 21:51:29 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:51:29 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 21:51:51 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-12 21:51:51 - app.main - INFO - <module>:377 - Initializing MAS-FRO Multi-Agent System...
2025-11-12 21:51:52 - app.communication.message_queue - INFO - __init__:46 - MessageQueue system initialized
2025-11-12 21:51:52 - app.agents.hazard_agent_001 - INFO - __init__:36 - Agent hazard_agent_001 created
2025-11-12 21:51:52 - app.agents.hazard_agent - INFO - __init__:108 - hazard_agent_001 GeoTIFF integration DISABLED
2025-11-12 21:51:52 - app.agents.hazard_agent - INFO - __init__:117 - hazard_agent_001 initialized with risk weights: {'flood_depth': 0.5, 'crowdsourced': 0.3, 'historical': 0.2}, return_period: rr01, time_step: 1, geotiff_enabled: False
2025-11-12 21:51:52 - app.agents.flood_agent_001 - INFO - __init__:36 - Agent flood_agent_001 created
2025-11-12 21:51:52 - app.agents.flood_agent - INFO - __init__:106 - flood_agent_001 initialized RiverScraperService
2025-11-12 21:51:52 - app.agents.flood_agent - INFO - __init__:114 - flood_agent_001 initialized OpenWeatherMapService
2025-11-12 21:51:52 - services.dam_water_scraper_service - INFO - __init__:164 - DamWaterScraperService initialized
2025-11-12 21:51:52 - app.agents.flood_agent - INFO - __init__:125 - flood_agent_001 initialized DamWaterScraperService
2025-11-12 21:51:52 - services.data_sources - INFO - __init__:309 - DataCollector initialized: simulated=False, pagasa=False, noah=False, mmda=False
2025-11-12 21:51:52 - app.agents.flood_agent - INFO - __init__:153 - flood_agent_001 initialized with update interval 300s, real_apis=True, simulated=False
2025-11-12 21:51:52 - app.agents.routing_agent_001 - INFO - __init__:36 - Agent routing_agent_001 created
2025-11-12 21:51:52 - app.agents.routing_agent - INFO - _load_evacuation_centers:402 - Loaded 36 evacuation centers from C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\data\evacuation_centers.csv
2025-11-12 21:51:52 - app.agents.routing_agent - INFO - __init__:71 - routing_agent_001 initialized with risk_weight=0.6, distance_weight=0.4, evacuation_centers=36
2025-11-12 21:51:52 - app.agents.evac_manager_001 - INFO - __init__:36 - Agent evac_manager_001 created
2025-11-12 21:51:52 - app.agents.evacuation_manager_agent - INFO - __init__:90 - evac_manager_001 initialized
2025-11-12 21:51:52 - app.agents.flood_agent - INFO - set_hazard_agent:167 - flood_agent_001 linked to hazard_agent_001
2025-11-12 21:51:52 - app.agents.evacuation_manager_agent - INFO - set_hazard_agent:126 - evac_manager_001 linked to hazard_agent_001
2025-11-12 21:51:52 - app.agents.evacuation_manager_agent - INFO - set_routing_agent:116 - evac_manager_001 linked to routing_agent_001
2025-11-12 21:51:52 - app.services.flood_data_scheduler - INFO - __init__:71 - FloodDataScheduler initialized with interval=300s (5.0 minutes), WebSocket broadcasting=enabled
2025-11-12 21:51:52 - app.main - INFO - <module>:425 - MAS-FRO system initialized successfully
2025-11-12 21:51:52 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-12 21:51:52 - app.main - INFO - startup_event:434 - ============================================================
2025-11-12 21:51:52 - app.main - INFO - startup_event:435 - MAS-FRO Backend Starting Up
2025-11-12 21:51:52 - app.main - INFO - startup_event:436 - ============================================================
2025-11-12 21:51:52 - app.main - INFO - startup_event:437 - Structured logging initialized - logs written to logs/masfro.log
2025-11-12 21:51:52 - app.main - INFO - startup_event:440 - Checking database connection...
2025-11-12 21:51:52 - app.database.connection - INFO - check_connection:92 - [OK] Database connection successful
2025-11-12 21:51:52 - app.main - INFO - startup_event:442 - Database connection successful
2025-11-12 21:51:52 - app.database.connection - INFO - init_db:76 - [OK] Database tables created successfully
2025-11-12 21:51:52 - app.main - INFO - startup_event:449 - Starting background scheduler...
2025-11-12 21:51:52 - app.services.flood_data_scheduler - INFO - start:265 - [OK] FloodDataScheduler started (interval=300s)
2025-11-12 21:51:52 - app.main - INFO - startup_event:453 - Automated flood data collection started (every 5 minutes)
2025-11-12 21:51:52 - app.services.flood_data_scheduler - INFO - _collection_loop:179 - FloodDataScheduler started
2025-11-12 21:51:52 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 21:51:52 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 21:51:52 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 21:51:52 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 21:51:52 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 21:51:52 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 21:51:52 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 1
2025-11-12 21:51:52 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 2
2025-11-12 21:51:52 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 21:51:52 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 21:51:52 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 21:51:54 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 21:51:54 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 21:51:54 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 21:51:54 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 21:51:54 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 1 locations
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 2 locations
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 3 locations
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 4 locations
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 5 locations
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 6 locations
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 7 locations
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 8 locations
2025-11-12 21:51:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 9 locations
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:55 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 3
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 10 locations
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 11 locations
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 12 locations
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 13 locations
2025-11-12 21:51:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:56 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:51:56 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:56 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 14 locations
2025-11-12 21:51:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:56 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:51:56 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:51:56 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:51:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:51:56 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:51:56 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:51:56 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:51:56 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 4.37s
2025-11-12 21:51:56 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 8dfb2ab1-e143-4c85-b928-ebaa27426e3a with 14 river stations
2025-11-12 21:51:56 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=8dfb2ab1-e143-4c85-b928-ebaa27426e3a
2025-11-12 21:51:56 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:51:56 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 21:51:56 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:51:56 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:51:56 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 21:51:56 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:51:56 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:51:56 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 21:51:56 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:51:56 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:51:56 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 21:51:56 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:51:56 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 21:54:38 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 4
2025-11-12 21:54:38 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 5
2025-11-12 21:54:38 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 6
2025-11-12 21:54:43 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 7
2025-11-12 21:56:56 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 21:56:56 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 21:56:56 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 21:56:57 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 21:56:57 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 21:56:57 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 21:56:57 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 21:56:57 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 21:56:57 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 21:56:58 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 21:56:58 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 21:56:58 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 21:56:58 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 21:56:58 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-12 21:56:58 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:56:58 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:56:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:56:58 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-12 21:56:58 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:56:58 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:56:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:56:58 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 21:56:58 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:56:58 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:56:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:56:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:56:59 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:56:59 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:56:59 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:56:59 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:56:59 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:56:59 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:56:59 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:56:59 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:56:59 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:56:59 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:56:59 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:56:59 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:56:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:57:00 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:57:00 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:57:00 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:57:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:57:00 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:57:00 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:57:00 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:57:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:57:00 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:57:00 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:57:00 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:57:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:57:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:57:01 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:57:01 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:57:01 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:57:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:57:01 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-12 21:57:01 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:57:01 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:57:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:57:01 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:57:01 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:57:01 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:57:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:57:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:57:02 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:57:02 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:57:02 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:57:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:57:02 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:57:02 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:57:02 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:57:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:57:02 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:57:02 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 21:57:02 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 21:57:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:57:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 21:57:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:57:03 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:57:03 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 21:57:03 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:57:03 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 6.22s
2025-11-12 21:57:03 - app.database.repository - INFO - create_collection:104 - Saved flood data collection c04434eb-2dc7-4d09-96ff-c951718272ad with 14 river stations
2025-11-12 21:57:03 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=c04434eb-2dc7-4d09-96ff-c951718272ad
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:57:03 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:57:03 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:57:03 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.26, "humidity_pct": 86, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.05, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.26, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 27.93, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.52, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.6, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 26.92, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:56:57.253344", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:57:03.173664", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:57:03 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:57:03 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:57:03 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:57:03 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.26, "humidity_pct": 86, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.05, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.26, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 27.93, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.52, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.6, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 26.92, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:56:57.253344", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:57:03.173664", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:57:03 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:57:03 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:57:03 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:57:03 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.26, "humidity_pct": 86, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.05, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.26, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 27.93, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.52, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.6, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 26.92, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:56:57.253344", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:57:03.173664", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:57:03 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 21:57:03 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:57:03 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 21:57:03 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 21:57:03 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T21:56:57.059912", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 5.08, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.26, "humidity_pct": 86, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.05, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.26, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 27.93, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.52, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.6, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T02:00:00", "rain_mm": 0.0, "temp_c": 26.92, "humidity_pct": 87, "pop": 0}], "timestamp": "2025-11-12T21:56:57.253344", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T21:56:58.298640", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T21:57:03.173664", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 21:57:03 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 6
2025-11-12 21:57:03 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 5
2025-11-12 21:57:03 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 4
2025-11-12 21:57:03 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 3
2025-11-12 21:57:03 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 21:57:03 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:57:03 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 22:02:03 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 22:02:03 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 22:02:03 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 22:02:03 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 22:02:03 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 22:02:03 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 22:02:03 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 22:02:03 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 22:02:03 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 22:02:05 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 22:02:05 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 22:02:05 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 22:02:05 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 22:02:05 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 22:02:05 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-12 22:02:05 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-12 22:02:05 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:05 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:05 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:05 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:05 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:05 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:05 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:05 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-12 22:02:05 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-12 22:02:05 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:05 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:05 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:05 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:05 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:06 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:06 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:07 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 22:02:07 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:07 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:07 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:07 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-12 22:02:07 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:07 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:07 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:07 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-12 22:02:07 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:07 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:07 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:08 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 22:02:08 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:08 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:08 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:08 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-12 22:02:08 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:08 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:08 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:08 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-12 22:02:08 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:08 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:08 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:09 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 22:02:09 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:09 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:09 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 22:02:09 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:09 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:09 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 22:02:09 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:02:09 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:02:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:02:09 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:02:09 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:02:09 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 22:02:09 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 6.70s
2025-11-12 22:02:09 - app.database.repository - INFO - create_collection:104 - Saved flood data collection be10e130-ba27-4c69-806c-000e9f8110d5 with 14 river stations
2025-11-12 22:02:09 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=be10e130-ba27-4c69-806c-000e9f8110d5
2025-11-12 22:02:09 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 22:02:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:02:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:02:09 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:02:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:02:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:02:09 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:02:09 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:02:09 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:02:09 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:02:09 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 22:02:09 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 22:02:09 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 22:07:09 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 22:07:09 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 22:07:09 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 22:07:10 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 22:07:10 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 22:07:10 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 22:07:10 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 22:07:10 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 22:07:10 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 22:07:11 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 22:07:11 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 22:07:11 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 22:07:11 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 22:07:11 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-12 22:07:11 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:11 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:11 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:11 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-12 22:07:11 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:11 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:11 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:11 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 22:07:11 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:11 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:11 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:12 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 22:07:12 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:12 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:12 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 22:07:12 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:12 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:12 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 22:07:12 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:12 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:15 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:15 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:15 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:15 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 22:07:15 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-12 22:07:15 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:07:15 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:07:15 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:07:15 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:07:15 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:07:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:07:15 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:07:15 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:07:15 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:07:15 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 22:07:15 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 5.58s
2025-11-12 22:07:15 - app.database.repository - INFO - create_collection:104 - Saved flood data collection b13c515d-0139-4c67-8321-9d9adcc1b61c with 14 river stations
2025-11-12 22:07:15 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=b13c515d-0139-4c67-8321-9d9adcc1b61c
2025-11-12 22:07:15 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 22:07:15 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:07:15 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:07:15 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:07:15 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:07:15 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:07:15 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:07:15 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:07:15 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:07:15 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:07:15 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 22:07:15 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 22:07:15 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 22:12:15 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 22:12:15 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 22:12:15 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 22:12:15 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 22:12:15 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 22:12:15 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 22:12:15 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 22:12:15 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 22:12:15 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 22:12:17 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 22:12:17 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 22:12:17 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 22:12:17 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 22:12:17 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:18 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 22:12:18 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:18 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:18 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 22:12:18 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:18 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:18 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 22:12:18 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:18 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:19 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-12 22:12:19 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:19 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:19 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-12 22:12:19 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:19 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:19 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 22:12:19 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:19 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:20 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-12 22:12:20 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:20 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:20 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-12 22:12:20 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:20 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:20 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 22:12:20 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:20 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:21 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 22:12:21 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:21 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:21 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:21 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 22:12:21 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:12:21 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:12:21 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:12:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:12:22 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:12:22 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:12:22 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:12:22 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 22:12:22 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 6.45s
2025-11-12 22:12:22 - app.database.repository - INFO - create_collection:104 - Saved flood data collection ae958ac4-c72e-4b97-84ec-a5d033a57a93 with 14 river stations
2025-11-12 22:12:22 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=ae958ac4-c72e-4b97-84ec-a5d033a57a93
2025-11-12 22:12:22 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 22:12:22 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:12:22 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:12:22 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:12:22 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:12:22 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:12:22 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:12:22 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:12:22 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:12:22 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:12:22 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 22:12:22 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 22:12:22 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 22:17:22 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 22:17:22 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 22:17:22 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 22:17:22 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 22:17:22 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 22:17:22 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 22:17:22 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 22:17:22 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 22:17:22 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 22:17:23 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 22:17:23 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 22:17:23 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 22:17:23 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 22:17:23 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 22:17:23 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-12 22:17:23 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-12 22:17:23 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:23 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:23 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:23 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:23 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:23 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:23 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:23 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:23 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-12 22:17:23 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-12 22:17:23 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:23 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:23 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:23 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:23 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:24 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 22:17:24 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:24 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:24 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:24 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 22:17:24 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:24 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:24 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:24 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 22:17:24 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:24 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:24 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:25 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 22:17:25 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:25 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:25 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:25 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 22:17:25 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:25 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:25 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:25 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-12 22:17:25 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:25 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:25 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:26 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-12 22:17:26 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:26 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:26 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 22:17:26 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:26 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:26 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-12 22:17:26 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:26 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:27 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-12 22:17:27 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:27 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:27 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:27 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 22:17:27 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:27 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:27 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:27 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 22:17:27 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:27 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:27 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:28 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:28 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:28 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:28 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 22:17:28 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-12 22:17:28 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:17:28 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:17:28 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:17:28 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:17:28 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:17:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:17:28 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:17:28 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:17:28 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:17:28 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 22:17:28 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 6.51s
2025-11-12 22:17:28 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 2faa71a0-78c1-4e1d-a81a-54e4e40edb25 with 14 river stations
2025-11-12 22:17:28 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=2faa71a0-78c1-4e1d-a81a-54e4e40edb25
2025-11-12 22:17:28 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 22:17:28 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:17:28 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:17:28 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:17:28 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:17:28 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:17:28 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:17:28 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:17:28 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:17:28 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:17:28 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 22:17:28 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 22:17:28 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 22:22:28 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 22:22:28 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 22:22:28 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 22:22:28 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 22:22:28 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 22:22:28 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 22:22:28 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 22:22:28 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 22:22:28 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 22:22:30 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 22:22:30 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 22:22:30 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 22:22:30 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 22:22:30 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 22:22:30 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-12 22:22:30 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-12 22:22:30 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:30 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:30 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:30 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:30 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:31 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:32 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 22:22:32 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:32 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:32 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:32 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 22:22:32 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:32 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:32 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:32 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-12 22:22:32 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:32 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:32 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:34 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 22:22:34 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:34 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:34 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 22:22:34 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:34 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:34 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 22:22:34 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:22:34 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:22:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:22:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:22:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:22:35 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:22:35 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:22:35 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 22:22:35 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 6.59s
2025-11-12 22:22:35 - app.database.repository - INFO - create_collection:104 - Saved flood data collection b74b7130-c6dc-4cf5-bec0-bfe460bb83f5 with 14 river stations
2025-11-12 22:22:35 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=b74b7130-c6dc-4cf5-bec0-bfe460bb83f5
2025-11-12 22:22:35 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 22:22:35 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:22:35 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:22:35 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:22:35 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:22:35 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:22:35 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:22:35 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6097, type: <class 'str'>
2025-11-12 22:22:35 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:22:35 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:22:35 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 22:22:35 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 22:22:35 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 22:27:35 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 22:27:35 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 22:27:35 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 22:27:35 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 22:27:35 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 22:27:35 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 22:27:35 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 22:27:35 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 22:27:35 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 22:27:36 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 22:27:36 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 22:27:36 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 22:27:36 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 22:27:36 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 22:27:36 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-12 22:27:36 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-12 22:27:36 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:36 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:36 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:36 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:36 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:36 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:36 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:36 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:36 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:36 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-12 22:27:36 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-12 22:27:36 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:36 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:36 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:36 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:36 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:36 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:37 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 22:27:37 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:37 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:37 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:37 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 22:27:37 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:37 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:37 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:37 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 22:27:37 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:37 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:37 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:40 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 22:27:40 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:40 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:40 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:40 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 22:27:40 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:27:40 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:27:40 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:27:40 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:27:40 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:27:40 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 22:27:40 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 5.55s
2025-11-12 22:27:40 - app.database.repository - INFO - create_collection:104 - Saved flood data collection ff3d3651-8dde-4f2f-bb19-e494e823e0e4 with 14 river stations
2025-11-12 22:27:40 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=ff3d3651-8dde-4f2f-bb19-e494e823e0e4
2025-11-12 22:27:40 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 22:27:40 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 22:27:40 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:27:40 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:27:40 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 22:27:40 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:27:40 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:27:40 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 22:27:40 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:27:40 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:27:40 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 22:27:40 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 22:27:40 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 22:32:40 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 22:32:40 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 22:32:40 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 22:32:40 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 22:32:40 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 22:32:40 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 22:32:41 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 22:32:41 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 22:32:41 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 22:32:42 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 22:32:42 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 22:32:42 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 22:32:42 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 22:32:42 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-12 22:32:42 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:42 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:42 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-12 22:32:42 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:42 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:42 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 22:32:42 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:42 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:44 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-12 22:32:44 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:44 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:44 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-12 22:32:44 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:44 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:44 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 22:32:44 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:44 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:45 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:46 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:46 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:46 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 22:32:46 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-12 22:32:46 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:32:46 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:32:46 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:32:46 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:32:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:32:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:32:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:32:46 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:32:46 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:32:46 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 22:32:46 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 5.65s
2025-11-12 22:32:46 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 8015e885-5110-4664-8fc3-76384b9654d8 with 14 river stations
2025-11-12 22:32:46 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=8015e885-5110-4664-8fc3-76384b9654d8
2025-11-12 22:32:46 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 22:32:46 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 22:32:46 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:32:46 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:32:46 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 22:32:46 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:32:46 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:32:46 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 22:32:46 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:32:46 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:32:46 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 22:32:46 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 22:32:46 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 22:37:46 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 22:37:46 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 22:37:46 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 22:37:46 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 22:37:46 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 22:37:46 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 22:37:46 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 22:37:46 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 22:37:46 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 22:37:47 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 22:37:47 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 22:37:47 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 22:37:47 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 22:37:47 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 22:37:47 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-12 22:37:47 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-12 22:37:47 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:47 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:47 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:47 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:47 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:48 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-12 22:37:48 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:48 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:48 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:48 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 22:37:48 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:48 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:48 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:48 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 22:37:48 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:48 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:48 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:49 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 22:37:49 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:49 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:49 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:49 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 22:37:49 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:49 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:49 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:49 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 22:37:49 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:49 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:49 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:49 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:50 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-12 22:37:50 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:50 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:50 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:50 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-12 22:37:50 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:50 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:50 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:51 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 22:37:51 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:51 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:51 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:51 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-12 22:37:51 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:51 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:51 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:51 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-12 22:37:51 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:51 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:51 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:52 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 22:37:52 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:52 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:52 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:52 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 22:37:52 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:52 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:52 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:53 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:53 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:53 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:53 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 22:37:53 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-12 22:37:53 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:37:53 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:37:53 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:37:53 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:37:53 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:37:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:37:53 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:37:53 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:37:53 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:37:53 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 22:37:53 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 6.88s
2025-11-12 22:37:53 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 7aae2630-1916-499d-81d8-3b0c1a3cf567 with 14 river stations
2025-11-12 22:37:53 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=7aae2630-1916-499d-81d8-3b0c1a3cf567
2025-11-12 22:37:53 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 22:37:53 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 22:37:53 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:37:53 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:37:53 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 22:37:53 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:37:53 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:37:53 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 22:37:53 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:37:53 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:37:53 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 22:37:53 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 22:37:53 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 22:42:53 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 22:42:53 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 22:42:53 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 22:42:53 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 22:42:53 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 22:42:53 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 22:42:53 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 22:42:53 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 22:42:53 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 22:42:54 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 22:42:54 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 22:42:54 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 22:42:54 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 22:42:54 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 22:42:54 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-12 22:42:54 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-12 22:42:54 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:54 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:54 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:54 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:57 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 22:42:57 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:57 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:57 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-12 22:42:57 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:57 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:57 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-12 22:42:57 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:57 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:58 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 22:42:58 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:58 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:58 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 22:42:58 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:58 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:58 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 22:42:58 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:42:58 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:42:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:42:58 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:42:58 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:42:58 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 22:42:58 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 5.54s
2025-11-12 22:42:58 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 7aadb5bd-773c-4f80-a9be-69c7510a354e with 14 river stations
2025-11-12 22:42:58 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=7aadb5bd-773c-4f80-a9be-69c7510a354e
2025-11-12 22:42:58 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 22:42:58 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 22:42:58 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:42:58 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:42:58 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 22:42:58 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:42:58 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:42:58 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 22:42:58 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:42:58 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:42:58 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 22:42:58 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 22:42:58 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 22:47:58 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 22:47:58 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 22:47:58 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 22:47:59 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 22:47:59 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 22:47:59 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 22:47:59 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 22:47:59 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 22:47:59 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 22:48:00 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 22:48:00 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 22:48:00 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 22:48:00 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 22:48:00 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-12 22:48:00 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:00 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:00 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-12 22:48:00 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:00 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:00 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 22:48:00 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:00 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-12 22:48:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 22:48:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-12 22:48:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 22:48:04 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-12 22:48:04 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-12 22:48:04 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 22:48:04 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 5.23s
2025-11-12 22:48:04 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 3a043ffa-11ab-4005-86d3-cbb33c171060 with 14 river stations
2025-11-12 22:48:04 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=3a043ffa-11ab-4005-86d3-cbb33c171060
2025-11-12 22:48:04 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 22:48:04 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 22:48:04 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:48:04 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:48:04 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 22:48:04 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:48:04 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:48:04 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 22:48:04 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 22:48:04 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 22:48:04 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 22:48:04 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 22:48:04 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-13 13:29:29 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-13 13:29:29 - app.main - INFO - <module>:377 - Initializing MAS-FRO Multi-Agent System...
2025-11-13 13:29:30 - app.communication.message_queue - INFO - __init__:46 - MessageQueue system initialized
2025-11-13 13:29:30 - app.agents.hazard_agent_001 - INFO - __init__:36 - Agent hazard_agent_001 created
2025-11-13 13:29:30 - app.agents.hazard_agent - INFO - __init__:108 - hazard_agent_001 GeoTIFF integration DISABLED
2025-11-13 13:29:30 - app.agents.hazard_agent - INFO - __init__:117 - hazard_agent_001 initialized with risk weights: {'flood_depth': 0.5, 'crowdsourced': 0.3, 'historical': 0.2}, return_period: rr01, time_step: 1, geotiff_enabled: False
2025-11-13 13:29:30 - app.agents.flood_agent_001 - INFO - __init__:36 - Agent flood_agent_001 created
2025-11-13 13:29:30 - app.agents.flood_agent - INFO - __init__:106 - flood_agent_001 initialized RiverScraperService
2025-11-13 13:29:30 - app.agents.flood_agent - INFO - __init__:114 - flood_agent_001 initialized OpenWeatherMapService
2025-11-13 13:29:30 - services.dam_water_scraper_service - INFO - __init__:164 - DamWaterScraperService initialized
2025-11-13 13:29:30 - app.agents.flood_agent - INFO - __init__:125 - flood_agent_001 initialized DamWaterScraperService
2025-11-13 13:29:30 - services.data_sources - INFO - __init__:309 - DataCollector initialized: simulated=False, pagasa=False, noah=False, mmda=False
2025-11-13 13:29:30 - app.agents.flood_agent - INFO - __init__:153 - flood_agent_001 initialized with update interval 300s, real_apis=True, simulated=False
2025-11-13 13:29:30 - app.agents.routing_agent_001 - INFO - __init__:36 - Agent routing_agent_001 created
2025-11-13 13:29:30 - app.agents.routing_agent - INFO - _load_evacuation_centers:402 - Loaded 36 evacuation centers from C:\Users\Donald\Documents\Code\multi-agent-routing-app\masfro-backend\app\data\evacuation_centers.csv
2025-11-13 13:29:30 - app.agents.routing_agent - INFO - __init__:71 - routing_agent_001 initialized with risk_weight=0.6, distance_weight=0.4, evacuation_centers=36
2025-11-13 13:29:30 - app.agents.evac_manager_001 - INFO - __init__:36 - Agent evac_manager_001 created
2025-11-13 13:29:30 - app.agents.evacuation_manager_agent - INFO - __init__:90 - evac_manager_001 initialized
2025-11-13 13:29:30 - app.agents.flood_agent - INFO - set_hazard_agent:167 - flood_agent_001 linked to hazard_agent_001
2025-11-13 13:29:30 - app.agents.evacuation_manager_agent - INFO - set_hazard_agent:126 - evac_manager_001 linked to hazard_agent_001
2025-11-13 13:29:30 - app.agents.evacuation_manager_agent - INFO - set_routing_agent:116 - evac_manager_001 linked to routing_agent_001
2025-11-13 13:29:30 - app.services.flood_data_scheduler - INFO - __init__:71 - FloodDataScheduler initialized with interval=300s (5.0 minutes), WebSocket broadcasting=enabled
2025-11-13 13:29:30 - app.main - INFO - <module>:425 - MAS-FRO system initialized successfully
2025-11-13 13:29:30 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-13 13:29:30 - app.main - INFO - startup_event:434 - ============================================================
2025-11-13 13:29:30 - app.main - INFO - startup_event:435 - MAS-FRO Backend Starting Up
2025-11-13 13:29:30 - app.main - INFO - startup_event:436 - ============================================================
2025-11-13 13:29:30 - app.main - INFO - startup_event:437 - Structured logging initialized - logs written to logs/masfro.log
2025-11-13 13:29:30 - app.main - INFO - startup_event:440 - Checking database connection...
2025-11-13 13:29:30 - app.database.connection - INFO - check_connection:92 - [OK] Database connection successful
2025-11-13 13:29:30 - app.main - INFO - startup_event:442 - Database connection successful
2025-11-13 13:29:30 - app.database.connection - INFO - init_db:76 - [OK] Database tables created successfully
2025-11-13 13:29:30 - app.main - INFO - startup_event:449 - Starting background scheduler...
2025-11-13 13:29:30 - app.services.flood_data_scheduler - INFO - start:265 - [OK] FloodDataScheduler started (interval=300s)
2025-11-13 13:29:30 - app.main - INFO - startup_event:453 - Automated flood data collection started (every 5 minutes)
2025-11-13 13:29:30 - app.services.flood_data_scheduler - INFO - _collection_loop:179 - FloodDataScheduler started
2025-11-13 13:29:30 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-13 13:29:30 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-13 13:29:30 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-13 13:29:32 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-13 13:29:32 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-13 13:29:32 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-13 13:29:32 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.4mm 24h forecast, intensity=none
2025-11-13 13:29:32 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-13 13:29:32 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-13 13:29:33 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-13 13:29:33 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-13 13:29:33 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-13 13:29:33 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-13 13:29:33 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-13 13:29:33 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-13 13:29:33 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-13 13:29:33 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:33 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:33 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:33 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 1 locations
2025-11-13 13:29:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:33 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:33 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:33 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-13 13:29:33 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-13 13:29:33 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:33 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:33 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:33 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 2 locations
2025-11-13 13:29:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 3 locations
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 4 locations
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 5 locations
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 6 locations
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 7 locations
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 8 locations
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 9 locations
2025-11-13 13:29:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 10 locations
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 11 locations
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 12 locations
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 13 locations
2025-11-13 13:29:35 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:36 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-13 13:29:36 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:36 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 14 locations
2025-11-13 13:29:36 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:36 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-13 13:29:36 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:29:36 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:29:36 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:29:36 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:29:36 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:29:36 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-13 13:29:36 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 5.92s
2025-11-13 13:29:36 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 1baa2903-8870-41de-8069-23cd9e69536f with 14 river stations
2025-11-13 13:29:36 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=1baa2903-8870-41de-8069-23cd9e69536f
2025-11-13 13:29:36 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-13 13:29:36 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-13 13:34:36 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-13 13:34:36 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-13 13:34:36 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-13 13:34:37 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-13 13:34:37 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-13 13:34:37 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-13 13:34:37 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.4mm 24h forecast, intensity=none
2025-11-13 13:34:37 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-13 13:34:37 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-13 13:34:38 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-13 13:34:38 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-13 13:34:38 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-13 13:34:38 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-13 13:34:38 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-13 13:34:38 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-13 13:34:38 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-13 13:34:38 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:38 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:38 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:38 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:39 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-13 13:34:39 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:39 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:39 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-13 13:34:39 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:39 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:39 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-13 13:34:39 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:39 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:40 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-13 13:34:40 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:40 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:40 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:40 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-13 13:34:40 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:40 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:40 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:41 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-13 13:34:41 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:41 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:41 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:41 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-13 13:34:41 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:41 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:41 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:41 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:42 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-13 13:34:42 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:42 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:42 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-13 13:34:42 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:42 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:43 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-13 13:34:43 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:43 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:43 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-13 13:34:43 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:43 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:43 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-13 13:34:43 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:43 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:44 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-13 13:34:44 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:44 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:44 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-13 13:34:44 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:34:44 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:34:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:34:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:34:44 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:34:45 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:34:45 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-13 13:34:45 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 8.05s
2025-11-13 13:34:45 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 15e8c5f9-c366-405c-b088-68fd78fcc0c9 with 14 river stations
2025-11-13 13:34:45 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=15e8c5f9-c366-405c-b088-68fd78fcc0c9
2025-11-13 13:34:45 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-13 13:34:45 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-13 13:39:45 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-13 13:39:45 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-13 13:39:45 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-13 13:39:45 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-13 13:39:45 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-13 13:39:45 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-13 13:39:45 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.1mm 24h forecast, intensity=none
2025-11-13 13:39:45 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-13 13:39:45 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-13 13:39:46 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-13 13:39:46 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-13 13:39:46 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-13 13:39:46 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-13 13:39:46 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-13 13:39:46 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:46 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:46 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-13 13:39:46 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:46 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:46 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-13 13:39:46 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:46 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:47 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-13 13:39:47 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:47 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:47 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:47 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-13 13:39:47 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:47 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:47 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:47 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-13 13:39:47 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:47 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:47 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:48 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-13 13:39:48 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:48 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:48 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:48 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-13 13:39:48 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:48 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:48 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:49 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-13 13:39:49 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:49 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:49 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:49 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-13 13:39:49 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:49 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:49 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:49 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-13 13:39:49 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:49 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:49 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:49 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:50 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-13 13:39:50 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:50 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:50 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:50 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-13 13:39:50 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:50 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:50 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:50 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-13 13:39:50 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:50 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:50 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:51 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:51 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:51 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-13 13:39:51 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-13 13:39:51 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:39:51 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:39:51 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:39:51 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:39:51 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:39:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:39:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:39:51 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:39:51 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:39:51 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-13 13:39:51 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 6.53s
2025-11-13 13:39:51 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 35815f09-92b8-493b-8b4a-218342a7de0d with 14 river stations
2025-11-13 13:39:51 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=35815f09-92b8-493b-8b4a-218342a7de0d
2025-11-13 13:39:51 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-13 13:39:51 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-13 13:44:51 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-13 13:44:51 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-13 13:44:51 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-13 13:44:51 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-13 13:44:51 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-13 13:44:51 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-13 13:44:52 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.1mm 24h forecast, intensity=none
2025-11-13 13:44:52 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-13 13:44:52 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-13 13:44:52 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-13 13:44:52 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-13 13:44:52 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-13 13:44:52 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-13 13:44:52 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-13 13:44:52 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-13 13:44:52 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-13 13:44:52 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:52 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:52 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:52 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:52 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:53 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-13 13:44:53 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:53 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:53 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:53 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-13 13:44:53 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:53 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:53 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:53 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-13 13:44:53 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:53 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:53 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:54 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-13 13:44:54 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:54 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:54 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-13 13:44:54 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:54 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:54 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-13 13:44:54 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:54 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-13 13:44:55 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:55 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-13 13:44:55 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:55 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-13 13:44:55 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:55 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:56 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-13 13:44:56 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:56 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:56 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-13 13:44:56 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:56 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:57 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-13 13:44:57 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:57 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:57 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-13 13:44:57 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:57 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:57 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-13 13:44:57 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:44:57 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:44:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:44:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:44:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:44:58 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:44:58 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:44:58 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-13 13:44:58 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 6.59s
2025-11-13 13:44:58 - app.database.repository - INFO - create_collection:104 - Saved flood data collection e73241f9-3907-4437-8b92-52bb952d53b8 with 14 river stations
2025-11-13 13:44:58 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=e73241f9-3907-4437-8b92-52bb952d53b8
2025-11-13 13:44:58 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-13 13:44:58 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-13 13:49:58 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-13 13:49:58 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-13 13:49:58 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-13 13:49:58 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-13 13:49:58 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-13 13:49:58 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-13 13:49:58 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.2mm 24h forecast, intensity=none
2025-11-13 13:49:58 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-13 13:49:58 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-13 13:50:00 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-13 13:50:00 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-13 13:50:00 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-13 13:50:00 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-13 13:50:00 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-13 13:50:00 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-13 13:50:00 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-13 13:50:00 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:00 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:00 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:00 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:01 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-13 13:50:01 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:01 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:01 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-13 13:50:01 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:01 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:02 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:02 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:02 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-13 13:50:02 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-13 13:50:02 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:02 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:02 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:02 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:02 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:03 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:03 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-13 13:50:03 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-13 13:50:03 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:03 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:03 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:03 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:03 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:03 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:03 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-13 13:50:03 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-13 13:50:03 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:03 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:03 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:03 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:04 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-13 13:50:04 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:04 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:04 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-13 13:50:04 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:04 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:05 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:05 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:05 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-13 13:50:05 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-13 13:50:05 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:05 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:05 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:05 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:05 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:06 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-13 13:50:06 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:06 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:06 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:06 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-13 13:50:06 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:06 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:06 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:06 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:07 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-13 13:50:07 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:07 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:07 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:07 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-13 13:50:07 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:07 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:07 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:08 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:08 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:08 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:08 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-13 13:50:08 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-13 13:50:08 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:08 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:08 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:08 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:08 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:09 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:09 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:09 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-13 13:50:09 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-13 13:50:09 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:50:09 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:50:09 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:50:09 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:50:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:50:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:50:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:50:09 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:50:09 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:50:09 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-13 13:50:09 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 11.62s
2025-11-13 13:50:09 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 5e282e14-38e5-47ba-8172-0f372fb6624c with 14 river stations
2025-11-13 13:50:09 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=5e282e14-38e5-47ba-8172-0f372fb6624c
2025-11-13 13:50:09 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-13 13:50:09 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-13 13:54:33 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 1
2025-11-13 13:54:35 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 2
2025-11-13 13:54:35 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 3
2025-11-13 13:54:40 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 4
2025-11-13 13:55:09 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-13 13:55:09 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-13 13:55:09 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-13 13:55:10 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-13 13:55:10 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-13 13:55:10 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-13 13:55:10 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.3mm 24h forecast, intensity=none
2025-11-13 13:55:10 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-13 13:55:10 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-13 13:55:11 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-13 13:55:11 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-13 13:55:11 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-13 13:55:11 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-13 13:55:11 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-13 13:55:11 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-13 13:55:11 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-13 13:55:11 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:11 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:11 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:11 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:11 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:11 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:11 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:12 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:12 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-13 13:55:12 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-13 13:55:12 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:12 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:12 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:12 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:12 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:12 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:12 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-13 13:55:12 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-13 13:55:12 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:12 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:12 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:12 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:13 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:13 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:13 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:13 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-13 13:55:13 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-13 13:55:13 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:13 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:13 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:13 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:14 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-13 13:55:14 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:14 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:14 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-13 13:55:14 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:14 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:15 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:15 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:15 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:15 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-13 13:55:15 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-13 13:55:15 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:15 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:15 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:15 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:15 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:16 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-13 13:55:16 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:16 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:16 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-13 13:55:16 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:16 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:17 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-13 13:55:17 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:17 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:17 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-13 13:55:17 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:17 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:18 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:18 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:18 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-13 13:55:18 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-13 13:55:18 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:18 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:18 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:18 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:19 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-13 13:55:19 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:19 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:19 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-13 13:55:19 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:19 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:20 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:20 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:20 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-13 13:55:20 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-13 13:55:20 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 13:55:20 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 13:55:20 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 13:55:20 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 13:55:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 13:55:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 13:55:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 13:55:20 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 13:55:20 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 13:55:20 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-13 13:55:20 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 11.17s
2025-11-13 13:55:21 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 9b072da0-9d53-430d-b691-6137a37fda92 with 14 river stations
2025-11-13 13:55:21 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=9b072da0-9d53-430d-b691-6137a37fda92
2025-11-13 13:55:21 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-13 13:55:21 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6116, type: <class 'str'>
2025-11-13 13:55:21 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 13:55:21 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 13:55:21 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6116, type: <class 'str'>
2025-11-13 13:55:21 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 13:55:21 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 13:55:21 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6116, type: <class 'str'>
2025-11-13 13:55:21 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 13:55:21 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 13:55:21 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6116, type: <class 'str'>
2025-11-13 13:55:21 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 13:55:21 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-13 13:55:21 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-13 13:55:21 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\Donald\Documents\Code\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\Donald\Documents\Code\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\Donald\Documents\Code\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-13T13:55:10.148359", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-13T13:55:10.148359", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-13T13:55:10.148359", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-13T13:55:10.148359", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-13T13:55:10.148359", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 0.34, "forecast_6h_mm": 0.23, "intensity": "none", "temperature_c": 31.16, "humidity_pct": 74, "pressure_hpa": 1009, "forecast_hourly": [{"timestamp": "2025-11-13T13:00:00", "rain_mm": 0.0, "temp_c": 31.23, "humidity_pct": 73, "pop": 0.03}, {"timestamp": "2025-11-13T14:00:00", "rain_mm": 0.0, "temp_c": 31.16, "humidity_pct": 74, "pop": 0.39}, {"timestamp": "2025-11-13T15:00:00", "rain_mm": 0.0, "temp_c": 30.97, "humidity_pct": 73, "pop": 0.8}, {"timestamp": "2025-11-13T16:00:00", "rain_mm": 0.0, "temp_c": 30.93, "humidity_pct": 75, "pop": 0.78}, {"timestamp": "2025-11-13T17:00:00", "rain_mm": 0.23, "temp_c": 30.31, "humidity_pct": 77, "pop": 0.98}, {"timestamp": "2025-11-13T18:00:00", "rain_mm": 0.0, "temp_c": 29.54, "humidity_pct": 80, "pop": 0.73}], "timestamp": "2025-11-13T13:55:10.435624", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.52, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.48, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.48, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-13", "water_level_change_hr": 24.0, "water_level_change_amt": 0.3, "timestamp": "2025-11-13T13:55:11.405119", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.02, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.02, "rule_curve_elevation_m": 200.94, "deviation_from_rule_curve_m": 9.08, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-13", "water_level_change_hr": 24.0, "water_level_change_amt": -0.28, "timestamp": "2025-11-13T13:55:11.405119", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 573.7, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -1.3, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -1.3, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-13", "water_level_change_hr": 24.0, "water_level_change_amt": 1.39, "timestamp": "2025-11-13T13:55:11.405119", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.19, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-13", "water_level_change_hr": 24.0, "water_level_change_amt": -0.22, "timestamp": "2025-11-13T13:55:11.405119", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.97, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.13, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-13", "water_level_change_hr": 24.0, "water_level_change_amt": 0.32, "timestamp": "2025-11-13T13:55:11.405119", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.63, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.52, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-13", "water_level_change_hr": 24.0, "water_level_change_amt": 0.08, "timestamp": "2025-11-13T13:55:11.405119", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 189.86, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -3.14, "rule_curve_elevation_m": 189.75, "deviation_from_rule_curve_m": 0.11, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-13", "water_level_change_hr": 24.0, "water_level_change_amt": -0.67, "timestamp": "2025-11-13T13:55:11.405119", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.33, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.67, "rule_curve_elevation_m": 219.7, "deviation_from_rule_curve_m": -3.37, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-13", "water_level_change_hr": 24.0, "water_level_change_amt": -0.05, "timestamp": "2025-11-13T13:55:11.405119", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.72, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.72, "rule_curve_elevation_m": 278.84, "deviation_from_rule_curve_m": 1.88, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-13", "water_level_change_hr": 24.0, "water_level_change_amt": 0.14, "timestamp": "2025-11-13T13:55:11.405119", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-13T13:55:21.006381", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Donald\Documents\Code\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\Donald\Documents\Code\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\Donald\Documents\Code\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Donald\Documents\Code\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\Donald\Documents\Code\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\Donald\Documents\Code\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-13 13:55:21 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 3
2025-11-13 13:55:21 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-13 13:55:21 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-13 13:55:21 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-13 14:00:21 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-13 14:00:21 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-13 14:00:21 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-13 14:00:21 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-13 14:00:21 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-13 14:00:21 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-13 14:00:21 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.3mm 24h forecast, intensity=none
2025-11-13 14:00:21 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-13 14:00:21 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-13 14:00:22 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-13 14:00:22 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-13 14:00:22 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-13 14:00:22 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-13 14:00:22 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-13 14:00:22 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-13 14:00:22 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-13 14:00:22 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:22 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:22 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:22 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:22 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:23 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-13 14:00:23 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:23 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:23 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:23 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-13 14:00:23 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:23 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:23 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:24 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-13 14:00:24 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:24 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:24 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:24 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-13 14:00:24 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:24 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:24 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:25 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-13 14:00:25 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:25 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:25 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:25 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-13 14:00:25 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:25 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:25 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:26 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:26 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:26 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:26 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-13 14:00:26 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-13 14:00:26 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:26 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:26 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:26 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:27 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-13 14:00:27 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:27 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:27 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:27 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-13 14:00:27 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:27 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:27 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:28 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-13 14:00:28 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:28 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:28 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:28 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-13 14:00:28 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:28 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:28 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:29 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-13 14:00:29 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:29 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:29 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:29 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-13 14:00:29 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:29 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:29 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:29 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:30 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:30 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:30 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:30 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-13 14:00:30 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-13 14:00:30 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:00:30 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:00:30 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:00:30 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:00:30 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:00:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:00:30 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:00:30 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:00:30 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:00:30 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-13 14:00:30 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 9.79s
2025-11-13 14:00:30 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 8753bdd4-d0a6-4c79-913a-a8a9ffc59098 with 14 river stations
2025-11-13 14:00:30 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=8753bdd4-d0a6-4c79-913a-a8a9ffc59098
2025-11-13 14:00:30 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-13 14:00:30 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6116, type: <class 'str'>
2025-11-13 14:00:30 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:00:30 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:00:30 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6116, type: <class 'str'>
2025-11-13 14:00:30 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:00:30 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:00:30 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6116, type: <class 'str'>
2025-11-13 14:00:30 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:00:30 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:00:30 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-13 14:00:30 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-13 14:00:30 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-13 14:05:30 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-13 14:05:30 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-13 14:05:30 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-13 14:05:31 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-13 14:05:31 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-13 14:05:31 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-13 14:05:31 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.3mm 24h forecast, intensity=none
2025-11-13 14:05:31 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-13 14:05:31 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-13 14:05:32 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-13 14:05:32 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-13 14:05:32 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-13 14:05:32 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-13 14:05:32 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-13 14:05:32 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-13 14:05:32 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-13 14:05:32 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:32 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:32 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:32 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:32 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:33 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-13 14:05:33 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:33 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:33 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-13 14:05:33 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:33 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:34 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:34 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:34 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-13 14:05:34 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-13 14:05:34 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:34 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:34 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:34 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:35 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-13 14:05:35 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:35 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:35 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:35 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-13 14:05:35 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:35 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:35 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:36 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:36 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:36 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:36 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-13 14:05:36 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-13 14:05:36 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:36 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:36 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:36 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:36 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:36 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:37 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:37 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:37 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:37 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-13 14:05:37 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-13 14:05:37 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:37 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:37 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:37 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:37 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:38 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:38 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:38 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-13 14:05:38 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-13 14:05:38 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:38 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:38 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:38 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:38 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:39 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:39 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-13 14:05:39 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-13 14:05:39 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:39 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:39 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:39 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:39 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:39 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:39 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-13 14:05:39 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-13 14:05:39 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:39 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:39 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:39 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:40 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:40 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:40 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:40 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-13 14:05:40 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-13 14:05:40 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:40 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:40 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:40 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:40 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:41 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-13 14:05:41 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:41 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:41 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:41 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-13 14:05:41 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:41 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:41 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:41 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:42 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:42 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:42 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-13 14:05:42 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-13 14:05:42 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:05:42 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:05:42 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:05:42 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:05:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:05:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:05:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:05:43 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:05:43 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:05:43 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-13 14:05:43 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 12.11s
2025-11-13 14:05:43 - app.database.repository - INFO - create_collection:104 - Saved flood data collection cb200216-9349-4ca5-b7d2-e116d72244c3 with 14 river stations
2025-11-13 14:05:43 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=cb200216-9349-4ca5-b7d2-e116d72244c3
2025-11-13 14:05:43 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-13 14:05:43 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6116, type: <class 'str'>
2025-11-13 14:05:43 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:05:43 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:05:43 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6116, type: <class 'str'>
2025-11-13 14:05:43 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:05:43 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:05:43 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6116, type: <class 'str'>
2025-11-13 14:05:43 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:05:43 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:05:43 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-13 14:05:43 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-13 14:05:43 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-13 14:10:43 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-13 14:10:43 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-13 14:10:43 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-13 14:10:44 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-13 14:10:44 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-13 14:10:44 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-13 14:10:44 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.3mm/hr current, 1.4mm 24h forecast, intensity=light
2025-11-13 14:10:44 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-13 14:10:44 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-13 14:10:46 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-13 14:10:46 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-13 14:10:46 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-13 14:10:46 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-13 14:10:46 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-13 14:10:46 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-13 14:10:46 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-13 14:10:46 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:46 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:46 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:46 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:46 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:46 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:46 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-13 14:10:46 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-13 14:10:46 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:46 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:46 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:46 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:47 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:47 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:47 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:47 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-13 14:10:47 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-13 14:10:47 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:47 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:47 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:47 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:47 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:48 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-13 14:10:48 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:48 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:48 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:48 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-13 14:10:48 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:48 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:48 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:49 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:49 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:49 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:49 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-13 14:10:49 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-13 14:10:49 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:49 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:49 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:49 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:49 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:49 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:50 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-13 14:10:50 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:50 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:50 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:50 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-13 14:10:50 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:50 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:50 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:51 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-13 14:10:51 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:51 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:51 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:51 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-13 14:10:51 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:51 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:51 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:52 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:52 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:52 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:52 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-13 14:10:52 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-13 14:10:52 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:52 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:52 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:52 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:52 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:53 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-13 14:10:53 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:53 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:53 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:53 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-13 14:10:53 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:53 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:53 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:54 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:54 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:54 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-13 14:10:54 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-13 14:10:54 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:54 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:54 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:54 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:55 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-13 14:10:55 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-13 14:10:55 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:10:55 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:10:55 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:10:55 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:10:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:10:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:10:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:10:55 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:10:55 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:10:55 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-13 14:10:55 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 12.72s
2025-11-13 14:10:55 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 920b9de4-4a81-4f6b-a3d8-e81b0ef14ba8 with 14 river stations
2025-11-13 14:10:55 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=920b9de4-4a81-4f6b-a3d8-e81b0ef14ba8
2025-11-13 14:10:55 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-13 14:10:55 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6118, type: <class 'str'>
2025-11-13 14:10:55 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:10:55 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:10:55 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6118, type: <class 'str'>
2025-11-13 14:10:55 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:10:55 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:10:55 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6118, type: <class 'str'>
2025-11-13 14:10:55 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:10:55 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:10:55 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-13 14:10:55 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-13 14:10:55 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-13 14:15:55 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-13 14:15:55 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-13 14:15:55 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-13 14:15:56 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-13 14:15:56 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-13 14:15:56 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-13 14:15:56 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.6mm 24h forecast, intensity=none
2025-11-13 14:15:56 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-13 14:15:56 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-13 14:15:57 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-13 14:15:57 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-13 14:15:57 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-13 14:15:57 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-13 14:15:57 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-13 14:15:57 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-13 14:15:57 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-13 14:15:57 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:15:57 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:15:57 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:15:57 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:15:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:15:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:15:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:15:57 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:15:57 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:15:57 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-13 14:15:57 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-13 14:15:57 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:15:57 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:15:57 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:15:57 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:15:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:15:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:15:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:15:58 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:15:58 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:15:58 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-13 14:15:58 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-13 14:15:58 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:15:58 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:15:58 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:15:58 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:15:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:15:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:15:59 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-13 14:15:59 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:15:59 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:15:59 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:15:59 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-13 14:15:59 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:15:59 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:15:59 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:15:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:16:00 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-13 14:16:00 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:16:00 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:16:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:16:00 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-13 14:16:00 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:16:00 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:16:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:16:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:16:01 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-13 14:16:01 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:16:01 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:16:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:16:01 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-13 14:16:01 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:16:01 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:16:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:16:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:16:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:16:02 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:16:02 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:16:02 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-13 14:16:02 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-13 14:16:02 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:16:02 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:16:02 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:16:02 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:16:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:16:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:16:03 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-13 14:16:03 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:16:03 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:16:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:16:03 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-13 14:16:03 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:16:03 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:16:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:16:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:16:04 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-13 14:16:04 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:16:04 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:16:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:16:04 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-13 14:16:04 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:16:04 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:16:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:16:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:16:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:16:05 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:16:05 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:16:05 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-13 14:16:05 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-13 14:16:05 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:16:05 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:16:05 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:16:05 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:16:05 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:16:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:16:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:16:05 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:16:06 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:16:06 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-13 14:16:06 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 10.11s
2025-11-13 14:16:06 - app.database.repository - INFO - create_collection:104 - Saved flood data collection e5731ab5-5455-4e22-8153-e5f0338c2fd3 with 14 river stations
2025-11-13 14:16:06 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=e5731ab5-5455-4e22-8153-e5f0338c2fd3
2025-11-13 14:16:06 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-13 14:16:06 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6117, type: <class 'str'>
2025-11-13 14:16:06 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:16:06 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:16:06 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6117, type: <class 'str'>
2025-11-13 14:16:06 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:16:06 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:16:06 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6117, type: <class 'str'>
2025-11-13 14:16:06 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:16:06 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:16:06 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-13 14:16:06 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-13 14:16:06 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-13 14:21:06 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-13 14:21:06 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-13 14:21:06 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-13 14:21:06 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-13 14:21:06 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-13 14:21:06 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-13 14:21:06 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.6mm 24h forecast, intensity=none
2025-11-13 14:21:06 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-13 14:21:06 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-13 14:21:07 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-13 14:21:07 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-13 14:21:07 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-13 14:21:07 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-13 14:21:07 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-13 14:21:07 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-13 14:21:07 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-13 14:21:07 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:07 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:07 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:07 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:07 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:08 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:08 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:08 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:08 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-13 14:21:08 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-13 14:21:08 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:08 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:08 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:08 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:08 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:09 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-13 14:21:09 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:09 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:09 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-13 14:21:09 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:09 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:10 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:10 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:10 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:10 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-13 14:21:10 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-13 14:21:10 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:10 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:10 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:10 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:10 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:11 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-13 14:21:11 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:11 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:11 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:11 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-13 14:21:11 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:11 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:11 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:12 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-13 14:21:12 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:12 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:12 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-13 14:21:12 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:12 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:13 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:13 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:13 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:13 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-13 14:21:13 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-13 14:21:13 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:13 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:13 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:13 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:14 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-13 14:21:14 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:14 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:14 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-13 14:21:14 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:14 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:15 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:15 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:15 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:15 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-13 14:21:15 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-13 14:21:15 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:15 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:15 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:15 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:15 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:15 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:15 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:15 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:16 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-13 14:21:16 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-13 14:21:16 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:16 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:16 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:16 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:16 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:16 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:16 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-13 14:21:16 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-13 14:21:16 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:21:16 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:21:16 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:21:16 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:21:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:21:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:21:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:21:17 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:21:17 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:21:17 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-13 14:21:17 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 11.16s
2025-11-13 14:21:17 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 32faa4c3-ff29-439b-97d3-19032d7b4c31 with 14 river stations
2025-11-13 14:21:17 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=32faa4c3-ff29-439b-97d3-19032d7b4c31
2025-11-13 14:21:17 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-13 14:21:17 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6117, type: <class 'str'>
2025-11-13 14:21:17 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:21:17 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:21:17 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6117, type: <class 'str'>
2025-11-13 14:21:17 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:21:17 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:21:17 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6117, type: <class 'str'>
2025-11-13 14:21:17 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:21:17 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:21:17 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-13 14:21:17 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-13 14:21:17 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-13 14:26:17 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-13 14:26:17 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-13 14:26:17 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-13 14:26:18 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-13 14:26:18 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-13 14:26:18 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-13 14:26:18 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.6mm 24h forecast, intensity=none
2025-11-13 14:26:18 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-13 14:26:18 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-13 14:26:37 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-13 14:26:37 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-13 14:26:37 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-13 14:26:37 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-13 14:26:37 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-13 14:26:37 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Montalban
2025-11-13 14:26:37 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Montalban
2025-11-13 14:26:37 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:37 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:37 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:37 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:37 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:37 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:37 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:37 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:37 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Nangka
2025-11-13 14:26:37 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Nangka
2025-11-13 14:26:37 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:37 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:37 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:37 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:37 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:38 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:38 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:38 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-13 14:26:38 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Rosario Bridge
2025-11-13 14:26:38 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:38 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:38 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:38 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:39 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Sto Nino
2025-11-13 14:26:39 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Sto Nino
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:39 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:39 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-13 14:26:39 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Tumana Bridge
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:39 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:40 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: Marikina_weather
2025-11-13 14:26:40 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: Marikina_weather
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:40 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:40 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:40 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-13 14:26:40 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: AMBUKLAO
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:40 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:40 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:41 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:41 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:41 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:41 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: ANGAT
2025-11-13 14:26:41 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: ANGAT
2025-11-13 14:26:41 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:41 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:41 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:41 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:41 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:41 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:42 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: BINGA
2025-11-13 14:26:42 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: BINGA
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:42 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:42 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: CALIRAYA
2025-11-13 14:26:42 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: CALIRAYA
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:42 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:43 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:43 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:43 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: IPO
2025-11-13 14:26:43 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: IPO
2025-11-13 14:26:43 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:43 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:43 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:43 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:43 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:44 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:44 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: LA MESA
2025-11-13 14:26:44 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: LA MESA
2025-11-13 14:26:44 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:44 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:44 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:44 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:44 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:44 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:44 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-13 14:26:44 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: MAGAT DAM
2025-11-13 14:26:44 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:44 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:44 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:44 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:45 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:45 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:45 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:45 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-13 14:26:45 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: PANTABANGAN
2025-11-13 14:26:45 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:45 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:45 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:45 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:45 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:46 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:46 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:46 - app.agents.hazard_agent - INFO - process_flood_data:178 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-13 14:26:46 - app.agents.hazard_agent - DEBUG - process_flood_data:189 - Flood data cached for location: SAN ROQUE
2025-11-13 14:26:46 - app.agents.hazard_agent - INFO - process_flood_data:192 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-13 14:26:46 - app.agents.hazard_agent - INFO - process_and_update:151 - hazard_agent_001 processing hazard data...
2025-11-13 14:26:46 - app.agents.hazard_agent - DEBUG - fuse_data:245 - hazard_agent_001 fusing data from multiple sources
2025-11-13 14:26:46 - app.agents.hazard_agent - INFO - fuse_data:294 - Data fusion complete for 15 locations
2025-11-13 14:26:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:509 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-13 14:26:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:368 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-13 14:26:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:565 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-13 14:26:46 - app.agents.hazard_agent - DEBUG - update_environment:581 - hazard_agent_001 updating environment with risk scores
2025-11-13 14:26:46 - app.agents.hazard_agent - INFO - update_environment:593 - Updated 20124 edges in the environment
2025-11-13 14:26:46 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-13 14:26:46 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 29.48s
2025-11-13 14:26:46 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 2050c1b4-a1c7-43e8-9fea-7106dbfce733 with 14 river stations
2025-11-13 14:26:46 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=2050c1b4-a1c7-43e8-9fea-7106dbfce733
2025-11-13 14:26:46 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-13 14:26:46 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6117, type: <class 'str'>
2025-11-13 14:26:46 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:26:46 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:26:46 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6117, type: <class 'str'>
2025-11-13 14:26:46 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:26:46 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:26:46 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6117, type: <class 'str'>
2025-11-13 14:26:46 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-13 14:26:46 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-13 14:26:46 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-13 14:26:46 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-13 14:26:46 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 11:31:35 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-14 11:31:35 - app.main - INFO - <module>:393 - Initializing MAS-FRO Multi-Agent System...
2025-11-14 11:31:37 - app.communication.message_queue - INFO - __init__:46 - MessageQueue system initialized
2025-11-14 11:31:37 - app.agents.hazard_agent_001 - INFO - __init__:36 - Agent hazard_agent_001 created
2025-11-14 11:31:37 - app.agents.hazard_agent - INFO - __init__:116 - hazard_agent_001 GeoTIFF integration DISABLED
2025-11-14 11:31:37 - app.ml_models.location_geocoder - INFO - __init__:169 - LocationGeocoder initialized with 85 location mappings
2025-11-14 11:31:37 - app.agents.hazard_agent - INFO - __init__:129 - hazard_agent_001 LocationGeocoder initialized
2025-11-14 11:31:37 - app.agents.hazard_agent - INFO - __init__:137 - hazard_agent_001 initialized with risk weights: {'flood_depth': 0.5, 'crowdsourced': 0.3, 'historical': 0.2}, return_period: rr01, time_step: 1, geotiff_enabled: False
2025-11-14 11:31:37 - app.agents.flood_agent_001 - INFO - __init__:36 - Agent flood_agent_001 created
2025-11-14 11:31:37 - services.river_scraper_service - INFO - __init__:44 - RiverScraperService initialized
2025-11-14 11:31:37 - app.agents.flood_agent - INFO - __init__:106 - flood_agent_001 initialized RiverScraperService
2025-11-14 11:31:37 - app.agents.flood_agent - INFO - __init__:114 - flood_agent_001 initialized OpenWeatherMapService
2025-11-14 11:31:37 - services.dam_water_scraper_service - INFO - __init__:164 - DamWaterScraperService initialized
2025-11-14 11:31:37 - app.agents.flood_agent - INFO - __init__:125 - flood_agent_001 initialized DamWaterScraperService
2025-11-14 11:31:37 - services.data_sources - INFO - __init__:309 - DataCollector initialized: simulated=False, pagasa=False, noah=False, mmda=False
2025-11-14 11:31:37 - app.agents.flood_agent - INFO - __init__:153 - flood_agent_001 initialized with update interval 300s, real_apis=True, simulated=False
2025-11-14 11:31:37 - app.agents.routing_agent_001 - INFO - __init__:36 - Agent routing_agent_001 created
2025-11-14 11:31:37 - app.agents.routing_agent - INFO - _load_evacuation_centers:402 - Loaded 36 evacuation centers from C:\Users\Donald\Documents\Code\multi-agent-routing-app\masfro-backend\app\data\evacuation_centers.csv
2025-11-14 11:31:37 - app.agents.routing_agent - INFO - __init__:71 - routing_agent_001 initialized with risk_weight=0.6, distance_weight=0.4, evacuation_centers=36
2025-11-14 11:31:37 - app.agents.evac_manager_001 - INFO - __init__:36 - Agent evac_manager_001 created
2025-11-14 11:31:37 - app.agents.evacuation_manager_agent - INFO - __init__:90 - evac_manager_001 initialized
2025-11-14 11:31:37 - app.agents.flood_agent - INFO - set_hazard_agent:167 - flood_agent_001 linked to hazard_agent_001
2025-11-14 11:31:37 - app.agents.evacuation_manager_agent - INFO - set_hazard_agent:126 - evac_manager_001 linked to hazard_agent_001
2025-11-14 11:31:37 - app.agents.evacuation_manager_agent - INFO - set_routing_agent:116 - evac_manager_001 linked to routing_agent_001
2025-11-14 11:31:37 - app.services.flood_data_scheduler - INFO - __init__:71 - FloodDataScheduler initialized with interval=300s (5.0 minutes), WebSocket broadcasting=enabled
2025-11-14 11:31:37 - app.main - INFO - <module>:441 - MAS-FRO system initialized successfully
2025-11-14 11:31:37 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-14 11:31:37 - app.main - INFO - startup_event:450 - ============================================================
2025-11-14 11:31:37 - app.main - INFO - startup_event:451 - MAS-FRO Backend Starting Up
2025-11-14 11:31:37 - app.main - INFO - startup_event:452 - ============================================================
2025-11-14 11:31:37 - app.main - INFO - startup_event:453 - Structured logging initialized - logs written to logs/masfro.log
2025-11-14 11:31:37 - app.main - INFO - startup_event:456 - Checking database connection...
2025-11-14 11:31:38 - app.database.connection - INFO - check_connection:92 - [OK] Database connection successful
2025-11-14 11:31:38 - app.main - INFO - startup_event:458 - Database connection successful
2025-11-14 11:31:38 - app.database.connection - INFO - init_db:76 - [OK] Database tables created successfully
2025-11-14 11:31:38 - app.main - INFO - startup_event:465 - Starting background scheduler...
2025-11-14 11:31:38 - app.services.flood_data_scheduler - INFO - start:265 - [OK] FloodDataScheduler started (interval=300s)
2025-11-14 11:31:38 - app.main - INFO - startup_event:469 - Automated flood data collection started (every 5 minutes)
2025-11-14 11:31:38 - app.services.flood_data_scheduler - INFO - _collection_loop:179 - FloodDataScheduler started
2025-11-14 11:31:38 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 11:31:38 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 11:31:38 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 11:31:38 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 11:31:38 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 11:31:38 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 1
2025-11-14 11:31:38 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 2
2025-11-14 11:31:40 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 3
2025-11-14 11:31:40 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 11:31:48 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 11:31:51 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 11:31:51 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 11:31:51 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 11:31:53 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 11:31:53 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 11:31:53 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 11:31:53 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.8mm 24h forecast, intensity=none
2025-11-14 11:31:53 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 11:31:53 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 11:31:54 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 11:31:54 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 11:31:54 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 11:31:54 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 11:31:54 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-14 11:31:54 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Montalban
2025-11-14 11:31:54 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Montalban
2025-11-14 11:31:54 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:54 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:54 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:54 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 1 locations
2025-11-14 11:31:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:54 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Nangka
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Nangka
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 2 locations
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Rosario Bridge
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 3 locations
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Sto Nino
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Sto Nino
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 4 locations
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Tumana Bridge
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 5 locations
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Marikina_weather
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Marikina_weather
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 6 locations
2025-11-14 11:31:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:56 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-14 11:31:56 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: AMBUKLAO
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:56 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 7 locations
2025-11-14 11:31:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:56 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: ANGAT
2025-11-14 11:31:56 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: ANGAT
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:56 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 8 locations
2025-11-14 11:31:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:56 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: BINGA
2025-11-14 11:31:56 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: BINGA
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:56 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 9 locations
2025-11-14 11:31:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:57 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: CALIRAYA
2025-11-14 11:31:57 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: CALIRAYA
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:57 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 10 locations
2025-11-14 11:31:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:57 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: IPO
2025-11-14 11:31:57 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: IPO
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:57 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 11 locations
2025-11-14 11:31:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:58 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: LA MESA
2025-11-14 11:31:58 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: LA MESA
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:58 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 12 locations
2025-11-14 11:31:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:58 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-14 11:31:58 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: MAGAT DAM
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:58 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 13 locations
2025-11-14 11:31:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:58 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-14 11:31:58 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: PANTABANGAN
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:58 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 14 locations
2025-11-14 11:31:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:31:59 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:31:59 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:31:59 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:31:59 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-14 11:31:59 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: SAN ROQUE
2025-11-14 11:31:59 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:31:59 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:31:59 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:31:59 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:31:59 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:31:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:32:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:32:00 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:32:00 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:32:00 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-14 11:32:00 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 22.06s
2025-11-14 11:32:00 - app.database.repository - INFO - create_collection:104 - Saved flood data collection c9543b05-4c80-4648-836a-2a6dffc22f4e with 14 river stations
2025-11-14 11:32:00 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=c9543b05-4c80-4648-836a-2a6dffc22f4e
2025-11-14 11:32:00 - app.main - DEBUG - broadcast:161 - Successfully serialized message of type: flood_update
2025-11-14 11:32:00 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-14 11:32:00 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-14 11:32:00 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-14 11:32:00 - app.main - INFO - broadcast_flood_update:228 - Broadcasted flood update to 3 clients
2025-11-14 11:32:00 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 11:32:00 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 11:32:05 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 4
2025-11-14 11:32:05 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 5
2025-11-14 11:32:05 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 6
2025-11-14 11:32:10 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 7
2025-11-14 11:37:00 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 11:37:00 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 11:37:00 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 11:37:00 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 11:37:00 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 11:37:01 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 11:37:10 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 11:37:12 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 11:37:12 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 11:37:12 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 11:37:14 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 11:37:14 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 11:37:14 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 11:37:15 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.8mm 24h forecast, intensity=none
2025-11-14 11:37:15 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 11:37:15 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 11:37:16 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 11:37:16 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 11:37:16 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 11:37:16 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 11:37:16 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-14 11:37:16 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Montalban
2025-11-14 11:37:16 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Montalban
2025-11-14 11:37:16 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:16 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:16 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:16 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:16 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:16 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:16 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Nangka
2025-11-14 11:37:16 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Nangka
2025-11-14 11:37:16 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:16 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:16 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:16 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:17 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-14 11:37:17 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Rosario Bridge
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:17 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:17 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Sto Nino
2025-11-14 11:37:17 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Sto Nino
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:17 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:18 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:18 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:18 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-14 11:37:18 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Tumana Bridge
2025-11-14 11:37:18 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:18 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:18 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:18 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:18 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:19 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:19 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Marikina_weather
2025-11-14 11:37:19 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Marikina_weather
2025-11-14 11:37:19 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:19 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:19 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:19 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:19 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:19 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:19 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-14 11:37:19 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: AMBUKLAO
2025-11-14 11:37:19 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:19 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:19 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:19 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:20 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: ANGAT
2025-11-14 11:37:20 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: ANGAT
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:20 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:20 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: BINGA
2025-11-14 11:37:20 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: BINGA
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:20 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:21 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: CALIRAYA
2025-11-14 11:37:21 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: CALIRAYA
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:21 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:21 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:21 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: IPO
2025-11-14 11:37:21 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: IPO
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:21 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:21 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:22 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:22 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:22 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:22 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: LA MESA
2025-11-14 11:37:22 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: LA MESA
2025-11-14 11:37:22 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:22 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:22 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:22 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:22 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:22 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:22 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:22 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:22 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-14 11:37:22 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: MAGAT DAM
2025-11-14 11:37:22 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:22 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:22 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:23 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:23 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:23 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:23 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:23 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:23 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-14 11:37:23 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: PANTABANGAN
2025-11-14 11:37:23 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:23 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:23 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:23 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:23 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:24 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:24 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:24 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:24 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-14 11:37:24 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: SAN ROQUE
2025-11-14 11:37:24 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:37:24 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:37:24 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:37:24 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:37:24 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:37:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:37:24 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:37:24 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:37:24 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:37:24 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-14 11:37:24 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 24.43s
2025-11-14 11:37:24 - app.database.repository - INFO - create_collection:104 - Saved flood data collection e9f17f3e-c829-409f-b4ca-6e5a5d0599f4 with 14 river stations
2025-11-14 11:37:24 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=e9f17f3e-c829-409f-b4ca-6e5a5d0599f4
2025-11-14 11:37:24 - app.main - DEBUG - broadcast:161 - Successfully serialized message of type: flood_update
2025-11-14 11:37:24 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-14 11:37:24 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-14 11:37:24 - app.main - INFO - broadcast:188 - WebSocket disconnected during broadcast
2025-11-14 11:37:24 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-14 11:37:24 - app.main - INFO - broadcast:188 - WebSocket disconnected during broadcast
2025-11-14 11:37:24 - app.main - INFO - broadcast:188 - WebSocket disconnected during broadcast
2025-11-14 11:37:24 - app.main - INFO - broadcast:188 - WebSocket disconnected during broadcast
2025-11-14 11:37:24 - app.main - INFO - disconnect:143 - WebSocket disconnected. Total connections: 6
2025-11-14 11:37:24 - app.main - INFO - disconnect:143 - WebSocket disconnected. Total connections: 5
2025-11-14 11:37:24 - app.main - INFO - disconnect:143 - WebSocket disconnected. Total connections: 4
2025-11-14 11:37:24 - app.main - INFO - disconnect:143 - WebSocket disconnected. Total connections: 3
2025-11-14 11:37:24 - app.main - INFO - broadcast_flood_update:228 - Broadcasted flood update to 3 clients
2025-11-14 11:37:24 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 11:37:24 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 11:42:24 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 11:42:24 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 11:42:24 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 11:42:24 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 11:42:24 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 11:42:26 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 11:42:29 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 11:42:31 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 11:42:31 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 11:42:31 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 11:42:33 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 11:42:33 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 11:42:33 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 11:42:33 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.7mm 24h forecast, intensity=none
2025-11-14 11:42:33 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 11:42:33 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 11:42:34 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 11:42:34 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 11:42:34 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 11:42:34 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 11:42:34 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-14 11:42:34 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Montalban
2025-11-14 11:42:34 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Montalban
2025-11-14 11:42:34 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:42:34 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:42:34 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:42:34 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:42:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:42:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:42:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:42:35 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:42:35 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:42:35 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Nangka
2025-11-14 11:42:35 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Nangka
2025-11-14 11:42:35 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:42:35 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:42:35 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:42:35 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:42:35 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:42:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:42:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:42:35 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:42:35 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:42:35 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-14 11:42:35 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Rosario Bridge
2025-11-14 11:42:35 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:42:35 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:42:35 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:42:35 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:42:35 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:42:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:42:36 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:42:36 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:42:36 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:42:36 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Sto Nino
2025-11-14 11:42:36 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Sto Nino
2025-11-14 11:42:36 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:42:36 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:42:36 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:42:36 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:42:36 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:42:36 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:42:36 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:42:36 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:42:36 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:42:36 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-14 11:42:36 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Tumana Bridge
2025-11-14 11:42:36 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:42:36 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:42:36 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:42:36 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:42:36 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:42:36 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:42:37 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:42:37 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:42:37 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:42:37 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Marikina_weather
2025-11-14 11:42:37 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Marikina_weather
2025-11-14 11:42:37 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:42:37 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:42:37 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:42:37 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:42:37 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:42:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:42:37 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:42:37 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:42:37 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:42:37 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-14 11:42:37 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: AMBUKLAO
2025-11-14 11:42:37 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:42:37 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:42:37 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:42:37 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:42:37 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:42:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:42:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:42:38 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:42:38 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:42:38 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: ANGAT
2025-11-14 11:42:38 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: ANGAT
2025-11-14 11:42:38 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:42:38 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:42:38 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:42:38 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:42:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:42:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:42:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:42:38 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:42:38 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:42:38 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: BINGA
2025-11-14 11:42:38 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: BINGA
2025-11-14 11:42:38 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:42:38 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:42:38 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:42:38 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:42:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:42:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:42:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:42:39 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:42:39 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:42:39 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: CALIRAYA
2025-11-14 11:42:39 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: CALIRAYA
2025-11-14 11:42:39 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:42:39 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:42:39 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:42:39 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:42:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:42:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:42:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:42:39 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:42:39 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:42:39 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: IPO
2025-11-14 11:42:39 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: IPO
2025-11-14 11:42:39 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:42:39 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:42:39 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:42:39 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:42:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:42:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:42:40 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:42:40 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:42:40 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:42:40 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: LA MESA
2025-11-14 11:42:40 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: LA MESA
2025-11-14 11:42:40 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:42:40 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:42:40 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:42:40 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:42:40 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:42:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:42:40 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:42:40 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:42:40 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:42:40 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-14 11:42:40 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: MAGAT DAM
2025-11-14 11:42:40 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:42:40 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:42:40 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:42:40 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:42:40 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:42:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:42:41 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:42:41 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:42:41 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:42:41 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-14 11:42:41 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: PANTABANGAN
2025-11-14 11:42:41 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:42:41 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:42:41 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:42:41 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:42:41 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:42:41 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:42:41 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:42:41 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:42:41 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:42:41 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-14 11:42:41 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: SAN ROQUE
2025-11-14 11:42:41 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:42:41 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:42:41 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:42:41 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:42:41 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:42:41 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:42:41 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:42:41 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:42:42 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:42:42 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-14 11:42:42 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 17.36s
2025-11-14 11:42:42 - app.database.repository - INFO - create_collection:104 - Saved flood data collection e9eaa06e-ba67-4fc7-9c49-79fbb4c0d51e with 14 river stations
2025-11-14 11:42:42 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=e9eaa06e-ba67-4fc7-9c49-79fbb4c0d51e
2025-11-14 11:42:42 - app.main - DEBUG - broadcast:161 - Successfully serialized message of type: flood_update
2025-11-14 11:42:42 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-14 11:42:42 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-14 11:42:42 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-14 11:42:42 - app.main - INFO - broadcast_flood_update:228 - Broadcasted flood update to 3 clients
2025-11-14 11:42:42 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 11:42:42 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 11:47:42 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 11:47:42 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 11:47:42 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 11:47:42 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 11:47:42 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 11:47:43 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 11:47:46 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 11:47:48 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 11:47:48 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 11:47:48 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 11:47:50 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 11:47:50 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 11:47:50 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 11:47:51 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.7mm 24h forecast, intensity=none
2025-11-14 11:47:51 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 11:47:51 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 11:47:52 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 11:47:52 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 11:47:52 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 11:47:52 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 11:47:52 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-14 11:47:52 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Montalban
2025-11-14 11:47:52 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Montalban
2025-11-14 11:47:52 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:47:52 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:47:52 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:47:52 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:47:52 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:47:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:47:52 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:47:52 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:47:52 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:47:52 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Nangka
2025-11-14 11:47:52 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Nangka
2025-11-14 11:47:52 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:47:52 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:47:52 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:47:52 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:47:52 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:47:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:47:52 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:47:52 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:47:52 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:47:52 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-14 11:47:52 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Rosario Bridge
2025-11-14 11:47:52 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:47:52 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:47:52 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:47:52 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:47:52 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:47:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:47:53 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:47:53 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:47:53 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:47:53 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Sto Nino
2025-11-14 11:47:53 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Sto Nino
2025-11-14 11:47:53 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:47:53 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:47:53 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:47:53 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:47:53 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:47:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:47:53 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:47:53 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:47:53 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:47:53 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-14 11:47:53 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Tumana Bridge
2025-11-14 11:47:53 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:47:53 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:47:53 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:47:53 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:47:53 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:47:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:47:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:47:54 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:47:54 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:47:54 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Marikina_weather
2025-11-14 11:47:54 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Marikina_weather
2025-11-14 11:47:54 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:47:54 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:47:54 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:47:54 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:47:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:47:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:47:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:47:55 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:47:55 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:47:55 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-14 11:47:55 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: AMBUKLAO
2025-11-14 11:47:55 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:47:55 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:47:55 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:47:55 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:47:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:47:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:47:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:47:55 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:47:55 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:47:55 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: ANGAT
2025-11-14 11:47:55 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: ANGAT
2025-11-14 11:47:55 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:47:55 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:47:55 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:47:55 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:47:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:47:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:47:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:47:56 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:47:56 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:47:56 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: BINGA
2025-11-14 11:47:56 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: BINGA
2025-11-14 11:47:56 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:47:56 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:47:56 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:47:56 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:47:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:47:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:47:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:47:56 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:47:56 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:47:56 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: CALIRAYA
2025-11-14 11:47:56 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: CALIRAYA
2025-11-14 11:47:56 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:47:56 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:47:56 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:47:56 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:47:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:47:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:47:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:47:57 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:47:57 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:47:57 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: IPO
2025-11-14 11:47:57 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: IPO
2025-11-14 11:47:57 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:47:57 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:47:57 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:47:57 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:47:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:47:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:47:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:47:57 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:47:57 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:47:57 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: LA MESA
2025-11-14 11:47:57 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: LA MESA
2025-11-14 11:47:57 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:47:57 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:47:57 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:47:57 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:47:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:47:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:47:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:47:58 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:47:58 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:47:58 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-14 11:47:58 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: MAGAT DAM
2025-11-14 11:47:58 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:47:58 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:47:58 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:47:58 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:47:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:47:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:47:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:47:58 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:47:58 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:47:58 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-14 11:47:58 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: PANTABANGAN
2025-11-14 11:47:58 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:47:58 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:47:58 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:47:58 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:47:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:47:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:47:59 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:47:59 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:47:59 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:47:59 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-14 11:47:59 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: SAN ROQUE
2025-11-14 11:47:59 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:47:59 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:47:59 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:47:59 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:47:59 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:47:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:48:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:48:00 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:48:00 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:48:00 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-14 11:48:00 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 18.09s
2025-11-14 11:48:00 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 6114a359-e167-4e25-9216-ca0e5e6cd916 with 14 river stations
2025-11-14 11:48:00 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=6114a359-e167-4e25-9216-ca0e5e6cd916
2025-11-14 11:48:00 - app.main - DEBUG - broadcast:161 - Successfully serialized message of type: flood_update
2025-11-14 11:48:00 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-14 11:48:00 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-14 11:48:00 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-14 11:48:00 - app.main - INFO - broadcast_flood_update:228 - Broadcasted flood update to 3 clients
2025-11-14 11:48:00 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 11:48:00 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 11:53:00 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 11:53:00 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 11:53:00 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 11:53:00 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 11:53:00 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 11:53:01 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 11:53:05 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 11:53:07 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 11:53:07 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 11:53:07 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 11:53:09 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 11:53:09 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 11:53:09 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 11:53:10 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.8mm 24h forecast, intensity=none
2025-11-14 11:53:10 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 11:53:10 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 11:53:10 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 11:53:10 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 11:53:10 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 11:53:10 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 11:53:10 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-14 11:53:10 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Montalban
2025-11-14 11:53:10 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Montalban
2025-11-14 11:53:10 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:53:10 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:53:10 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:53:10 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:53:10 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:53:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:53:11 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:53:11 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:53:11 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:53:11 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Nangka
2025-11-14 11:53:11 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Nangka
2025-11-14 11:53:11 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:53:11 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:53:11 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:53:11 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:53:11 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:53:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:53:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:53:12 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:53:12 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:53:12 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-14 11:53:12 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Rosario Bridge
2025-11-14 11:53:12 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:53:12 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:53:12 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:53:12 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:53:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:53:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:53:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:53:12 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:53:12 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:53:12 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Sto Nino
2025-11-14 11:53:12 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Sto Nino
2025-11-14 11:53:12 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:53:12 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:53:12 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:53:12 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:53:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:53:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:53:13 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:53:13 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:53:13 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:53:13 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-14 11:53:13 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Tumana Bridge
2025-11-14 11:53:13 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:53:13 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:53:13 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:53:13 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:53:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:53:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:53:13 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:53:13 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:53:13 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:53:13 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Marikina_weather
2025-11-14 11:53:13 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Marikina_weather
2025-11-14 11:53:13 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:53:13 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:53:13 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:53:13 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:53:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:53:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:53:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:53:14 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:53:14 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:53:14 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-14 11:53:14 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: AMBUKLAO
2025-11-14 11:53:14 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:53:14 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:53:14 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:53:14 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:53:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:53:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:53:15 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:53:15 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:53:15 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:53:15 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: ANGAT
2025-11-14 11:53:15 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: ANGAT
2025-11-14 11:53:15 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:53:15 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:53:15 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:53:15 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:53:15 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:53:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:53:15 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:53:15 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:53:15 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:53:15 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: BINGA
2025-11-14 11:53:15 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: BINGA
2025-11-14 11:53:15 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:53:15 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:53:15 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:53:15 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:53:15 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:53:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:53:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:53:16 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:53:16 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:53:16 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: CALIRAYA
2025-11-14 11:53:16 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: CALIRAYA
2025-11-14 11:53:16 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:53:16 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:53:16 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:53:16 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:53:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:53:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:53:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:53:16 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:53:16 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:53:16 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: IPO
2025-11-14 11:53:16 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: IPO
2025-11-14 11:53:16 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:53:16 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:53:16 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:53:16 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:53:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:53:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:53:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:53:17 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:53:17 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:53:17 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: LA MESA
2025-11-14 11:53:17 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: LA MESA
2025-11-14 11:53:17 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:53:17 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:53:17 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:53:17 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:53:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:53:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:53:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:53:17 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:53:18 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:53:18 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-14 11:53:18 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: MAGAT DAM
2025-11-14 11:53:18 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:53:18 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:53:18 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:53:18 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:53:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:53:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:53:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:53:18 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:53:18 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:53:18 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-14 11:53:18 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: PANTABANGAN
2025-11-14 11:53:18 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:53:18 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:53:18 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:53:18 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:53:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:53:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:53:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:53:19 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:53:19 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:53:19 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-14 11:53:19 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: SAN ROQUE
2025-11-14 11:53:19 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:53:19 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:53:19 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:53:19 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:53:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:53:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:53:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:53:19 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:53:19 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:53:19 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-14 11:53:19 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 19.60s
2025-11-14 11:53:19 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 3a8aaa4b-c771-4aa8-92c3-31a16ad9fce7 with 14 river stations
2025-11-14 11:53:19 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=3a8aaa4b-c771-4aa8-92c3-31a16ad9fce7
2025-11-14 11:53:19 - app.main - DEBUG - broadcast:161 - Successfully serialized message of type: flood_update
2025-11-14 11:53:19 - app.main - INFO - broadcast:188 - WebSocket disconnected during broadcast
2025-11-14 11:53:19 - app.main - INFO - broadcast:188 - WebSocket disconnected during broadcast
2025-11-14 11:53:19 - app.main - INFO - broadcast:188 - WebSocket disconnected during broadcast
2025-11-14 11:53:19 - app.main - INFO - disconnect:143 - WebSocket disconnected. Total connections: 2
2025-11-14 11:53:19 - app.main - INFO - disconnect:143 - WebSocket disconnected. Total connections: 1
2025-11-14 11:53:19 - app.main - INFO - disconnect:143 - WebSocket disconnected. Total connections: 0
2025-11-14 11:53:19 - app.main - INFO - broadcast_flood_update:228 - Broadcasted flood update to 0 clients
2025-11-14 11:53:19 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 11:53:19 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 11:54:40 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-14 11:54:42 - app.agents.test_hazard_001 - INFO - __init__:36 - Agent test_hazard_001 created
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - __init__:116 - test_hazard_001 GeoTIFF integration DISABLED
2025-11-14 11:54:42 - app.ml_models.location_geocoder - INFO - __init__:169 - LocationGeocoder initialized with 85 location mappings
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - __init__:129 - test_hazard_001 LocationGeocoder initialized
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - __init__:137 - test_hazard_001 initialized with risk weights: {'flood_depth': 0.5, 'crowdsourced': 0.3, 'historical': 0.2}, return_period: rr01, time_step: 1, geotiff_enabled: False
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: IPO
2025-11-14 11:54:42 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: IPO
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:54:42 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 1 locations
2025-11-14 11:54:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:54:42 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: LA MESA
2025-11-14 11:54:42 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: LA MESA
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:54:42 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 2 locations
2025-11-14 11:54:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=20124, high=0, critical=0
2025-11-14 11:54:42 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: MANGGAHAN
2025-11-14 11:54:42 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: MANGGAHAN
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:54:42 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 3 locations
2025-11-14 11:54:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=20124, high=0, critical=0
2025-11-14 11:54:42 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: ROSARIO
2025-11-14 11:54:42 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: ROSARIO
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:54:42 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 4 locations
2025-11-14 11:54:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=20124, critical=0
2025-11-14 11:54:42 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: NAPINDAN
2025-11-14 11:54:42 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: NAPINDAN
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:54:42 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 5 locations
2025-11-14 11:54:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:54:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:54:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 11:54:43 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:54:43 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:54:43 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: MONTALBAN
2025-11-14 11:54:43 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: MONTALBAN
2025-11-14 11:54:43 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:54:43 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:54:43 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 6 locations
2025-11-14 11:54:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:54:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:54:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 11:54:43 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:54:43 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:54:43 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: WAWA
2025-11-14 11:54:43 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: WAWA
2025-11-14 11:54:43 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:54:43 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:54:43 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 7 locations
2025-11-14 11:54:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:54:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:54:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 11:54:43 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:54:43 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:54:43 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: ANGAT
2025-11-14 11:54:43 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: ANGAT
2025-11-14 11:54:43 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:54:43 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:54:43 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 8 locations
2025-11-14 11:54:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:54:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:54:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 11:54:44 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:54:44 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:54:44 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: AMBUKLAO
2025-11-14 11:54:44 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: AMBUKLAO
2025-11-14 11:54:44 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:54:44 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:54:44 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 9 locations
2025-11-14 11:54:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:54:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:54:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 11:54:44 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:54:44 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:54:44 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: BINGA
2025-11-14 11:54:44 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: BINGA
2025-11-14 11:54:44 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:54:44 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:54:44 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 10 locations
2025-11-14 11:54:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:54:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:54:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 11:54:44 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:54:45 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:54:45 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: SAN ROQUE
2025-11-14 11:54:45 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: SAN ROQUE
2025-11-14 11:54:45 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:54:45 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:54:45 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 11 locations
2025-11-14 11:54:45 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:54:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:54:45 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 11:54:45 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:54:45 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:54:45 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: PANTABANGAN
2025-11-14 11:54:45 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: PANTABANGAN
2025-11-14 11:54:45 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:54:45 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:54:45 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 12 locations
2025-11-14 11:54:45 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:54:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:54:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 11:54:46 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:54:46 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:54:46 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: MAGAT
2025-11-14 11:54:46 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: MAGAT
2025-11-14 11:54:46 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:54:46 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:54:46 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 13 locations
2025-11-14 11:54:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:54:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:54:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 11:54:46 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:54:46 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:54:46 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: BUSTOS
2025-11-14 11:54:46 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: BUSTOS
2025-11-14 11:54:46 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:54:46 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:54:46 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-14 11:54:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:54:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:54:47 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 11:54:47 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:54:47 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:54:47 - __main__ - ERROR - <module>:158 - Test failed: 'charmap' codec can't encode character '\u2713' in position 2: character maps to <undefined>
Traceback (most recent call last):
  File "C:\Users\Donald\Documents\Code\multi-agent-routing-app\masfro-backend\scripts\testing\test_batch_optimization.py", line 155, in <module>
    test_batch_vs_individual()
  File "C:\Users\Donald\Documents\Code\multi-agent-routing-app\masfro-backend\scripts\testing\test_batch_optimization.py", line 99, in test_batch_vs_individual
    print(f"\n Individual processing completed")
  File "C:\Users\Donald\AppData\Roaming\uv\python\cpython-3.10.16-windows-x86_64-none\lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
UnicodeEncodeError: 'charmap' codec can't encode character '\u2713' in position 2: character maps to <undefined>
2025-11-14 11:55:28 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-14 11:55:30 - app.agents.test_hazard_001 - INFO - __init__:36 - Agent test_hazard_001 created
2025-11-14 11:55:30 - app.agents.hazard_agent - INFO - __init__:116 - test_hazard_001 GeoTIFF integration DISABLED
2025-11-14 11:55:30 - app.ml_models.location_geocoder - INFO - __init__:169 - LocationGeocoder initialized with 85 location mappings
2025-11-14 11:55:30 - app.agents.hazard_agent - INFO - __init__:129 - test_hazard_001 LocationGeocoder initialized
2025-11-14 11:55:30 - app.agents.hazard_agent - INFO - __init__:137 - test_hazard_001 initialized with risk weights: {'flood_depth': 0.5, 'crowdsourced': 0.3, 'historical': 0.2}, return_period: rr01, time_step: 1, geotiff_enabled: False
2025-11-14 11:55:30 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: IPO
2025-11-14 11:55:30 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: IPO
2025-11-14 11:55:30 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:55:30 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:55:30 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 1 locations
2025-11-14 11:55:30 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:55:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:55:30 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:55:30 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:55:30 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:55:30 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: LA MESA
2025-11-14 11:55:30 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: LA MESA
2025-11-14 11:55:30 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:55:30 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:55:30 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 2 locations
2025-11-14 11:55:30 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:55:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:55:30 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=20124, high=0, critical=0
2025-11-14 11:55:30 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:55:30 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:55:30 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: MANGGAHAN
2025-11-14 11:55:30 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: MANGGAHAN
2025-11-14 11:55:30 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:55:30 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:55:30 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 3 locations
2025-11-14 11:55:30 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:55:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:55:30 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=20124, high=0, critical=0
2025-11-14 11:55:30 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:55:30 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:55:30 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: ROSARIO
2025-11-14 11:55:30 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: ROSARIO
2025-11-14 11:55:30 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:55:30 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:55:30 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 4 locations
2025-11-14 11:55:30 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:55:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:55:31 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=20124, critical=0
2025-11-14 11:55:31 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:55:31 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:55:31 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: NAPINDAN
2025-11-14 11:55:31 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: NAPINDAN
2025-11-14 11:55:31 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:55:31 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:55:31 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 5 locations
2025-11-14 11:55:31 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:55:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:55:31 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 11:55:31 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:55:31 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:55:31 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: MONTALBAN
2025-11-14 11:55:31 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: MONTALBAN
2025-11-14 11:55:31 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:55:31 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:55:31 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 6 locations
2025-11-14 11:55:31 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:55:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:55:31 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 11:55:31 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:55:31 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:55:31 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: WAWA
2025-11-14 11:55:31 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: WAWA
2025-11-14 11:55:31 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:55:31 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:55:31 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 7 locations
2025-11-14 11:55:31 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:55:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:55:31 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 11:55:31 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:55:31 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:55:31 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: ANGAT
2025-11-14 11:55:31 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: ANGAT
2025-11-14 11:55:31 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:55:31 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:55:31 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 8 locations
2025-11-14 11:55:31 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:55:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:55:32 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 11:55:32 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:55:32 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:55:32 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: AMBUKLAO
2025-11-14 11:55:32 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: AMBUKLAO
2025-11-14 11:55:32 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:55:32 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:55:32 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 9 locations
2025-11-14 11:55:32 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:55:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:55:32 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 11:55:32 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:55:32 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:55:32 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: BINGA
2025-11-14 11:55:32 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: BINGA
2025-11-14 11:55:32 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:55:32 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:55:32 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 10 locations
2025-11-14 11:55:32 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:55:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:55:32 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 11:55:32 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:55:32 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:55:32 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: SAN ROQUE
2025-11-14 11:55:32 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: SAN ROQUE
2025-11-14 11:55:32 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:55:32 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:55:32 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 11 locations
2025-11-14 11:55:32 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:55:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:55:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 11:55:33 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:55:33 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:55:33 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: PANTABANGAN
2025-11-14 11:55:33 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: PANTABANGAN
2025-11-14 11:55:33 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:55:33 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:55:33 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 12 locations
2025-11-14 11:55:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:55:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:55:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 11:55:33 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:55:33 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:55:33 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: MAGAT
2025-11-14 11:55:33 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: MAGAT
2025-11-14 11:55:33 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:55:33 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:55:33 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 13 locations
2025-11-14 11:55:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:55:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:55:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 11:55:34 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:55:34 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:55:34 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: BUSTOS
2025-11-14 11:55:34 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: BUSTOS
2025-11-14 11:55:34 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:55:34 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:55:34 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-14 11:55:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:55:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:55:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 11:55:34 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:55:34 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:55:34 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - test_hazard_001 received batched flood data for 14 locations
2025-11-14 11:55:34 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - test_hazard_001 cached 14 valid data points (0 invalid)
2025-11-14 11:55:34 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - test_hazard_001 triggering hazard processing after batch update
2025-11-14 11:55:34 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 11:55:34 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 11:55:34 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-14 11:55:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:55:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:55:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 11:55:35 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 11:55:35 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 11:58:19 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 11:58:19 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 11:58:19 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 11:58:19 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 11:58:19 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 11:58:21 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 11:58:24 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 11:58:26 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 11:58:26 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 11:58:26 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 11:58:28 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 11:58:28 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 11:58:28 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 11:58:28 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.7mm 24h forecast, intensity=none
2025-11-14 11:58:28 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 11:58:28 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 11:58:29 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 11:58:29 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 11:58:29 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 11:58:29 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 11:58:29 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-14 11:58:29 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Montalban
2025-11-14 11:58:29 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Montalban
2025-11-14 11:58:29 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:58:29 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:58:29 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:58:29 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:58:29 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:58:29 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:58:30 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:58:30 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:58:30 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:58:30 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Nangka
2025-11-14 11:58:30 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Nangka
2025-11-14 11:58:30 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:58:30 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:58:30 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:58:30 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:58:30 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:58:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:58:31 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:58:31 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:58:31 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:58:31 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-14 11:58:31 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Rosario Bridge
2025-11-14 11:58:31 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:58:31 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:58:31 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:58:31 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:58:31 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:58:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:58:31 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:58:31 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:58:31 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:58:31 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Sto Nino
2025-11-14 11:58:31 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Sto Nino
2025-11-14 11:58:31 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:58:31 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:58:31 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:58:31 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:58:31 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:58:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:58:32 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:58:32 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:58:32 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:58:32 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-14 11:58:32 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Tumana Bridge
2025-11-14 11:58:32 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:58:32 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:58:32 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:58:32 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:58:32 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:58:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:58:32 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:58:32 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:58:32 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:58:32 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Marikina_weather
2025-11-14 11:58:32 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Marikina_weather
2025-11-14 11:58:32 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:58:32 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:58:32 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:58:32 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:58:32 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:58:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:58:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:58:33 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:58:33 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:58:33 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-14 11:58:33 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: AMBUKLAO
2025-11-14 11:58:33 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:58:33 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:58:33 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:58:33 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:58:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:58:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:58:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:58:33 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:58:33 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:58:33 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: ANGAT
2025-11-14 11:58:33 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: ANGAT
2025-11-14 11:58:33 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:58:33 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:58:33 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:58:33 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:58:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:58:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:58:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:58:34 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:58:34 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:58:34 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: BINGA
2025-11-14 11:58:34 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: BINGA
2025-11-14 11:58:34 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:58:34 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:58:34 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:58:34 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:58:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:58:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:58:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:58:34 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:58:34 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:58:34 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: CALIRAYA
2025-11-14 11:58:34 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: CALIRAYA
2025-11-14 11:58:34 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:58:34 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:58:34 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:58:34 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:58:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:58:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:58:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:58:35 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:58:35 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:58:35 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: IPO
2025-11-14 11:58:35 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: IPO
2025-11-14 11:58:35 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:58:35 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:58:35 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:58:35 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:58:35 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:58:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:58:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:58:35 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:58:35 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:58:35 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: LA MESA
2025-11-14 11:58:35 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: LA MESA
2025-11-14 11:58:35 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:58:35 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:58:35 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:58:35 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:58:35 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:58:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:58:36 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:58:36 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:58:36 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:58:36 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-14 11:58:36 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: MAGAT DAM
2025-11-14 11:58:36 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:58:36 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:58:36 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:58:36 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:58:36 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:58:36 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:58:37 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:58:37 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:58:37 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:58:37 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-14 11:58:37 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: PANTABANGAN
2025-11-14 11:58:37 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:58:37 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:58:37 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:58:37 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:58:37 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:58:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:58:37 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:58:37 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:58:37 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:58:37 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-14 11:58:37 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: SAN ROQUE
2025-11-14 11:58:37 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 11:58:37 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 11:58:37 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 11:58:37 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 11:58:37 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 11:58:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 11:58:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 11:58:38 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 11:58:38 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 11:58:38 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-14 11:58:38 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 18.52s
2025-11-14 11:58:38 - app.database.repository - INFO - create_collection:104 - Saved flood data collection c733f04a-3990-4a92-bc1e-15bc4ac170f7 with 14 river stations
2025-11-14 11:58:38 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=c733f04a-3990-4a92-bc1e-15bc4ac170f7
2025-11-14 11:58:38 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 11:58:38 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 12:03:38 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 12:03:38 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 12:03:38 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 12:03:38 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 12:03:38 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 12:03:39 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 12:03:46 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 12:03:48 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 12:03:48 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 12:03:48 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 12:03:51 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 12:03:51 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 12:03:51 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 12:03:51 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.7mm 24h forecast, intensity=none
2025-11-14 12:03:51 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 12:03:51 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 12:03:52 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 12:03:52 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 12:03:52 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 12:03:52 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 12:03:52 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-14 12:03:52 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Montalban
2025-11-14 12:03:52 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Montalban
2025-11-14 12:03:52 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:03:52 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:03:52 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:03:52 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:03:52 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:03:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:03:52 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:03:52 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:03:52 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:03:52 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Nangka
2025-11-14 12:03:52 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Nangka
2025-11-14 12:03:52 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:03:52 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:03:52 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:03:52 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:03:52 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:03:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:03:53 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:03:53 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:03:53 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:03:53 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-14 12:03:53 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Rosario Bridge
2025-11-14 12:03:53 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:03:53 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:03:53 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:03:53 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:03:53 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:03:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:03:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:03:54 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:03:54 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:03:54 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Sto Nino
2025-11-14 12:03:54 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Sto Nino
2025-11-14 12:03:54 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:03:54 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:03:54 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:03:54 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:03:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:03:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:03:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:03:54 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:03:54 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:03:54 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-14 12:03:54 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Tumana Bridge
2025-11-14 12:03:54 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:03:54 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:03:54 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:03:54 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:03:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:03:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:03:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:03:55 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:03:55 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:03:55 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Marikina_weather
2025-11-14 12:03:55 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Marikina_weather
2025-11-14 12:03:55 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:03:55 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:03:55 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:03:55 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:03:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:03:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:03:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:03:55 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:03:56 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:03:56 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-14 12:03:56 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: AMBUKLAO
2025-11-14 12:03:56 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:03:56 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:03:56 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:03:56 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:03:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:03:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:03:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:03:56 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:03:56 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:03:56 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: ANGAT
2025-11-14 12:03:56 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: ANGAT
2025-11-14 12:03:56 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:03:56 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:03:56 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:03:56 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:03:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:03:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:03:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:03:57 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:03:57 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:03:57 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: BINGA
2025-11-14 12:03:57 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: BINGA
2025-11-14 12:03:57 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:03:57 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:03:57 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:03:57 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:03:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:03:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:03:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:03:57 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:03:57 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:03:57 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: CALIRAYA
2025-11-14 12:03:57 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: CALIRAYA
2025-11-14 12:03:57 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:03:57 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:03:57 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:03:57 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:03:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:03:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:03:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:03:58 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:03:58 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:03:58 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: IPO
2025-11-14 12:03:58 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: IPO
2025-11-14 12:03:58 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:03:58 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:03:58 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:03:58 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:03:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:03:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:03:59 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:03:59 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:03:59 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:03:59 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: LA MESA
2025-11-14 12:03:59 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: LA MESA
2025-11-14 12:03:59 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:03:59 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:03:59 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:03:59 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:03:59 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:03:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:03:59 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:03:59 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:03:59 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:03:59 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-14 12:03:59 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: MAGAT DAM
2025-11-14 12:03:59 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:03:59 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:03:59 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:03:59 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:03:59 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:03:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:04:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:04:00 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:04:00 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:04:00 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-14 12:04:00 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: PANTABANGAN
2025-11-14 12:04:00 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:04:00 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:04:00 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:04:00 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:04:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:04:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:04:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:04:01 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:04:01 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:04:01 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-14 12:04:01 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: SAN ROQUE
2025-11-14 12:04:01 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:04:01 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:04:01 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:04:01 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:04:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:04:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:04:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:04:02 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:04:02 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:04:02 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-14 12:04:02 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 23.75s
2025-11-14 12:04:02 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 902e7c10-6956-4973-a723-b9fc0dbabdd6 with 14 river stations
2025-11-14 12:04:02 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=902e7c10-6956-4973-a723-b9fc0dbabdd6
2025-11-14 12:04:02 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 12:04:02 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 12:09:02 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 12:09:02 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 12:09:02 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 12:09:02 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 12:09:02 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 12:09:03 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 12:09:08 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 12:09:10 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 12:09:10 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 12:09:10 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 12:09:12 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 12:09:12 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 12:09:12 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 12:09:13 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.7mm 24h forecast, intensity=none
2025-11-14 12:09:13 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 12:09:13 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 12:09:14 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 12:09:14 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 12:09:14 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 12:09:14 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 12:09:14 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-14 12:09:14 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Montalban
2025-11-14 12:09:14 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Montalban
2025-11-14 12:09:14 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:09:14 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:09:14 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:09:14 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:09:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:09:14 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:09:14 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:09:14 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Nangka
2025-11-14 12:09:14 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Nangka
2025-11-14 12:09:14 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:09:14 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:09:14 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:09:14 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:09:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:15 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:09:15 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:09:15 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:09:15 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-14 12:09:15 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Rosario Bridge
2025-11-14 12:09:15 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:09:15 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:09:15 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:09:15 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:09:15 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:09:16 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:09:16 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:09:16 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Sto Nino
2025-11-14 12:09:16 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Sto Nino
2025-11-14 12:09:16 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:09:16 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:09:16 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:09:16 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:09:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:09:16 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:09:16 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:09:16 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-14 12:09:16 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Tumana Bridge
2025-11-14 12:09:16 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:09:16 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:09:16 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:09:16 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:09:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:09:17 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:09:17 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:09:17 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: Marikina_weather
2025-11-14 12:09:17 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: Marikina_weather
2025-11-14 12:09:17 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:09:17 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:09:17 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:09:17 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:09:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:09:18 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:09:18 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:09:18 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-14 12:09:18 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: AMBUKLAO
2025-11-14 12:09:18 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:09:18 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:09:18 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:09:18 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:09:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:09:18 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:09:18 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:09:18 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: ANGAT
2025-11-14 12:09:18 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: ANGAT
2025-11-14 12:09:18 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:09:18 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:09:18 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:09:18 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:09:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:09:19 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:09:19 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:09:19 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: BINGA
2025-11-14 12:09:19 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: BINGA
2025-11-14 12:09:19 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:09:19 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:09:19 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:09:19 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:09:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:09:19 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:09:19 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:09:19 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: CALIRAYA
2025-11-14 12:09:19 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: CALIRAYA
2025-11-14 12:09:19 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:09:19 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:09:19 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:09:19 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:09:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:09:20 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:09:20 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:09:20 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: IPO
2025-11-14 12:09:20 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: IPO
2025-11-14 12:09:20 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:09:20 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:09:20 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:09:20 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:09:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:09:20 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:09:20 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:09:20 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: LA MESA
2025-11-14 12:09:20 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: LA MESA
2025-11-14 12:09:20 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:09:20 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:09:20 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:09:20 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:09:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:21 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:09:21 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:09:21 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:09:21 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-14 12:09:21 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: MAGAT DAM
2025-11-14 12:09:21 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:09:21 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:09:21 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:09:21 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:09:21 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:21 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:09:21 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:09:22 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:09:22 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-14 12:09:22 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: PANTABANGAN
2025-11-14 12:09:22 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:09:22 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:09:22 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:09:22 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:09:22 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:22 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:09:22 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:09:22 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:09:22 - app.agents.hazard_agent - INFO - process_flood_data:198 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-14 12:09:22 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: SAN ROQUE
2025-11-14 12:09:22 - app.agents.hazard_agent - INFO - process_flood_data:212 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-14 12:09:22 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:09:22 - app.agents.hazard_agent - DEBUG - fuse_data:265 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:09:22 - app.agents.hazard_agent - INFO - fuse_data:314 - Data fusion complete for 15 locations
2025-11-14 12:09:22 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:529 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:388 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:23 - app.agents.hazard_agent - INFO - calculate_risk_scores:585 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:09:23 - app.agents.hazard_agent - DEBUG - update_environment:601 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:09:23 - app.agents.hazard_agent - INFO - update_environment:613 - Updated 20124 edges in the environment
2025-11-14 12:09:23 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-14 12:09:23 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 20.93s
2025-11-14 12:09:23 - app.database.repository - INFO - create_collection:104 - Saved flood data collection ed974f18-0f07-4f56-8f4c-616d714b6a72 with 14 river stations
2025-11-14 12:09:23 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=ed974f18-0f07-4f56-8f4c-616d714b6a72
2025-11-14 12:09:23 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 12:09:23 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 12:09:42 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-14 12:09:44 - app.agents.test_hazard_001 - INFO - __init__:36 - Agent test_hazard_001 created
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - __init__:116 - test_hazard_001 GeoTIFF integration DISABLED
2025-11-14 12:09:44 - app.ml_models.location_geocoder - INFO - __init__:169 - LocationGeocoder initialized with 85 location mappings
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - __init__:129 - test_hazard_001 LocationGeocoder initialized
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - __init__:137 - test_hazard_001 initialized with risk weights: {'flood_depth': 0.5, 'crowdsourced': 0.3, 'historical': 0.2}, return_period: rr01, time_step: 1, geotiff_enabled: False
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: IPO
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: IPO
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 1 locations
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: LA MESA
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: LA MESA
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 2 locations
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=20124, high=0, critical=0
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: MANGGAHAN
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: MANGGAHAN
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 3 locations
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=20124, high=0, critical=0
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: ROSARIO
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: ROSARIO
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 4 locations
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=20124, critical=0
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: NAPINDAN
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: NAPINDAN
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 5 locations
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: MONTALBAN
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: MONTALBAN
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 6 locations
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: WAWA
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: WAWA
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 7 locations
2025-11-14 12:09:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:45 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 12:09:45 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 12:09:45 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 12:09:45 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: ANGAT
2025-11-14 12:09:45 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: ANGAT
2025-11-14 12:09:45 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 12:09:45 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 12:09:45 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 8 locations
2025-11-14 12:09:45 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:45 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 12:09:45 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 12:09:45 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 12:09:45 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: AMBUKLAO
2025-11-14 12:09:45 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: AMBUKLAO
2025-11-14 12:09:45 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 12:09:45 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 12:09:45 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 9 locations
2025-11-14 12:09:45 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:45 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 12:09:45 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 12:09:45 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 12:09:45 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: BINGA
2025-11-14 12:09:45 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: BINGA
2025-11-14 12:09:45 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 12:09:45 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 12:09:45 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 10 locations
2025-11-14 12:09:45 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 12:09:46 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 12:09:46 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 12:09:46 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: SAN ROQUE
2025-11-14 12:09:46 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: SAN ROQUE
2025-11-14 12:09:46 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 12:09:46 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 12:09:46 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 11 locations
2025-11-14 12:09:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 12:09:46 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 12:09:46 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 12:09:46 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: PANTABANGAN
2025-11-14 12:09:46 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: PANTABANGAN
2025-11-14 12:09:46 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 12:09:46 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 12:09:46 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 12 locations
2025-11-14 12:09:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 12:09:46 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 12:09:46 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 12:09:46 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: MAGAT
2025-11-14 12:09:46 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: MAGAT
2025-11-14 12:09:46 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 12:09:46 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 12:09:46 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 13 locations
2025-11-14 12:09:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:47 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 12:09:47 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 12:09:47 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 12:09:47 - app.agents.hazard_agent - INFO - process_flood_data:198 - test_hazard_001 received flood data: BUSTOS
2025-11-14 12:09:47 - app.agents.hazard_agent - DEBUG - process_flood_data:209 - Flood data cached for location: BUSTOS
2025-11-14 12:09:47 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 12:09:47 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 12:09:47 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-14 12:09:47 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:47 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 12:09:47 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 12:09:47 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 12:09:47 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - test_hazard_001 received batched flood data for 14 locations
2025-11-14 12:09:47 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - test_hazard_001 cached 14 valid data points (0 invalid)
2025-11-14 12:09:47 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - test_hazard_001 triggering hazard processing after batch update
2025-11-14 12:09:47 - app.agents.hazard_agent - INFO - process_and_update:171 - test_hazard_001 processing hazard data...
2025-11-14 12:09:47 - app.agents.hazard_agent - DEBUG - fuse_data:334 - test_hazard_001 fusing data from multiple sources
2025-11-14 12:09:47 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-14 12:09:47 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - test_hazard_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:09:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:09:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=0, moderate=0, high=0, critical=20124
2025-11-14 12:09:48 - app.agents.hazard_agent - DEBUG - update_environment:670 - test_hazard_001 updating environment with risk scores
2025-11-14 12:09:48 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 12:10:15 - app.main - INFO - shutdown_event:477 - ============================================================
2025-11-14 12:10:15 - app.main - INFO - shutdown_event:478 - MAS-FRO Backend Shutting Down
2025-11-14 12:10:15 - app.main - INFO - shutdown_event:479 - ============================================================
2025-11-14 12:10:15 - app.main - INFO - shutdown_event:480 - Stopping background scheduler...
2025-11-14 12:10:15 - app.services.flood_data_scheduler - INFO - stop:280 - Stopping FloodDataScheduler...
2025-11-14 12:10:45 - app.services.flood_data_scheduler - WARNING - stop:288 - Scheduler stop timed out, cancelling task
2025-11-14 12:10:45 - app.services.flood_data_scheduler - INFO - stop:291 - [OK] FloodDataScheduler stopped
2025-11-14 12:10:45 - app.main - INFO - shutdown_event:484 - Scheduler stopped gracefully
2025-11-14 12:10:45 - app.main - INFO - shutdown_event:485 - MAS-FRO backend shutdown complete
2025-11-14 12:10:57 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-14 12:10:57 - app.main - INFO - <module>:393 - Initializing MAS-FRO Multi-Agent System...
2025-11-14 12:10:59 - app.communication.message_queue - INFO - __init__:46 - MessageQueue system initialized
2025-11-14 12:10:59 - app.agents.hazard_agent_001 - INFO - __init__:36 - Agent hazard_agent_001 created
2025-11-14 12:10:59 - app.agents.hazard_agent - INFO - __init__:116 - hazard_agent_001 GeoTIFF integration DISABLED
2025-11-14 12:10:59 - app.ml_models.location_geocoder - INFO - __init__:169 - LocationGeocoder initialized with 85 location mappings
2025-11-14 12:10:59 - app.agents.hazard_agent - INFO - __init__:129 - hazard_agent_001 LocationGeocoder initialized
2025-11-14 12:10:59 - app.agents.hazard_agent - INFO - __init__:137 - hazard_agent_001 initialized with risk weights: {'flood_depth': 0.5, 'crowdsourced': 0.3, 'historical': 0.2}, return_period: rr01, time_step: 1, geotiff_enabled: False
2025-11-14 12:10:59 - app.agents.flood_agent_001 - INFO - __init__:36 - Agent flood_agent_001 created
2025-11-14 12:10:59 - services.river_scraper_service - INFO - __init__:44 - RiverScraperService initialized
2025-11-14 12:10:59 - app.agents.flood_agent - INFO - __init__:106 - flood_agent_001 initialized RiverScraperService
2025-11-14 12:10:59 - app.agents.flood_agent - INFO - __init__:114 - flood_agent_001 initialized OpenWeatherMapService
2025-11-14 12:10:59 - services.dam_water_scraper_service - INFO - __init__:164 - DamWaterScraperService initialized
2025-11-14 12:10:59 - app.agents.flood_agent - INFO - __init__:125 - flood_agent_001 initialized DamWaterScraperService
2025-11-14 12:10:59 - services.data_sources - INFO - __init__:309 - DataCollector initialized: simulated=False, pagasa=False, noah=False, mmda=False
2025-11-14 12:10:59 - app.agents.flood_agent - INFO - __init__:153 - flood_agent_001 initialized with update interval 300s, real_apis=True, simulated=False
2025-11-14 12:10:59 - app.agents.routing_agent_001 - INFO - __init__:36 - Agent routing_agent_001 created
2025-11-14 12:10:59 - app.agents.routing_agent - INFO - _load_evacuation_centers:402 - Loaded 36 evacuation centers from C:\Users\Donald\Documents\Code\multi-agent-routing-app\masfro-backend\app\data\evacuation_centers.csv
2025-11-14 12:10:59 - app.agents.routing_agent - INFO - __init__:71 - routing_agent_001 initialized with risk_weight=0.6, distance_weight=0.4, evacuation_centers=36
2025-11-14 12:10:59 - app.agents.evac_manager_001 - INFO - __init__:36 - Agent evac_manager_001 created
2025-11-14 12:10:59 - app.agents.evacuation_manager_agent - INFO - __init__:90 - evac_manager_001 initialized
2025-11-14 12:10:59 - app.agents.flood_agent - INFO - set_hazard_agent:167 - flood_agent_001 linked to hazard_agent_001
2025-11-14 12:10:59 - app.agents.evacuation_manager_agent - INFO - set_hazard_agent:126 - evac_manager_001 linked to hazard_agent_001
2025-11-14 12:10:59 - app.agents.evacuation_manager_agent - INFO - set_routing_agent:116 - evac_manager_001 linked to routing_agent_001
2025-11-14 12:10:59 - app.services.flood_data_scheduler - INFO - __init__:71 - FloodDataScheduler initialized with interval=300s (5.0 minutes), WebSocket broadcasting=enabled
2025-11-14 12:10:59 - app.main - INFO - <module>:441 - MAS-FRO system initialized successfully
2025-11-14 12:10:59 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-14 12:10:59 - app.main - INFO - startup_event:450 - ============================================================
2025-11-14 12:10:59 - app.main - INFO - startup_event:451 - MAS-FRO Backend Starting Up
2025-11-14 12:10:59 - app.main - INFO - startup_event:452 - ============================================================
2025-11-14 12:10:59 - app.main - INFO - startup_event:453 - Structured logging initialized - logs written to logs/masfro.log
2025-11-14 12:10:59 - app.main - INFO - startup_event:456 - Checking database connection...
2025-11-14 12:10:59 - app.database.connection - INFO - check_connection:92 - [OK] Database connection successful
2025-11-14 12:10:59 - app.main - INFO - startup_event:458 - Database connection successful
2025-11-14 12:10:59 - app.database.connection - INFO - init_db:76 - [OK] Database tables created successfully
2025-11-14 12:10:59 - app.main - INFO - startup_event:465 - Starting background scheduler...
2025-11-14 12:10:59 - app.services.flood_data_scheduler - INFO - start:265 - [OK] FloodDataScheduler started (interval=300s)
2025-11-14 12:10:59 - app.main - INFO - startup_event:469 - Automated flood data collection started (every 5 minutes)
2025-11-14 12:10:59 - app.services.flood_data_scheduler - INFO - _collection_loop:179 - FloodDataScheduler started
2025-11-14 12:10:59 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 12:10:59 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 12:10:59 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 12:10:59 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 12:10:59 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 12:11:01 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 12:11:06 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 12:11:08 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 12:11:08 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 12:11:08 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 12:11:10 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 12:11:10 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 12:11:10 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 12:11:10 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.8mm 24h forecast, intensity=none
2025-11-14 12:11:10 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 12:11:10 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 12:11:12 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 12:11:12 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 12:11:12 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 12:11:12 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 12:11:12 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 12:11:12 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 12:11:12 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 12:11:12 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 12:11:12 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:11:12 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:11:12 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 12:11:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:11:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:11:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:11:12 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:11:12 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 12:11:12 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 12:11:12 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 12.69s
2025-11-14 12:11:12 - app.database.repository - INFO - create_collection:104 - Saved flood data collection a0c55adb-f77e-4e4b-a700-12ea2c05f9a7 with 14 river stations
2025-11-14 12:11:12 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=a0c55adb-f77e-4e4b-a700-12ea2c05f9a7
2025-11-14 12:11:12 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 12:11:12 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 12:16:12 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 12:16:12 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 12:16:12 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 12:16:12 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 12:16:12 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 12:16:14 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 12:16:21 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 12:16:23 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 12:16:23 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 12:16:23 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 12:16:25 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 12:16:25 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 12:16:25 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 12:16:25 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.7mm 24h forecast, intensity=none
2025-11-14 12:16:25 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 12:16:25 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 12:16:26 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 12:16:26 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 12:16:26 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 12:16:26 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 12:16:26 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 12:16:26 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 12:16:26 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 12:16:26 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 12:16:26 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:16:26 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:16:26 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 12:16:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:16:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:16:27 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:16:27 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:16:27 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 12:16:27 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 12:16:27 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 14.54s
2025-11-14 12:16:27 - app.database.repository - INFO - create_collection:104 - Saved flood data collection b4b58244-6439-479d-8352-ce5d2b16aac1 with 14 river stations
2025-11-14 12:16:27 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=b4b58244-6439-479d-8352-ce5d2b16aac1
2025-11-14 12:16:27 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 12:16:27 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 12:21:27 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 12:21:27 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 12:21:27 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 12:21:27 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 12:21:27 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 12:21:28 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 12:21:33 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 12:21:35 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 12:21:35 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 12:21:35 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 12:21:37 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 12:21:37 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 12:21:37 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 12:21:37 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.7mm 24h forecast, intensity=none
2025-11-14 12:21:37 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 12:21:37 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 12:21:38 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 12:21:38 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 12:21:38 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 12:21:38 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 12:21:38 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 12:21:38 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 12:21:38 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 12:21:38 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 12:21:38 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:21:38 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:21:38 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 12:21:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:21:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:21:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:21:39 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:21:39 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 12:21:39 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 12:21:39 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 12.23s
2025-11-14 12:21:39 - app.database.repository - INFO - create_collection:104 - Saved flood data collection ce34ac2d-870b-4061-b64f-097f5a1dcad9 with 14 river stations
2025-11-14 12:21:39 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=ce34ac2d-870b-4061-b64f-097f5a1dcad9
2025-11-14 12:21:39 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 12:21:39 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 12:26:39 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 12:26:39 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 12:26:39 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 12:26:39 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 12:26:39 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 12:26:41 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 12:26:44 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 12:26:47 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 12:26:47 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 12:26:47 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 12:26:49 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 12:26:49 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 12:26:49 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 12:26:49 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.7mm 24h forecast, intensity=none
2025-11-14 12:26:49 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 12:26:49 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 12:26:50 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 12:26:50 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 12:26:50 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 12:26:50 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 12:26:50 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 12:26:50 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 12:26:50 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 12:26:50 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 12:26:50 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 12:26:50 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 12:26:50 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 12:26:50 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 12:26:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 12:26:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 12:26:51 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 12:26:51 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 12:26:51 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 12:26:51 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 11.58s
2025-11-14 12:26:51 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 170b7b78-828e-4a7f-b694-9ae4f728ae40 with 14 river stations
2025-11-14 12:26:51 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=170b7b78-828e-4a7f-b694-9ae4f728ae40
2025-11-14 12:26:51 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 12:26:51 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 12:57:45 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 12:57:45 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 12:57:45 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 12:57:45 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 12:57:45 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 12:57:48 - selenium.webdriver.common.selenium_manager - WARNING - _process_logs:137 - There was an error managing chromedriver (error sending request for url (https://googlechromelabs.github.io/chrome-for-testing/known-good-versions-with-downloads.json)); using driver found in the cache
2025-11-14 12:57:48 - selenium.webdriver.common.selenium_manager - WARNING - _process_logs:137 - Error sending stats to Plausible: error sending request for url (https://plausible.io/api/event)
2025-11-14 12:57:51 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 12:57:52 - services.river_scraper_service - ERROR - get_river_levels:115 - WebDriver error: Message: unknown error: net::ERR_NAME_NOT_RESOLVED
  (Session info: chrome=142.0.7444.135)
Stacktrace:
Symbols not available. Dumping unresolved backtrace:
	0x7ff68be2a235
	0x7ff68bb82650
	0x7ff68b9116dd
	0x7ff68b90e228
	0x7ff68b8feba9
	0x7ff68b9009d7
	0x7ff68b8ff160
	0x7ff68b8fe917
	0x7ff68b8fe5db
	0x7ff68b8fc145
	0x7ff68b8fc9dc
	0x7ff68b9159ea
	0x7ff68b9bc8be
	0x7ff68b992b0a
	0x7ff68b9bbaba
	0x7ff68b95b0ed
	0x7ff68b95bf63
	0x7ff68be55d60
	0x7ff68be4fe8a
	0x7ff68be71005
	0x7ff68bb9d73e
	0x7ff68bba4e3f
	0x7ff68bb8b7e4
	0x7ff68bb8b99f
	0x7ff68bb71908
	0x7ffed1fee8d7
	0x7ffed306c53c

2025-11-14 12:57:56 - app.agents.flood_agent - WARNING - fetch_real_river_levels:556 - No river data returned from PAGASA API
2025-11-14 12:57:56 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 12:57:56 - app.agents.flood_agent - WARNING - fetch_real_weather_data:651 - No weather data returned from OpenWeatherMap
2025-11-14 12:57:56 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 12:57:56 - services.dam_water_scraper_service - WARNING - get_dam_levels:183 - No dam data returned from scraper
2025-11-14 12:57:56 - app.agents.flood_agent - WARNING - fetch_real_dam_levels:732 - No dam data returned from PAGASA
2025-11-14 12:57:56 - app.agents.flood_agent - WARNING - collect_and_forward_data:242 -  No real data available, falling back to simulated data
2025-11-14 12:57:56 - app.agents.flood_agent - DEBUG - _process_collected_data:348 - Processed data for 0 locations
2025-11-14 12:57:56 - app.agents.flood_agent - WARNING - collect_and_forward_data:259 - [WARN] No data collected from any source!
2025-11-14 12:57:56 - app.services.flood_data_scheduler - WARNING - _collection_loop:228 - [WARN] Scheduled collection returned no data
2025-11-14 12:57:56 - app.database.repository - WARNING - create_failed_collection:144 - Saved failed collection eed7d7b5-4042-4501-b1e9-0cde6563cb5f: Collection returned no data
2025-11-14 12:57:56 - app.services.flood_data_scheduler - INFO - _save_failed_collection:167 - [DB] Failed collection saved: collection_id=eed7d7b5-4042-4501-b1e9-0cde6563cb5f
2025-11-14 12:57:56 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 13:02:56 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 13:02:56 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 13:02:56 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 13:02:56 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 13:02:56 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 13:03:04 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 13:03:11 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 13:03:13 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 13:03:13 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 13:03:13 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 13:03:15 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 13:03:15 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 13:03:15 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 13:03:16 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.3mm 24h forecast, intensity=none
2025-11-14 13:03:16 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 13:03:16 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 13:03:18 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 13:03:18 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 13:03:18 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 13:03:18 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 13:03:18 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 13:03:18 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 13:03:18 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 13:03:18 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 13:03:18 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 13:03:18 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 13:03:18 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 13:03:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 13:03:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 13:03:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 13:03:18 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 13:03:18 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 13:03:18 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 13:03:18 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 22.48s
2025-11-14 13:03:18 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 11aacc1c-2c47-4f06-933e-35a0d8a78c10 with 14 river stations
2025-11-14 13:03:18 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=11aacc1c-2c47-4f06-933e-35a0d8a78c10
2025-11-14 13:03:18 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 13:03:18 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 13:08:18 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 13:08:18 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 13:08:18 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 13:08:18 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 13:08:18 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 13:08:20 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 13:08:28 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 13:08:30 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 13:08:30 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 13:08:30 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 13:08:32 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 13:08:32 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 13:08:32 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 13:08:32 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.3mm 24h forecast, intensity=none
2025-11-14 13:08:32 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 13:08:32 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 13:08:33 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 13:08:33 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 13:08:33 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 13:08:33 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 13:08:33 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 13:08:33 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 13:08:33 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 13:08:33 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 13:08:33 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 13:08:33 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 13:08:33 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 13:08:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 13:08:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 13:08:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 13:08:34 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 13:08:34 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 13:08:34 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 13:08:34 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 15.56s
2025-11-14 13:08:34 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 8db0dcdf-3208-49bc-b426-72e4933efb7d with 14 river stations
2025-11-14 13:08:34 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=8db0dcdf-3208-49bc-b426-72e4933efb7d
2025-11-14 13:08:34 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 13:08:34 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 13:13:34 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 13:13:34 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 13:13:34 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 13:13:34 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 13:13:34 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 13:13:36 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 13:13:43 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 13:13:45 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 13:13:45 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 13:13:45 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 13:13:47 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 13:13:47 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 13:13:47 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 13:13:47 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.8mm 24h forecast, intensity=none
2025-11-14 13:13:47 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 13:13:47 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 13:13:48 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 13:13:48 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 13:13:48 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 13:13:48 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 13:13:48 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 13:13:48 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 13:13:48 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 13:13:48 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 13:13:48 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 13:13:48 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 13:13:48 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 13:13:48 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 13:13:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 13:13:49 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 13:13:49 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 13:13:49 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 13:13:49 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 13:13:49 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 14.89s
2025-11-14 13:13:49 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 3900bf09-2348-416c-a1d6-d239400f2453 with 14 river stations
2025-11-14 13:13:49 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=3900bf09-2348-416c-a1d6-d239400f2453
2025-11-14 13:13:49 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 13:13:49 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 13:18:49 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 13:18:49 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 13:18:49 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 13:18:49 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 13:18:49 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 13:18:51 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 13:18:59 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 13:19:01 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 13:19:01 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 13:19:01 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 13:19:03 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 13:19:03 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 13:19:03 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 13:19:03 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.3mm 24h forecast, intensity=none
2025-11-14 13:19:03 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 13:19:03 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 13:19:04 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 13:19:04 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 13:19:04 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 13:19:04 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 13:19:04 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 13:19:04 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 13:19:04 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 13:19:04 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 13:19:04 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 13:19:04 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 13:19:04 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 13:19:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 13:19:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 13:19:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 13:19:05 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 13:19:05 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 13:19:05 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 13:19:05 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 16.18s
2025-11-14 13:19:05 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 999aac89-a10d-428c-8542-715fed76ddb3 with 14 river stations
2025-11-14 13:19:05 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=999aac89-a10d-428c-8542-715fed76ddb3
2025-11-14 13:19:05 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 13:19:05 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 13:24:05 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 13:24:05 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 13:24:05 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 13:24:05 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 13:24:05 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 13:24:06 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 13:24:13 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 13:24:15 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 13:24:15 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 13:24:15 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 13:24:17 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 13:24:17 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 13:24:17 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 13:24:17 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.3mm 24h forecast, intensity=none
2025-11-14 13:24:17 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 13:24:17 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 13:24:18 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 13:24:18 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 13:24:18 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 13:24:18 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 13:24:18 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 13:24:18 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 13:24:18 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 13:24:18 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 13:24:18 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 13:24:18 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 13:24:18 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 13:24:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 13:24:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 13:24:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 13:24:19 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 13:24:19 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 13:24:19 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 13:24:19 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 13.56s
2025-11-14 13:24:19 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 67ca8d76-acab-43fd-9715-9c4f1cbc52bf with 14 river stations
2025-11-14 13:24:19 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=67ca8d76-acab-43fd-9715-9c4f1cbc52bf
2025-11-14 13:24:19 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 13:24:19 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 13:29:19 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 13:29:19 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 13:29:19 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 13:29:19 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 13:29:19 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 13:29:21 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 13:29:30 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 13:29:32 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 13:29:32 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 13:29:32 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 13:29:34 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 13:29:34 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 13:29:34 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 13:29:34 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.3mm 24h forecast, intensity=none
2025-11-14 13:29:34 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 13:29:34 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 13:29:36 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 13:29:36 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 13:29:36 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 13:29:36 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 13:29:36 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 13:29:36 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 13:29:36 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 13:29:36 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 13:29:36 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 13:29:36 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 13:29:36 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 13:29:36 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 13:29:36 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 13:29:36 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 13:29:36 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 13:29:37 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 13:29:37 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 13:29:37 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 17.89s
2025-11-14 13:29:37 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 71187c2f-ac6d-45d6-b72a-a96651b99003 with 14 river stations
2025-11-14 13:29:37 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=71187c2f-ac6d-45d6-b72a-a96651b99003
2025-11-14 13:29:37 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 13:29:37 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 13:34:37 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 13:34:37 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 13:34:37 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 13:34:37 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 13:34:37 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 13:34:39 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 13:34:44 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 13:34:46 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 13:34:46 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 13:34:46 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 13:34:48 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 13:34:48 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 13:34:48 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 13:34:48 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.3mm 24h forecast, intensity=none
2025-11-14 13:34:48 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 13:34:48 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 13:34:49 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 13:34:49 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 13:34:49 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 13:34:49 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 13:34:49 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 13:34:49 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 13:34:49 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 13:34:49 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 13:34:49 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 13:34:49 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 13:34:49 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 13:34:49 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 13:34:49 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 13:34:50 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 13:34:50 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 13:34:50 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 13:34:50 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 13:34:50 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 12.99s
2025-11-14 13:34:50 - app.database.repository - INFO - create_collection:104 - Saved flood data collection b3cf0e8e-3eba-4c45-913a-cfc0ebcfa026 with 14 river stations
2025-11-14 13:34:50 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=b3cf0e8e-3eba-4c45-913a-cfc0ebcfa026
2025-11-14 13:34:50 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 13:34:50 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 13:39:50 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 13:39:50 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 13:39:50 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 13:39:50 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 13:39:50 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 13:39:51 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 13:39:57 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 13:39:59 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 13:39:59 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 13:39:59 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 13:40:01 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 13:40:01 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 13:40:01 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 13:40:01 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.3mm 24h forecast, intensity=none
2025-11-14 13:40:01 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 13:40:01 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 13:40:02 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 13:40:02 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 13:40:02 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 13:40:02 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 13:40:02 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 13:40:02 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 13:40:02 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 13:40:02 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 13:40:02 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 13:40:02 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 13:40:02 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 13:40:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 13:40:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 13:40:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 13:40:03 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 13:40:03 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 13:40:03 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 13:40:03 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 13.08s
2025-11-14 13:40:03 - app.database.repository - INFO - create_collection:104 - Saved flood data collection de4d78b5-5d00-49ac-be2d-7132a88d1252 with 14 river stations
2025-11-14 13:40:03 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=de4d78b5-5d00-49ac-be2d-7132a88d1252
2025-11-14 13:40:03 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 13:40:03 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 13:45:03 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 13:45:03 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 13:45:03 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 13:45:03 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 13:45:03 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 13:45:04 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 13:45:15 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 13:45:17 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 13:45:17 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 13:45:17 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 13:45:20 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 13:45:20 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 13:45:20 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 13:45:20 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.3mm 24h forecast, intensity=none
2025-11-14 13:45:20 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 13:45:20 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 13:45:21 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 13:45:21 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 13:45:21 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 13:45:21 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 13:45:21 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 13:45:21 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 13:45:21 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 13:45:21 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 13:45:21 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 13:45:21 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 13:45:21 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 13:45:21 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 13:45:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 13:45:21 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 13:45:21 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 13:45:21 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 13:45:21 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 13:45:21 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 18.42s
2025-11-14 13:45:21 - app.database.repository - INFO - create_collection:104 - Saved flood data collection e81a3e4b-1cc8-4e7d-8422-09805f9171dd with 14 river stations
2025-11-14 13:45:21 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=e81a3e4b-1cc8-4e7d-8422-09805f9171dd
2025-11-14 13:45:21 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 13:45:21 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 13:50:21 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 13:50:21 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 13:50:21 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 13:50:21 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 13:50:21 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 13:50:22 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 13:50:33 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 13:50:35 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 13:50:35 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 13:50:35 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 13:50:37 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 13:50:37 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 13:50:37 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 13:50:38 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.1mm/hr current, 0.8mm 24h forecast, intensity=light
2025-11-14 13:50:38 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 13:50:38 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 13:50:39 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 13:50:39 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 13:50:39 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 13:50:39 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 13:50:39 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 13:50:39 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 13:50:39 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 13:50:39 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 13:50:39 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 13:50:39 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 13:50:39 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 13:50:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 13:50:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 13:50:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 13:50:39 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 13:50:39 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 13:50:39 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 13:50:39 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 18.06s
2025-11-14 13:50:39 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 1ca8293f-3554-4b43-8245-66acbf3fd176 with 14 river stations
2025-11-14 13:50:39 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=1ca8293f-3554-4b43-8245-66acbf3fd176
2025-11-14 13:50:39 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 13:50:39 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 13:55:39 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 13:55:39 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 13:55:39 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 13:55:39 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 13:55:39 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 13:55:40 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 13:55:54 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 13:55:56 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 13:55:56 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 13:55:56 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 13:55:58 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 13:55:58 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 13:55:58 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 13:55:59 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.3mm 24h forecast, intensity=none
2025-11-14 13:55:59 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 13:55:59 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 13:56:00 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 13:56:00 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 13:56:00 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 13:56:00 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 13:56:00 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 13:56:00 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 13:56:00 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 13:56:00 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 13:56:00 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 13:56:00 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 13:56:00 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 13:56:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 13:56:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 13:56:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 13:56:00 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 13:56:00 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 13:56:00 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 13:56:00 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 20.86s
2025-11-14 13:56:00 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 947511f4-15cd-482b-9f38-f8f0dc4f21fd with 14 river stations
2025-11-14 13:56:00 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=947511f4-15cd-482b-9f38-f8f0dc4f21fd
2025-11-14 13:56:00 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 13:56:00 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 14:01:00 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 14:01:00 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 14:01:00 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 14:01:00 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 14:01:00 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 14:01:01 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 14:01:10 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 14:01:13 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 14:01:13 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 14:01:13 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 14:01:15 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 14:01:15 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 14:01:15 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 14:01:15 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.3mm 24h forecast, intensity=none
2025-11-14 14:01:15 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 14:01:15 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 14:01:16 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 14:01:16 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 14:01:16 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 14:01:16 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 14:01:16 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 14:01:16 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 14:01:16 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 14:01:16 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 14:01:16 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 14:01:16 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 14:01:16 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 14:01:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 14:01:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 14:01:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 14:01:16 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 14:01:16 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 14:01:16 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 14:01:16 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 15.97s
2025-11-14 14:01:16 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 6e56db7e-bcef-456b-9b07-5d70003009c4 with 14 river stations
2025-11-14 14:01:16 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=6e56db7e-bcef-456b-9b07-5d70003009c4
2025-11-14 14:01:16 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 14:01:16 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 14:06:16 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 14:06:16 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 14:06:16 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 14:06:16 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 14:06:16 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 14:06:23 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 14:06:29 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 14:06:31 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 14:06:31 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 14:06:31 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 14:06:33 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 14:06:33 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 14:06:33 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 14:06:33 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.3mm 24h forecast, intensity=none
2025-11-14 14:06:33 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 14:06:33 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 14:06:34 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 14:06:34 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 14:06:34 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 14:06:34 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 14:06:34 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 14:06:34 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 14:06:34 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 14:06:34 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 14:06:34 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 14:06:34 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 14:06:34 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 14:06:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 14:06:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 14:06:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 14:06:34 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 14:06:34 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 14:06:34 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 14:06:34 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 18.19s
2025-11-14 14:06:34 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 54cb2269-e96b-46f0-b3c6-8b08a6b364c8 with 14 river stations
2025-11-14 14:06:34 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=54cb2269-e96b-46f0-b3c6-8b08a6b364c8
2025-11-14 14:06:34 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 14:06:34 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 14:11:34 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 14:11:34 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 14:11:34 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 14:11:34 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 14:11:34 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 14:11:36 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 14:11:42 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 14:11:44 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 14:11:44 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 14:11:44 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 14:11:46 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 14:11:46 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 14:11:46 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 14:11:46 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.1mm/hr current, 0.8mm 24h forecast, intensity=light
2025-11-14 14:11:46 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 14:11:46 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 14:11:47 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 14:11:47 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 14:11:47 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 14:11:47 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 14:11:47 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 14:11:47 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 14:11:47 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 14:11:47 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 14:11:47 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 14:11:47 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 14:11:47 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 14:11:47 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 14:11:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 14:11:47 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 14:11:47 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 14:11:47 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 14:11:47 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 14:11:47 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 12.91s
2025-11-14 14:11:47 - app.database.repository - INFO - create_collection:104 - Saved flood data collection f0cd5c9b-ae5f-4405-a3d2-e568cdfcfc6d with 14 river stations
2025-11-14 14:11:47 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=f0cd5c9b-ae5f-4405-a3d2-e568cdfcfc6d
2025-11-14 14:11:47 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 14:11:47 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 14:16:47 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 14:16:47 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 14:16:47 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 14:16:47 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 14:16:47 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 14:16:48 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 14:16:55 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 14:16:57 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 14:16:57 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 14:16:57 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 14:16:59 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 14:16:59 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 14:16:59 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 14:16:59 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.2mm 24h forecast, intensity=none
2025-11-14 14:16:59 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 14:16:59 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 14:17:00 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 14:17:00 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 14:17:00 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 14:17:00 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 14:17:00 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 14:17:00 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 14:17:00 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 14:17:00 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 14:17:00 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 14:17:00 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 14:17:00 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 14:17:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 14:17:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 14:17:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 14:17:00 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 14:17:00 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 14:17:00 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 14:17:00 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 13.02s
2025-11-14 14:17:00 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 9ea889e3-c0da-409d-a242-8b65ff1837b0 with 14 river stations
2025-11-14 14:17:00 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=9ea889e3-c0da-409d-a242-8b65ff1837b0
2025-11-14 14:17:00 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 14:17:00 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 14:22:00 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 14:22:00 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 14:22:00 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 14:22:00 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 14:22:00 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 14:22:02 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 14:22:08 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 14:22:10 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 14:22:10 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 14:22:10 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 14:22:13 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 14:22:13 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 14:22:13 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 14:22:13 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.2mm 24h forecast, intensity=none
2025-11-14 14:22:13 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 14:22:13 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 14:22:14 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 14:22:14 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 14:22:14 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 14:22:14 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 14:22:14 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 14:22:14 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 14:22:14 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 14:22:14 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 14:22:14 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 14:22:14 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 14:22:14 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 14:22:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 14:22:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 14:22:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 14:22:14 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 14:22:14 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 14:22:14 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 14:22:14 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 13.63s
2025-11-14 14:22:14 - app.database.repository - INFO - create_collection:104 - Saved flood data collection b446aa5e-6cf1-4a2f-a911-510588c57644 with 14 river stations
2025-11-14 14:22:14 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=b446aa5e-6cf1-4a2f-a911-510588c57644
2025-11-14 14:22:14 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 14:22:14 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 14:27:14 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 14:27:14 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 14:27:14 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 14:27:14 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 14:27:14 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 14:27:15 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 14:27:22 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 14:27:24 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 14:27:24 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 14:27:24 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 14:27:26 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 14:27:26 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 14:27:26 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 14:27:26 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.2mm 24h forecast, intensity=none
2025-11-14 14:27:26 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 14:27:26 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 14:27:27 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 14:27:27 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 14:27:27 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 14:27:27 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 14:27:27 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 14:27:27 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 14:27:27 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 14:27:27 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 14:27:27 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 14:27:27 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 14:27:27 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 14:27:27 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 14:27:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 14:27:28 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 14:27:28 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 14:27:28 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 14:27:28 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 14:27:28 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 13.69s
2025-11-14 14:27:28 - app.database.repository - INFO - create_collection:104 - Saved flood data collection bd299ad9-9eb4-4cea-ac96-2a2827b6223f with 14 river stations
2025-11-14 14:27:28 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=bd299ad9-9eb4-4cea-ac96-2a2827b6223f
2025-11-14 14:27:28 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 14:27:28 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 14:32:28 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 14:32:28 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 14:32:28 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 14:32:28 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 14:32:28 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 14:32:29 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 14:32:38 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 14:32:40 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 14:32:40 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 14:32:40 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 14:32:42 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 14:32:42 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 14:32:42 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 14:32:43 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.2mm/hr current, 0.3mm 24h forecast, intensity=light
2025-11-14 14:32:43 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 14:32:43 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 14:32:44 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 14:32:44 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 14:32:44 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 14:32:44 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 14:32:44 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 14:32:44 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 14:32:44 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 14:32:44 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 14:32:44 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 14:32:44 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 14:32:44 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 14:32:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 14:32:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 14:32:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 14:32:44 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 14:32:44 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 14:32:44 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 14:32:44 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 16.75s
2025-11-14 14:32:44 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 07b8b89c-f425-4eea-bf5c-f3bba687f2b4 with 14 river stations
2025-11-14 14:32:44 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=07b8b89c-f425-4eea-bf5c-f3bba687f2b4
2025-11-14 14:32:44 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 14:32:44 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 14:37:44 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 14:37:44 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 14:37:44 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 14:37:44 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 14:37:44 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 14:37:46 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 14:37:56 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 14:37:58 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 14:37:58 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 14:37:58 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 14:38:00 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 14:38:00 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 14:38:00 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 14:38:00 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-14 14:38:00 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 14:38:00 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 14:38:02 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 14:38:02 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 14:38:02 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 14:38:02 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 14:38:02 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 14:38:02 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 14:38:02 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 14:38:02 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 14:38:02 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 14:38:02 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 14:38:02 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 14:38:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 14:38:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 14:38:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 14:38:02 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 14:38:02 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 14:38:02 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 14:38:02 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 17.90s
2025-11-14 14:38:02 - app.database.repository - INFO - create_collection:104 - Saved flood data collection d7f6aec2-f689-4dd0-b2a7-575288cea722 with 14 river stations
2025-11-14 14:38:02 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=d7f6aec2-f689-4dd0-b2a7-575288cea722
2025-11-14 14:38:02 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 14:38:02 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 14:43:02 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 14:43:02 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 14:43:02 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 14:43:02 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 14:43:02 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 14:43:04 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 14:43:20 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 14:43:22 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 14:43:22 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 14:43:22 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 14:43:25 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 14:43:25 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 14:43:25 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 14:43:25 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-14 14:43:25 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 14:43:25 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 14:43:26 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 14:43:26 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 14:43:26 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 14:43:26 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 14:43:26 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 14:43:26 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 14:43:26 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 14:43:26 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 14:43:26 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 14:43:26 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 14:43:26 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 14:43:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 14:43:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 14:43:26 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 14:43:26 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 14:43:26 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 14:43:26 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 14:43:26 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 23.86s
2025-11-14 14:43:26 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 99944fee-902f-48a6-acc4-5797f2adb101 with 14 river stations
2025-11-14 14:43:26 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=99944fee-902f-48a6-acc4-5797f2adb101
2025-11-14 14:43:26 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 14:43:26 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 14:48:26 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 14:48:26 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 14:48:26 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 14:48:26 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 14:48:26 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 14:48:27 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 14:48:39 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 14:48:41 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 14:48:41 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 14:48:41 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 14:48:43 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 14:48:43 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 14:48:43 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 14:48:44 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-14 14:48:44 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 14:48:44 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 14:48:46 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 14:48:46 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 14:48:46 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 14:48:46 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 14:48:46 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 14:48:46 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 14:48:46 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 14:48:46 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 14:48:46 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 14:48:46 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 14:48:46 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 14:48:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 14:48:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 14:48:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 14:48:46 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 14:48:46 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 14:48:46 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 14:48:46 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 20.04s
2025-11-14 14:48:46 - app.database.repository - INFO - create_collection:104 - Saved flood data collection f6e11d1a-92ef-48fc-b5c9-f660f7e5b406 with 14 river stations
2025-11-14 14:48:46 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=f6e11d1a-92ef-48fc-b5c9-f660f7e5b406
2025-11-14 14:48:46 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 14:48:46 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 14:53:46 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 14:53:46 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 14:53:46 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 14:53:46 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 14:53:46 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 14:53:47 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 14:54:09 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 14:54:11 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 14:54:11 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 14:54:11 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 14:54:13 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 14:54:13 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 14:54:13 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 14:54:14 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-14 14:54:14 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 14:54:14 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 14:54:16 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 14:54:16 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 14:54:16 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 14:54:16 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 14:54:16 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 14:54:16 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 14:54:16 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 14:54:16 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 14:54:16 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 14:54:16 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 14:54:16 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 14:54:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 14:54:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 14:54:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 14:54:16 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 14:54:16 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 14:54:16 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 14:54:16 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 29.88s
2025-11-14 14:54:16 - app.database.repository - INFO - create_collection:104 - Saved flood data collection d0c99ff8-1306-4143-9f93-ec44d0c57b67 with 14 river stations
2025-11-14 14:54:16 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=d0c99ff8-1306-4143-9f93-ec44d0c57b67
2025-11-14 14:54:16 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 14:54:16 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 14:59:16 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 14:59:16 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 14:59:16 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 14:59:16 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 14:59:16 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 14:59:18 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 14:59:25 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 14:59:27 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 14:59:27 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 14:59:27 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 14:59:29 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 14:59:29 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 14:59:29 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 14:59:29 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-14 14:59:29 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 14:59:29 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 14:59:33 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 14:59:33 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 14:59:33 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 14:59:33 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 14:59:33 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 14:59:33 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 14:59:33 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 14:59:33 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 14:59:33 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 14:59:33 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 14:59:33 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 14:59:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 14:59:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 14:59:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 14:59:34 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 14:59:34 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 14:59:34 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 14:59:34 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 17.73s
2025-11-14 14:59:34 - app.database.repository - INFO - create_collection:104 - Saved flood data collection c7116eba-b260-4242-a6cb-e9433c28c299 with 14 river stations
2025-11-14 14:59:34 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=c7116eba-b260-4242-a6cb-e9433c28c299
2025-11-14 14:59:34 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 14:59:34 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 15:04:34 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 15:04:34 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 15:04:34 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 15:04:34 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 15:04:34 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 15:04:35 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 15:04:48 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 15:04:50 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 15:04:50 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 15:04:50 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 15:04:52 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 15:04:52 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 15:04:52 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 15:04:53 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-14 15:04:53 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 15:04:53 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 15:04:54 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 15:04:54 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 15:04:54 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 15:04:54 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 15:04:54 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 15:04:54 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 15:04:54 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 15:04:54 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 15:04:54 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 15:04:54 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 15:04:54 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 15:04:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 15:04:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 15:04:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 15:04:55 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 15:04:55 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 15:04:55 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 15:04:55 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 20.91s
2025-11-14 15:04:55 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 26d05dca-a4fb-4fca-81a1-ea501d7eed0c with 14 river stations
2025-11-14 15:04:55 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=26d05dca-a4fb-4fca-81a1-ea501d7eed0c
2025-11-14 15:04:55 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 15:04:55 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-14 15:09:55 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-14 15:09:55 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-14 15:09:55 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-14 15:09:55 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-14 15:09:55 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-14 15:10:03 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-14 15:10:20 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-14 15:10:22 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-14 15:10:22 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-14 15:10:22 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 17 stations
2025-11-14 15:10:24 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'alert', 'normal', 'normal', 'normal']
2025-11-14 15:10:24 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-14 15:10:24 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-14 15:10:25 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.2mm/hr current, 0.3mm 24h forecast, intensity=light
2025-11-14 15:10:25 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-14 15:10:25 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-14 15:10:27 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-14 15:10:27 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'normal', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'watch']
2025-11-14 15:10:27 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-14 15:10:27 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-14 15:10:27 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 15 data points to HazardAgent (batched)
2025-11-14 15:10:27 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 15 locations
2025-11-14 15:10:27 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 15 valid data points (0 invalid)
2025-11-14 15:10:27 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-14 15:10:27 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-14 15:10:27 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-14 15:10:27 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 15 locations
2025-11-14 15:10:27 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-14 15:10:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-14 15:10:27 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-14 15:10:27 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-14 15:10:27 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-14 15:10:27 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-14 15:10:27 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 32.25s
2025-11-14 15:10:27 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 9b9f5df4-f87b-4cbb-a1d2-652f64c20657 with 14 river stations
2025-11-14 15:10:27 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=9b9f5df4-f87b-4cbb-a1d2-652f64c20657
2025-11-14 15:10:27 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-14 15:10:27 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 21:24:32 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-17 21:24:32 - app.main - INFO - <module>:393 - Initializing MAS-FRO Multi-Agent System...
2025-11-17 21:24:33 - app.communication.message_queue - INFO - __init__:46 - MessageQueue system initialized
2025-11-17 21:24:33 - app.agents.hazard_agent_001 - INFO - __init__:36 - Agent hazard_agent_001 created
2025-11-17 21:24:33 - app.agents.hazard_agent - INFO - __init__:116 - hazard_agent_001 GeoTIFF integration DISABLED
2025-11-17 21:24:33 - app.ml_models.location_geocoder - INFO - __init__:169 - LocationGeocoder initialized with 85 location mappings
2025-11-17 21:24:33 - app.agents.hazard_agent - INFO - __init__:129 - hazard_agent_001 LocationGeocoder initialized
2025-11-17 21:24:33 - app.agents.hazard_agent - INFO - __init__:137 - hazard_agent_001 initialized with risk weights: {'flood_depth': 0.5, 'crowdsourced': 0.3, 'historical': 0.2}, return_period: rr01, time_step: 1, geotiff_enabled: False
2025-11-17 21:24:33 - app.agents.flood_agent_001 - INFO - __init__:36 - Agent flood_agent_001 created
2025-11-17 21:24:33 - services.river_scraper_service - INFO - __init__:44 - RiverScraperService initialized
2025-11-17 21:24:33 - app.agents.flood_agent - INFO - __init__:106 - flood_agent_001 initialized RiverScraperService
2025-11-17 21:24:33 - app.agents.flood_agent - INFO - __init__:114 - flood_agent_001 initialized OpenWeatherMapService
2025-11-17 21:24:33 - services.dam_water_scraper_service - INFO - __init__:164 - DamWaterScraperService initialized
2025-11-17 21:24:33 - app.agents.flood_agent - INFO - __init__:125 - flood_agent_001 initialized DamWaterScraperService
2025-11-17 21:24:33 - services.data_sources - INFO - __init__:309 - DataCollector initialized: simulated=False, pagasa=False, noah=False, mmda=False
2025-11-17 21:24:33 - app.agents.flood_agent - INFO - __init__:153 - flood_agent_001 initialized with update interval 300s, real_apis=True, simulated=False
2025-11-17 21:24:33 - app.agents.routing_agent_001 - INFO - __init__:36 - Agent routing_agent_001 created
2025-11-17 21:24:33 - app.agents.routing_agent - INFO - _load_evacuation_centers:402 - Loaded 36 evacuation centers from C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\data\evacuation_centers.csv
2025-11-17 21:24:33 - app.agents.routing_agent - INFO - __init__:71 - routing_agent_001 initialized with risk_weight=0.6, distance_weight=0.4, evacuation_centers=36
2025-11-17 21:24:33 - app.agents.evac_manager_001 - INFO - __init__:36 - Agent evac_manager_001 created
2025-11-17 21:24:33 - app.agents.evacuation_manager_agent - INFO - __init__:90 - evac_manager_001 initialized
2025-11-17 21:24:33 - app.agents.flood_agent - INFO - set_hazard_agent:167 - flood_agent_001 linked to hazard_agent_001
2025-11-17 21:24:33 - app.agents.evacuation_manager_agent - INFO - set_hazard_agent:126 - evac_manager_001 linked to hazard_agent_001
2025-11-17 21:24:33 - app.agents.evacuation_manager_agent - INFO - set_routing_agent:116 - evac_manager_001 linked to routing_agent_001
2025-11-17 21:24:33 - app.services.flood_data_scheduler - INFO - __init__:71 - FloodDataScheduler initialized with interval=300s (5.0 minutes), WebSocket broadcasting=enabled
2025-11-17 21:24:33 - app.main - INFO - <module>:441 - MAS-FRO system initialized successfully
2025-11-17 21:24:33 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-17 21:24:33 - app.main - INFO - startup_event:450 - ============================================================
2025-11-17 21:24:33 - app.main - INFO - startup_event:451 - MAS-FRO Backend Starting Up
2025-11-17 21:24:33 - app.main - INFO - startup_event:452 - ============================================================
2025-11-17 21:24:33 - app.main - INFO - startup_event:453 - Structured logging initialized - logs written to logs/masfro.log
2025-11-17 21:24:33 - app.main - INFO - startup_event:456 - Checking database connection...
2025-11-17 21:24:34 - app.database.connection - INFO - check_connection:92 - [OK] Database connection successful
2025-11-17 21:24:34 - app.main - INFO - startup_event:458 - Database connection successful
2025-11-17 21:24:34 - app.database.connection - INFO - init_db:76 - [OK] Database tables created successfully
2025-11-17 21:24:34 - app.main - INFO - startup_event:465 - Starting background scheduler...
2025-11-17 21:24:34 - app.services.flood_data_scheduler - INFO - start:265 - [OK] FloodDataScheduler started (interval=300s)
2025-11-17 21:24:34 - app.main - INFO - startup_event:469 - Automated flood data collection started (every 5 minutes)
2025-11-17 21:24:34 - app.services.flood_data_scheduler - INFO - _collection_loop:179 - FloodDataScheduler started
2025-11-17 21:24:34 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 21:24:34 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 21:24:34 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 21:24:34 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 21:24:34 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 21:24:38 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 21:24:39 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 21:24:41 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 21:24:41 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 21:24:41 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 21:24:43 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 21:24:43 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 21:24:43 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 21:24:43 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 21:24:43 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 21:24:43 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 21:24:44 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 21:24:44 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 21:24:44 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 21:24:44 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 21:24:44 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 21:24:44 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 21:24:44 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 21:24:44 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 21:24:44 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 21:24:44 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 21:24:44 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 21:24:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 21:24:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 21:24:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 21:24:44 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 21:24:44 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 21:24:44 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 21:24:44 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 10.85s
2025-11-17 21:24:45 - app.database.repository - INFO - create_collection:104 - Saved flood data collection e999419c-94d6-4ffe-9cea-5a22e7599d4f with 13 river stations
2025-11-17 21:24:45 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=e999419c-94d6-4ffe-9cea-5a22e7599d4f
2025-11-17 21:24:45 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 21:24:45 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 21:25:02 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 1
2025-11-17 21:25:02 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 2
2025-11-17 21:25:02 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 3
2025-11-17 21:29:45 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 21:29:45 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 21:29:45 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 21:29:45 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 21:29:45 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 21:29:46 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 21:29:48 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 21:29:50 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 21:29:50 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 21:29:50 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 21:29:52 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 21:29:52 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 21:29:52 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 21:29:52 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 21:29:52 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 21:29:52 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 21:29:53 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 21:29:53 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 21:29:53 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 21:29:53 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 21:29:53 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 21:29:53 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 21:29:53 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 21:29:53 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 21:29:53 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 21:29:53 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 21:29:53 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 21:29:53 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 21:29:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 21:29:53 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 21:29:53 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 21:29:53 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 21:29:53 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 21:29:53 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 8.53s
2025-11-17 21:29:53 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 8368d1eb-ab2f-43fe-9448-d325620fa79c with 13 river stations
2025-11-17 21:29:53 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=8368d1eb-ab2f-43fe-9448-d325620fa79c
2025-11-17 21:29:53 - app.main - DEBUG - broadcast:161 - Successfully serialized message of type: flood_update
2025-11-17 21:29:53 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-17 21:29:53 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-17 21:29:53 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-17 21:29:53 - app.main - INFO - broadcast_flood_update:228 - Broadcasted flood update to 3 clients
2025-11-17 21:29:53 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 21:29:53 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 21:34:53 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 21:34:53 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 21:34:53 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 21:34:53 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 21:34:53 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 21:34:54 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 4
2025-11-17 21:34:54 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 21:34:55 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 5
2025-11-17 21:34:55 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 6
2025-11-17 21:34:56 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 21:34:58 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 21:34:58 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 21:34:58 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 21:35:00 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 7
2025-11-17 21:35:00 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 21:35:00 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 21:35:00 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 21:35:00 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 21:35:00 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 21:35:00 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 21:35:01 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 21:35:01 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 21:35:01 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 21:35:01 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 21:35:01 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 21:35:01 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 21:35:01 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 21:35:01 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 21:35:01 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 21:35:01 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 21:35:01 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 21:35:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 21:35:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 21:35:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 21:35:01 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 21:35:01 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 21:35:01 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 21:35:01 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 8.31s
2025-11-17 21:35:01 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 868f4af7-37ce-4641-9b0f-ab3ca701245b with 13 river stations
2025-11-17 21:35:01 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=868f4af7-37ce-4641-9b0f-ab3ca701245b
2025-11-17 21:35:01 - app.main - DEBUG - broadcast:161 - Successfully serialized message of type: flood_update
2025-11-17 21:35:01 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-17 21:35:01 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-17 21:35:01 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-17 21:35:01 - app.main - INFO - broadcast:188 - WebSocket disconnected during broadcast
2025-11-17 21:35:01 - app.main - INFO - broadcast:188 - WebSocket disconnected during broadcast
2025-11-17 21:35:01 - app.main - INFO - broadcast:188 - WebSocket disconnected during broadcast
2025-11-17 21:35:01 - app.main - INFO - broadcast:188 - WebSocket disconnected during broadcast
2025-11-17 21:35:01 - app.main - INFO - disconnect:143 - WebSocket disconnected. Total connections: 6
2025-11-17 21:35:01 - app.main - INFO - disconnect:143 - WebSocket disconnected. Total connections: 5
2025-11-17 21:35:01 - app.main - INFO - disconnect:143 - WebSocket disconnected. Total connections: 4
2025-11-17 21:35:01 - app.main - INFO - disconnect:143 - WebSocket disconnected. Total connections: 3
2025-11-17 21:35:01 - app.main - INFO - broadcast_flood_update:228 - Broadcasted flood update to 3 clients
2025-11-17 21:35:01 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 21:35:01 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 21:36:02 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-17 21:36:02 - app.main - INFO - <module>:399 - Initializing MAS-FRO Multi-Agent System...
2025-11-17 21:36:03 - app.communication.message_queue - INFO - __init__:46 - MessageQueue system initialized
2025-11-17 21:36:03 - app.agents.hazard_agent_001 - INFO - __init__:36 - Agent hazard_agent_001 created
2025-11-17 21:36:03 - app.agents.hazard_agent - INFO - __init__:116 - hazard_agent_001 GeoTIFF integration DISABLED
2025-11-17 21:36:03 - app.ml_models.location_geocoder - INFO - __init__:169 - LocationGeocoder initialized with 85 location mappings
2025-11-17 21:36:03 - app.agents.hazard_agent - INFO - __init__:129 - hazard_agent_001 LocationGeocoder initialized
2025-11-17 21:36:03 - app.agents.hazard_agent - INFO - __init__:137 - hazard_agent_001 initialized with risk weights: {'flood_depth': 0.5, 'crowdsourced': 0.3, 'historical': 0.2}, return_period: rr01, time_step: 1, geotiff_enabled: False
2025-11-17 21:36:03 - app.agents.flood_agent_001 - INFO - __init__:36 - Agent flood_agent_001 created
2025-11-17 21:36:03 - services.river_scraper_service - INFO - __init__:44 - RiverScraperService initialized
2025-11-17 21:36:03 - app.agents.flood_agent - INFO - __init__:106 - flood_agent_001 initialized RiverScraperService
2025-11-17 21:36:03 - app.agents.flood_agent - INFO - __init__:114 - flood_agent_001 initialized OpenWeatherMapService
2025-11-17 21:36:03 - services.dam_water_scraper_service - INFO - __init__:164 - DamWaterScraperService initialized
2025-11-17 21:36:03 - app.agents.flood_agent - INFO - __init__:125 - flood_agent_001 initialized DamWaterScraperService
2025-11-17 21:36:03 - services.data_sources - INFO - __init__:309 - DataCollector initialized: simulated=False, pagasa=False, noah=False, mmda=False
2025-11-17 21:36:03 - app.agents.flood_agent - INFO - __init__:153 - flood_agent_001 initialized with update interval 300s, real_apis=True, simulated=False
2025-11-17 21:36:03 - app.agents.routing_agent_001 - INFO - __init__:36 - Agent routing_agent_001 created
2025-11-17 21:36:03 - app.agents.routing_agent - INFO - _load_evacuation_centers:402 - Loaded 36 evacuation centers from C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\data\evacuation_centers.csv
2025-11-17 21:36:03 - app.agents.routing_agent - INFO - __init__:71 - routing_agent_001 initialized with risk_weight=0.6, distance_weight=0.4, evacuation_centers=36
2025-11-17 21:36:03 - app.agents.evac_manager_001 - INFO - __init__:36 - Agent evac_manager_001 created
2025-11-17 21:36:03 - app.agents.evacuation_manager_agent - INFO - __init__:90 - evac_manager_001 initialized
2025-11-17 21:36:03 - app.agents.flood_agent - INFO - set_hazard_agent:167 - flood_agent_001 linked to hazard_agent_001
2025-11-17 21:36:03 - app.agents.evacuation_manager_agent - INFO - set_hazard_agent:126 - evac_manager_001 linked to hazard_agent_001
2025-11-17 21:36:03 - app.agents.evacuation_manager_agent - INFO - set_routing_agent:116 - evac_manager_001 linked to routing_agent_001
2025-11-17 21:36:03 - app.services.flood_data_scheduler - INFO - __init__:71 - FloodDataScheduler initialized with interval=300s (5.0 minutes), WebSocket broadcasting=enabled
2025-11-17 21:36:03 - app.main - INFO - <module>:450 - MAS-FRO system initialized successfully
2025-11-17 21:36:03 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-17 21:36:03 - app.main - INFO - startup_event:459 - ============================================================
2025-11-17 21:36:03 - app.main - INFO - startup_event:460 - MAS-FRO Backend Starting Up
2025-11-17 21:36:03 - app.main - INFO - startup_event:461 - ============================================================
2025-11-17 21:36:03 - app.main - INFO - startup_event:462 - Structured logging initialized - logs written to logs/masfro.log
2025-11-17 21:36:03 - app.main - INFO - startup_event:465 - Checking database connection...
2025-11-17 21:36:03 - app.database.connection - INFO - check_connection:92 - [OK] Database connection successful
2025-11-17 21:36:03 - app.main - INFO - startup_event:467 - Database connection successful
2025-11-17 21:36:03 - app.database.connection - INFO - init_db:76 - [OK] Database tables created successfully
2025-11-17 21:36:03 - app.main - INFO - startup_event:474 - Starting background scheduler...
2025-11-17 21:36:03 - app.services.flood_data_scheduler - INFO - start:265 - [OK] FloodDataScheduler started (interval=300s)
2025-11-17 21:36:03 - app.main - INFO - startup_event:478 - Automated flood data collection started (every 5 minutes)
2025-11-17 21:36:03 - app.services.flood_data_scheduler - INFO - _collection_loop:179 - FloodDataScheduler started
2025-11-17 21:36:03 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 21:36:03 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 21:36:03 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 21:36:03 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 21:36:03 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 21:36:04 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 21:36:05 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 21:36:07 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 21:36:07 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 21:36:07 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 21:36:28 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-17 21:36:28 - app.main - INFO - <module>:399 - Initializing MAS-FRO Multi-Agent System...
2025-11-17 21:36:29 - app.communication.message_queue - INFO - __init__:46 - MessageQueue system initialized
2025-11-17 21:36:29 - app.agents.hazard_agent_001 - INFO - __init__:36 - Agent hazard_agent_001 created
2025-11-17 21:36:29 - app.agents.hazard_agent - INFO - __init__:116 - hazard_agent_001 GeoTIFF integration DISABLED
2025-11-17 21:36:29 - app.ml_models.location_geocoder - INFO - __init__:169 - LocationGeocoder initialized with 85 location mappings
2025-11-17 21:36:29 - app.agents.hazard_agent - INFO - __init__:129 - hazard_agent_001 LocationGeocoder initialized
2025-11-17 21:36:29 - app.agents.hazard_agent - INFO - __init__:137 - hazard_agent_001 initialized with risk weights: {'flood_depth': 0.5, 'crowdsourced': 0.3, 'historical': 0.2}, return_period: rr01, time_step: 1, geotiff_enabled: False
2025-11-17 21:36:29 - app.agents.flood_agent_001 - INFO - __init__:36 - Agent flood_agent_001 created
2025-11-17 21:36:29 - services.river_scraper_service - INFO - __init__:44 - RiverScraperService initialized
2025-11-17 21:36:29 - app.agents.flood_agent - INFO - __init__:106 - flood_agent_001 initialized RiverScraperService
2025-11-17 21:36:29 - app.agents.flood_agent - INFO - __init__:114 - flood_agent_001 initialized OpenWeatherMapService
2025-11-17 21:36:29 - services.dam_water_scraper_service - INFO - __init__:164 - DamWaterScraperService initialized
2025-11-17 21:36:29 - app.agents.flood_agent - INFO - __init__:125 - flood_agent_001 initialized DamWaterScraperService
2025-11-17 21:36:29 - services.data_sources - INFO - __init__:309 - DataCollector initialized: simulated=False, pagasa=False, noah=False, mmda=False
2025-11-17 21:36:29 - app.agents.flood_agent - INFO - __init__:153 - flood_agent_001 initialized with update interval 300s, real_apis=True, simulated=False
2025-11-17 21:36:29 - app.agents.routing_agent_001 - INFO - __init__:36 - Agent routing_agent_001 created
2025-11-17 21:36:29 - app.agents.routing_agent - INFO - _load_evacuation_centers:402 - Loaded 36 evacuation centers from C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\data\evacuation_centers.csv
2025-11-17 21:36:29 - app.agents.routing_agent - INFO - __init__:71 - routing_agent_001 initialized with risk_weight=0.6, distance_weight=0.4, evacuation_centers=36
2025-11-17 21:36:29 - app.agents.evac_manager_001 - INFO - __init__:36 - Agent evac_manager_001 created
2025-11-17 21:36:29 - app.agents.evacuation_manager_agent - INFO - __init__:90 - evac_manager_001 initialized
2025-11-17 21:36:29 - app.agents.flood_agent - INFO - set_hazard_agent:167 - flood_agent_001 linked to hazard_agent_001
2025-11-17 21:36:29 - app.agents.evacuation_manager_agent - INFO - set_hazard_agent:126 - evac_manager_001 linked to hazard_agent_001
2025-11-17 21:36:29 - app.agents.evacuation_manager_agent - INFO - set_routing_agent:116 - evac_manager_001 linked to routing_agent_001
2025-11-17 21:36:29 - app.services.flood_data_scheduler - INFO - __init__:71 - FloodDataScheduler initialized with interval=300s (5.0 minutes), WebSocket broadcasting=enabled
2025-11-17 21:36:29 - app.main - INFO - <module>:450 - MAS-FRO system initialized successfully
2025-11-17 21:36:29 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-17 21:36:29 - app.main - INFO - startup_event:459 - ============================================================
2025-11-17 21:36:29 - app.main - INFO - startup_event:460 - MAS-FRO Backend Starting Up
2025-11-17 21:36:29 - app.main - INFO - startup_event:461 - ============================================================
2025-11-17 21:36:29 - app.main - INFO - startup_event:462 - Structured logging initialized - logs written to logs/masfro.log
2025-11-17 21:36:29 - app.main - INFO - startup_event:465 - Checking database connection...
2025-11-17 21:36:29 - app.database.connection - INFO - check_connection:92 - [OK] Database connection successful
2025-11-17 21:36:29 - app.main - INFO - startup_event:467 - Database connection successful
2025-11-17 21:36:29 - app.database.connection - INFO - init_db:76 - [OK] Database tables created successfully
2025-11-17 21:36:29 - app.main - INFO - startup_event:474 - Starting background scheduler...
2025-11-17 21:36:29 - app.services.flood_data_scheduler - INFO - start:265 - [OK] FloodDataScheduler started (interval=300s)
2025-11-17 21:36:29 - app.main - INFO - startup_event:478 - Automated flood data collection started (every 5 minutes)
2025-11-17 21:36:29 - app.services.flood_data_scheduler - INFO - _collection_loop:179 - FloodDataScheduler started
2025-11-17 21:36:29 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 21:36:29 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 21:36:29 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 21:36:29 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 21:36:29 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 21:36:30 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 21:36:32 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 21:36:34 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 21:36:34 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 21:36:34 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 21:36:36 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 21:36:36 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 21:36:36 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 21:36:36 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 21:36:36 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 21:36:36 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 21:36:37 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 21:36:37 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 21:36:37 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 21:36:37 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 21:36:37 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 21:36:37 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 21:36:37 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 21:36:37 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 21:36:37 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 21:36:37 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 21:36:37 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 21:36:37 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 21:36:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 21:36:37 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 21:36:37 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 21:36:37 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 21:36:37 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 21:36:37 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 8.29s
2025-11-17 21:36:37 - app.database.repository - INFO - create_collection:104 - Saved flood data collection a49f9738-042f-4839-8e76-c1939328fc72 with 13 river stations
2025-11-17 21:36:37 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=a49f9738-042f-4839-8e76-c1939328fc72
2025-11-17 21:36:37 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 21:36:37 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 21:36:43 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 4
2025-11-17 21:36:43 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 5
2025-11-17 21:36:43 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 6
2025-11-17 21:36:48 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 7
2025-11-17 21:39:02 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 8
2025-11-17 21:39:02 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 9
2025-11-17 21:39:03 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 10
2025-11-17 21:39:08 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 11
2025-11-17 21:40:01 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 21:40:01 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 21:40:01 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 21:40:01 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 21:40:01 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 21:40:03 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 21:40:04 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 21:40:06 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 21:40:06 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 21:40:06 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 21:40:08 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 21:40:08 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 21:40:08 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 21:40:08 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 21:40:08 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 21:40:08 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 21:40:09 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 21:40:09 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 21:40:09 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 21:40:09 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 21:40:09 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 21:40:09 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 21:40:09 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 21:40:09 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 21:40:09 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 21:40:09 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 21:40:09 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 21:40:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 21:40:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 21:40:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 21:40:09 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 21:40:09 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 21:40:09 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 21:40:09 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 7.92s
2025-11-17 21:40:09 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 1b4fe180-7d7c-4683-8d7f-fc8f28c33e80 with 13 river stations
2025-11-17 21:40:09 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=1b4fe180-7d7c-4683-8d7f-fc8f28c33e80
2025-11-17 21:40:09 - app.main - DEBUG - broadcast:161 - Successfully serialized message of type: flood_update
2025-11-17 21:40:09 - app.main - INFO - broadcast:188 - WebSocket disconnected during broadcast
2025-11-17 21:40:09 - app.main - INFO - broadcast:188 - WebSocket disconnected during broadcast
2025-11-17 21:40:09 - app.main - INFO - broadcast:188 - WebSocket disconnected during broadcast
2025-11-17 21:40:09 - app.main - INFO - broadcast:188 - WebSocket disconnected during broadcast
2025-11-17 21:40:09 - app.main - INFO - broadcast:188 - WebSocket disconnected during broadcast
2025-11-17 21:40:09 - app.main - INFO - broadcast:188 - WebSocket disconnected during broadcast
2025-11-17 21:40:09 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-17 21:40:09 - app.main - INFO - broadcast:188 - WebSocket disconnected during broadcast
2025-11-17 21:40:09 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-17 21:40:09 - app.main - DEBUG - broadcast:186 - send_text successful
2025-11-17 21:40:09 - app.main - INFO - broadcast:188 - WebSocket disconnected during broadcast
2025-11-17 21:40:09 - app.main - INFO - disconnect:143 - WebSocket disconnected. Total connections: 10
2025-11-17 21:40:09 - app.main - INFO - disconnect:143 - WebSocket disconnected. Total connections: 9
2025-11-17 21:40:09 - app.main - INFO - disconnect:143 - WebSocket disconnected. Total connections: 8
2025-11-17 21:40:09 - app.main - INFO - disconnect:143 - WebSocket disconnected. Total connections: 7
2025-11-17 21:40:09 - app.main - INFO - disconnect:143 - WebSocket disconnected. Total connections: 6
2025-11-17 21:40:09 - app.main - INFO - disconnect:143 - WebSocket disconnected. Total connections: 5
2025-11-17 21:40:09 - app.main - INFO - disconnect:143 - WebSocket disconnected. Total connections: 4
2025-11-17 21:40:09 - app.main - INFO - disconnect:143 - WebSocket disconnected. Total connections: 3
2025-11-17 21:40:09 - app.main - INFO - broadcast_flood_update:228 - Broadcasted flood update to 3 clients
2025-11-17 21:40:09 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 21:40:09 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 21:41:37 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 21:41:37 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 21:41:37 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 21:41:37 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 21:41:37 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 21:41:38 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 21:41:40 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 21:41:42 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 21:41:42 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 21:41:42 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 21:41:44 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 21:41:44 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 21:41:44 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 21:41:44 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 21:41:44 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 21:41:44 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 21:41:46 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 21:41:46 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 21:41:46 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 21:41:46 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 21:41:46 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 21:41:46 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 21:41:46 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 21:41:46 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 21:41:46 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 21:41:46 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 21:41:46 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 21:41:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 21:41:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 21:41:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 21:41:46 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 21:41:46 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 21:41:46 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 21:41:46 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 8.73s
2025-11-17 21:41:46 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 8d06060c-3db5-4983-b514-dda632cb617b with 13 river stations
2025-11-17 21:41:46 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=8d06060c-3db5-4983-b514-dda632cb617b
2025-11-17 21:41:46 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 21:41:46 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 21:42:33 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 4
2025-11-17 21:42:35 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 5
2025-11-17 21:42:35 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 6
2025-11-17 21:42:35 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 7
2025-11-17 21:42:38 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 8
2025-11-17 21:42:39 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 9
2025-11-17 21:42:39 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 10
2025-11-17 21:42:44 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 11
2025-11-17 21:42:44 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 12
2025-11-17 21:42:50 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 13
2025-11-17 21:42:51 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 14
2025-11-17 21:42:51 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 15
2025-11-17 21:42:52 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 16
2025-11-17 21:42:53 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 17
2025-11-17 21:42:53 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 18
2025-11-17 21:42:58 - app.main - INFO - connect:134 - WebSocket connected. Total connections: 19
2025-11-17 21:43:45 - app.main - INFO - shutdown_event:477 - ============================================================
2025-11-17 21:43:45 - app.main - INFO - shutdown_event:478 - MAS-FRO Backend Shutting Down
2025-11-17 21:43:45 - app.main - INFO - shutdown_event:479 - ============================================================
2025-11-17 21:43:45 - app.main - INFO - shutdown_event:480 - Stopping background scheduler...
2025-11-17 21:43:45 - app.services.flood_data_scheduler - INFO - stop:280 - Stopping FloodDataScheduler...
2025-11-17 21:43:50 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 1
2025-11-17 21:43:50 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 2
2025-11-17 21:43:50 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 3
2025-11-17 21:44:15 - app.services.flood_data_scheduler - WARNING - stop:288 - Scheduler stop timed out, cancelling task
2025-11-17 21:44:15 - app.services.flood_data_scheduler - INFO - stop:291 - [OK] FloodDataScheduler stopped
2025-11-17 21:44:15 - app.main - INFO - shutdown_event:484 - Scheduler stopped gracefully
2025-11-17 21:44:15 - app.main - INFO - shutdown_event:485 - MAS-FRO backend shutdown complete
2025-11-17 21:44:33 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-17 21:44:33 - app.main - INFO - <module>:399 - Initializing MAS-FRO Multi-Agent System...
2025-11-17 21:44:34 - app.communication.message_queue - INFO - __init__:46 - MessageQueue system initialized
2025-11-17 21:44:34 - app.agents.hazard_agent_001 - INFO - __init__:36 - Agent hazard_agent_001 created
2025-11-17 21:44:34 - app.agents.hazard_agent - INFO - __init__:116 - hazard_agent_001 GeoTIFF integration DISABLED
2025-11-17 21:44:34 - app.ml_models.location_geocoder - INFO - __init__:169 - LocationGeocoder initialized with 85 location mappings
2025-11-17 21:44:34 - app.agents.hazard_agent - INFO - __init__:129 - hazard_agent_001 LocationGeocoder initialized
2025-11-17 21:44:34 - app.agents.hazard_agent - INFO - __init__:137 - hazard_agent_001 initialized with risk weights: {'flood_depth': 0.5, 'crowdsourced': 0.3, 'historical': 0.2}, return_period: rr01, time_step: 1, geotiff_enabled: False
2025-11-17 21:44:34 - app.agents.flood_agent_001 - INFO - __init__:36 - Agent flood_agent_001 created
2025-11-17 21:44:34 - services.river_scraper_service - INFO - __init__:44 - RiverScraperService initialized
2025-11-17 21:44:34 - app.agents.flood_agent - INFO - __init__:106 - flood_agent_001 initialized RiverScraperService
2025-11-17 21:44:34 - app.agents.flood_agent - INFO - __init__:114 - flood_agent_001 initialized OpenWeatherMapService
2025-11-17 21:44:34 - services.dam_water_scraper_service - INFO - __init__:164 - DamWaterScraperService initialized
2025-11-17 21:44:34 - app.agents.flood_agent - INFO - __init__:125 - flood_agent_001 initialized DamWaterScraperService
2025-11-17 21:44:34 - services.data_sources - INFO - __init__:309 - DataCollector initialized: simulated=False, pagasa=False, noah=False, mmda=False
2025-11-17 21:44:34 - app.agents.flood_agent - INFO - __init__:153 - flood_agent_001 initialized with update interval 300s, real_apis=True, simulated=False
2025-11-17 21:44:34 - app.agents.routing_agent_001 - INFO - __init__:36 - Agent routing_agent_001 created
2025-11-17 21:44:34 - app.agents.routing_agent - INFO - _load_evacuation_centers:402 - Loaded 36 evacuation centers from C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\data\evacuation_centers.csv
2025-11-17 21:44:34 - app.agents.routing_agent - INFO - __init__:71 - routing_agent_001 initialized with risk_weight=0.6, distance_weight=0.4, evacuation_centers=36
2025-11-17 21:44:34 - app.agents.evac_manager_001 - INFO - __init__:36 - Agent evac_manager_001 created
2025-11-17 21:44:34 - app.agents.evacuation_manager_agent - INFO - __init__:90 - evac_manager_001 initialized
2025-11-17 21:44:34 - app.agents.flood_agent - INFO - set_hazard_agent:167 - flood_agent_001 linked to hazard_agent_001
2025-11-17 21:44:34 - app.agents.evacuation_manager_agent - INFO - set_hazard_agent:126 - evac_manager_001 linked to hazard_agent_001
2025-11-17 21:44:34 - app.agents.evacuation_manager_agent - INFO - set_routing_agent:116 - evac_manager_001 linked to routing_agent_001
2025-11-17 21:44:34 - app.services.flood_data_scheduler - INFO - __init__:71 - FloodDataScheduler initialized with interval=300s (5.0 minutes), WebSocket broadcasting=enabled
2025-11-17 21:44:34 - app.main - INFO - <module>:450 - MAS-FRO system initialized successfully
2025-11-17 21:44:34 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-17 21:44:34 - app.main - INFO - startup_event:459 - ============================================================
2025-11-17 21:44:34 - app.main - INFO - startup_event:460 - MAS-FRO Backend Starting Up
2025-11-17 21:44:34 - app.main - INFO - startup_event:461 - ============================================================
2025-11-17 21:44:34 - app.main - INFO - startup_event:462 - Structured logging initialized - logs written to logs/masfro.log
2025-11-17 21:44:34 - app.main - INFO - startup_event:465 - Checking database connection...
2025-11-17 21:44:34 - app.database.connection - INFO - check_connection:92 - [OK] Database connection successful
2025-11-17 21:44:34 - app.main - INFO - startup_event:467 - Database connection successful
2025-11-17 21:44:34 - app.database.connection - INFO - init_db:76 - [OK] Database tables created successfully
2025-11-17 21:44:34 - app.main - INFO - startup_event:474 - Starting background scheduler...
2025-11-17 21:44:34 - app.services.flood_data_scheduler - INFO - start:265 - [OK] FloodDataScheduler started (interval=300s)
2025-11-17 21:44:34 - app.main - INFO - startup_event:478 - Automated flood data collection started (every 5 minutes)
2025-11-17 21:44:34 - app.services.flood_data_scheduler - INFO - _collection_loop:179 - FloodDataScheduler started
2025-11-17 21:44:34 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 21:44:34 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 21:44:34 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 21:44:34 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 21:44:34 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 21:44:35 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 21:44:38 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 21:44:38 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 1
2025-11-17 21:44:38 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 2
2025-11-17 21:44:38 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 21:44:38 - app.api.graph_routes - INFO - get_graph_edges_geojson:128 - Returning 5000 edges as GeoJSON
2025-11-17 21:44:38 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 21:44:38 - app.api.graph_routes - INFO - get_graph_edges_geojson:128 - Returning 5000 edges as GeoJSON
2025-11-17 21:44:39 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 3
2025-11-17 21:44:40 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 21:44:40 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 21:44:40 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 21:44:42 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 21:44:42 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 21:44:42 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 21:44:42 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 21:44:42 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 21:44:42 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 21:44:43 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 21:44:43 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 21:44:43 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 21:44:43 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 21:44:43 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 21:44:43 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 21:44:43 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 21:44:43 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 21:44:43 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 21:44:43 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 21:44:43 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 21:44:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 21:44:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 21:44:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 21:44:43 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 21:44:43 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 21:44:43 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 21:44:43 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 9.40s
2025-11-17 21:44:43 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 803d2886-5da3-4516-976e-9a6c01151baa with 13 river stations
2025-11-17 21:44:43 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=803d2886-5da3-4516-976e-9a6c01151baa
2025-11-17 21:44:43 - app.main - DEBUG - broadcast:164 - Successfully serialized message of type: flood_update
2025-11-17 21:44:43 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 21:44:43 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 21:44:43 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 21:44:43 - app.main - INFO - broadcast_flood_update:231 - Broadcasted flood update to 3 clients
2025-11-17 21:44:43 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 21:44:43 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 21:44:43 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 4
2025-11-17 21:45:01 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 5
2025-11-17 21:45:04 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 6
2025-11-17 21:45:04 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 7
2025-11-17 21:45:05 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 8
2025-11-17 21:45:06 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 21:45:06 - app.api.graph_routes - INFO - get_graph_edges_geojson:128 - Returning 5000 edges as GeoJSON
2025-11-17 21:45:10 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 9
2025-11-17 21:46:46 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 21:46:46 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 21:46:46 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 21:46:46 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 21:46:46 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 21:46:47 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 21:46:48 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 21:46:50 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 21:46:50 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 21:46:50 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 21:46:53 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 21:46:53 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 21:46:53 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 21:46:53 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 21:46:53 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 21:46:53 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 21:46:54 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 21:46:54 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 21:46:54 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 21:46:54 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 21:46:54 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 21:46:54 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 21:46:54 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 21:46:54 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 21:46:54 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 21:46:54 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 21:46:54 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 21:46:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 21:46:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 21:46:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 21:46:54 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 21:46:54 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 21:46:54 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 21:46:54 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 8.14s
2025-11-17 21:46:54 - app.database.repository - INFO - create_collection:104 - Saved flood data collection e556ab8b-8d84-4a88-88c5-9d99afb97bb4 with 13 river stations
2025-11-17 21:46:54 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=e556ab8b-8d84-4a88-88c5-9d99afb97bb4
2025-11-17 21:46:54 - app.main - DEBUG - broadcast:164 - Successfully serialized message of type: flood_update
2025-11-17 21:46:54 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:46:54 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:46:54 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:46:54 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 2
2025-11-17 21:46:54 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 1
2025-11-17 21:46:54 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 0
2025-11-17 21:46:54 - app.main - INFO - broadcast_flood_update:231 - Broadcasted flood update to 0 clients
2025-11-17 21:46:54 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 21:46:54 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 21:47:50 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 10
2025-11-17 21:47:51 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 11
2025-11-17 21:47:51 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 12
2025-11-17 21:47:52 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 21:47:52 - app.api.graph_routes - INFO - get_graph_edges_geojson:128 - Returning 5000 edges as GeoJSON
2025-11-17 21:47:56 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 13
2025-11-17 21:48:29 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 14
2025-11-17 21:48:29 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 15
2025-11-17 21:48:29 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 16
2025-11-17 21:48:30 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 21:48:30 - app.api.graph_routes - INFO - get_graph_edges_geojson:128 - Returning 5000 edges as GeoJSON
2025-11-17 21:48:31 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 17
2025-11-17 21:48:31 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 18
2025-11-17 21:48:31 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 19
2025-11-17 21:48:33 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 21:48:33 - app.api.graph_routes - INFO - get_graph_edges_geojson:128 - Returning 5000 edges as GeoJSON
2025-11-17 21:48:36 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 20
2025-11-17 21:49:28 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 21:49:28 - app.api.graph_routes - INFO - get_graph_edges_geojson:128 - Returning 100 edges as GeoJSON
2025-11-17 21:49:43 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 21:49:43 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 21:49:43 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 21:49:43 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 21:49:43 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 21:49:44 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 21:49:46 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 21:49:48 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 21:49:48 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 21:49:48 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 21:49:50 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 21:49:50 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 21:49:50 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 21:49:50 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 21:49:50 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 21:49:50 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 21:49:51 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 21:49:51 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 21:49:51 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 21:49:51 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 21:49:51 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 21:49:51 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 21:49:51 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 21:49:51 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 21:49:51 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 21:49:51 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 21:49:51 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 21:49:51 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 21:49:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 21:49:52 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 21:49:52 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 21:49:52 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 21:49:52 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 21:49:52 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 8.55s
2025-11-17 21:49:52 - app.database.repository - INFO - create_collection:104 - Saved flood data collection b9ddf52a-f378-4027-92b9-14d1998ffe1c with 13 river stations
2025-11-17 21:49:52 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=b9ddf52a-f378-4027-92b9-14d1998ffe1c
2025-11-17 21:49:52 - app.main - DEBUG - broadcast:164 - Successfully serialized message of type: flood_update
2025-11-17 21:49:52 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 21:49:52 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:49:52 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 21:49:52 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:49:52 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:49:52 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:49:52 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:49:52 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 21:49:52 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:49:52 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:49:52 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:49:52 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:49:52 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:49:52 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:49:52 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:49:52 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 21:49:52 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 21:49:52 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:49:52 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:49:52 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:49:52 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 19
2025-11-17 21:49:52 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 18
2025-11-17 21:49:52 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 17
2025-11-17 21:49:52 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 16
2025-11-17 21:49:52 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 15
2025-11-17 21:49:52 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 14
2025-11-17 21:49:52 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 13
2025-11-17 21:49:52 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 12
2025-11-17 21:49:52 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 11
2025-11-17 21:49:52 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 10
2025-11-17 21:49:52 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 9
2025-11-17 21:49:52 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 8
2025-11-17 21:49:52 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 7
2025-11-17 21:49:52 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 6
2025-11-17 21:49:52 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 5
2025-11-17 21:49:52 - app.main - INFO - broadcast_flood_update:231 - Broadcasted flood update to 5 clients
2025-11-17 21:49:52 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 21:49:52 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 21:50:07 - app.main - INFO - shutdown_event:486 - ============================================================
2025-11-17 21:50:07 - app.main - INFO - shutdown_event:487 - MAS-FRO Backend Shutting Down
2025-11-17 21:50:07 - app.main - INFO - shutdown_event:488 - ============================================================
2025-11-17 21:50:07 - app.main - INFO - shutdown_event:489 - Stopping background scheduler...
2025-11-17 21:50:07 - app.services.flood_data_scheduler - INFO - stop:280 - Stopping FloodDataScheduler...
2025-11-17 21:50:37 - app.services.flood_data_scheduler - WARNING - stop:288 - Scheduler stop timed out, cancelling task
2025-11-17 21:50:37 - app.services.flood_data_scheduler - INFO - stop:291 - [OK] FloodDataScheduler stopped
2025-11-17 21:50:37 - app.main - INFO - shutdown_event:493 - Scheduler stopped gracefully
2025-11-17 21:50:37 - app.main - INFO - shutdown_event:494 - MAS-FRO backend shutdown complete
2025-11-17 21:50:40 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-17 21:50:40 - app.main - INFO - <module>:399 - Initializing MAS-FRO Multi-Agent System...
2025-11-17 21:50:41 - app.communication.message_queue - INFO - __init__:46 - MessageQueue system initialized
2025-11-17 21:50:41 - app.agents.hazard_agent_001 - INFO - __init__:36 - Agent hazard_agent_001 created
2025-11-17 21:50:41 - app.agents.hazard_agent - INFO - __init__:116 - hazard_agent_001 GeoTIFF integration DISABLED
2025-11-17 21:50:41 - app.ml_models.location_geocoder - INFO - __init__:169 - LocationGeocoder initialized with 85 location mappings
2025-11-17 21:50:41 - app.agents.hazard_agent - INFO - __init__:129 - hazard_agent_001 LocationGeocoder initialized
2025-11-17 21:50:41 - app.agents.hazard_agent - INFO - __init__:137 - hazard_agent_001 initialized with risk weights: {'flood_depth': 0.5, 'crowdsourced': 0.3, 'historical': 0.2}, return_period: rr01, time_step: 1, geotiff_enabled: False
2025-11-17 21:50:41 - app.agents.flood_agent_001 - INFO - __init__:36 - Agent flood_agent_001 created
2025-11-17 21:50:41 - services.river_scraper_service - INFO - __init__:44 - RiverScraperService initialized
2025-11-17 21:50:41 - app.agents.flood_agent - INFO - __init__:106 - flood_agent_001 initialized RiverScraperService
2025-11-17 21:50:41 - app.agents.flood_agent - INFO - __init__:114 - flood_agent_001 initialized OpenWeatherMapService
2025-11-17 21:50:41 - services.dam_water_scraper_service - INFO - __init__:164 - DamWaterScraperService initialized
2025-11-17 21:50:41 - app.agents.flood_agent - INFO - __init__:125 - flood_agent_001 initialized DamWaterScraperService
2025-11-17 21:50:41 - services.data_sources - INFO - __init__:309 - DataCollector initialized: simulated=False, pagasa=False, noah=False, mmda=False
2025-11-17 21:50:41 - app.agents.flood_agent - INFO - __init__:153 - flood_agent_001 initialized with update interval 300s, real_apis=True, simulated=False
2025-11-17 21:50:41 - app.agents.routing_agent_001 - INFO - __init__:36 - Agent routing_agent_001 created
2025-11-17 21:50:41 - app.agents.routing_agent - INFO - _load_evacuation_centers:402 - Loaded 36 evacuation centers from C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\data\evacuation_centers.csv
2025-11-17 21:50:41 - app.agents.routing_agent - INFO - __init__:71 - routing_agent_001 initialized with risk_weight=0.6, distance_weight=0.4, evacuation_centers=36
2025-11-17 21:50:41 - app.agents.evac_manager_001 - INFO - __init__:36 - Agent evac_manager_001 created
2025-11-17 21:50:41 - app.agents.evacuation_manager_agent - INFO - __init__:90 - evac_manager_001 initialized
2025-11-17 21:50:41 - app.agents.flood_agent - INFO - set_hazard_agent:167 - flood_agent_001 linked to hazard_agent_001
2025-11-17 21:50:41 - app.agents.evacuation_manager_agent - INFO - set_hazard_agent:126 - evac_manager_001 linked to hazard_agent_001
2025-11-17 21:50:41 - app.agents.evacuation_manager_agent - INFO - set_routing_agent:116 - evac_manager_001 linked to routing_agent_001
2025-11-17 21:50:41 - app.services.flood_data_scheduler - INFO - __init__:71 - FloodDataScheduler initialized with interval=300s (5.0 minutes), WebSocket broadcasting=enabled
2025-11-17 21:50:41 - app.main - INFO - <module>:450 - MAS-FRO system initialized successfully
2025-11-17 21:50:41 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-17 21:50:41 - app.main - INFO - startup_event:459 - ============================================================
2025-11-17 21:50:41 - app.main - INFO - startup_event:460 - MAS-FRO Backend Starting Up
2025-11-17 21:50:41 - app.main - INFO - startup_event:461 - ============================================================
2025-11-17 21:50:41 - app.main - INFO - startup_event:462 - Structured logging initialized - logs written to logs/masfro.log
2025-11-17 21:50:41 - app.main - INFO - startup_event:465 - Checking database connection...
2025-11-17 21:50:41 - app.database.connection - INFO - check_connection:92 - [OK] Database connection successful
2025-11-17 21:50:41 - app.main - INFO - startup_event:467 - Database connection successful
2025-11-17 21:50:41 - app.database.connection - INFO - init_db:76 - [OK] Database tables created successfully
2025-11-17 21:50:41 - app.main - INFO - startup_event:474 - Starting background scheduler...
2025-11-17 21:50:41 - app.services.flood_data_scheduler - INFO - start:265 - [OK] FloodDataScheduler started (interval=300s)
2025-11-17 21:50:41 - app.main - INFO - startup_event:478 - Automated flood data collection started (every 5 minutes)
2025-11-17 21:50:41 - app.services.flood_data_scheduler - INFO - _collection_loop:179 - FloodDataScheduler started
2025-11-17 21:50:41 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 21:50:41 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 21:50:41 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 21:50:41 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 21:50:41 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 1
2025-11-17 21:50:41 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 21:50:41 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 2
2025-11-17 21:50:41 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 3
2025-11-17 21:50:41 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 4
2025-11-17 21:50:42 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 21:50:44 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 21:50:46 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 21:50:46 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 21:50:46 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 21:50:48 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 21:50:48 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 21:50:48 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 21:50:48 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 21:50:48 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 21:50:48 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 21:50:49 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 21:50:49 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 21:50:49 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 21:50:49 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 21:50:49 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 21:50:49 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 21:50:49 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 21:50:49 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 21:50:49 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 21:50:49 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 21:50:49 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 21:50:49 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 21:50:49 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 21:50:49 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 21:50:49 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 21:50:49 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 21:50:49 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 21:50:49 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 8.21s
2025-11-17 21:50:50 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 99100124-1866-4f8e-ad39-29c412dcc6e8 with 13 river stations
2025-11-17 21:50:50 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=99100124-1866-4f8e-ad39-29c412dcc6e8
2025-11-17 21:50:50 - app.main - DEBUG - broadcast:164 - Successfully serialized message of type: flood_update
2025-11-17 21:50:50 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 21:50:50 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 21:50:50 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 21:50:50 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 21:50:50 - app.main - INFO - broadcast_flood_update:231 - Broadcasted flood update to 4 clients
2025-11-17 21:50:50 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 21:50:50 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 21:50:59 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 5
2025-11-17 21:50:59 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 6
2025-11-17 21:50:59 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 7
2025-11-17 21:51:00 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 21:51:00 - app.api.graph_routes - INFO - get_graph_edges_geojson:73 - Sampling 5000 edges evenly from 20124 total (step=4)
2025-11-17 21:51:00 - app.api.graph_routes - INFO - get_graph_edges_geojson:137 - Returning 5000 edges as GeoJSON
2025-11-17 21:51:04 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 8
2025-11-17 21:51:54 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 21:51:54 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 21:51:54 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 21:51:54 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 21:51:54 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 21:51:55 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 21:51:57 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 21:51:59 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 21:51:59 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 21:51:59 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 21:52:01 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 21:52:01 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 21:52:01 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 21:52:01 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 21:52:01 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 21:52:01 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 21:52:02 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 21:52:02 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 21:52:02 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 21:52:02 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 21:52:02 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 21:52:02 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 21:52:02 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 21:52:02 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 21:52:02 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 21:52:02 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 21:52:02 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 21:52:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 21:52:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 21:52:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 21:52:02 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 21:52:02 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 21:52:02 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 21:52:02 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 8.25s
2025-11-17 21:52:02 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 53adb264-30f5-4a77-a3a3-de07cbd16dbe with 13 river stations
2025-11-17 21:52:02 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=53adb264-30f5-4a77-a3a3-de07cbd16dbe
2025-11-17 21:52:02 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 21:52:02 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 21:53:09 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 9
2025-11-17 21:53:10 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 10
2025-11-17 21:53:10 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 11
2025-11-17 21:53:11 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-17 21:53:11 - app.main - INFO - <module>:399 - Initializing MAS-FRO Multi-Agent System...
2025-11-17 21:53:11 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 21:53:12 - app.api.graph_routes - INFO - get_graph_edges_geojson:73 - Sampling 5000 edges evenly from 20124 total (step=4)
2025-11-17 21:53:12 - app.api.graph_routes - INFO - get_graph_edges_geojson:137 - Returning 5000 edges as GeoJSON
2025-11-17 21:53:12 - app.communication.message_queue - INFO - __init__:46 - MessageQueue system initialized
2025-11-17 21:53:12 - app.agents.hazard_agent_001 - INFO - __init__:36 - Agent hazard_agent_001 created
2025-11-17 21:53:12 - app.agents.hazard_agent - INFO - __init__:116 - hazard_agent_001 GeoTIFF integration DISABLED
2025-11-17 21:53:12 - app.ml_models.location_geocoder - INFO - __init__:169 - LocationGeocoder initialized with 85 location mappings
2025-11-17 21:53:12 - app.agents.hazard_agent - INFO - __init__:129 - hazard_agent_001 LocationGeocoder initialized
2025-11-17 21:53:12 - app.agents.hazard_agent - INFO - __init__:137 - hazard_agent_001 initialized with risk weights: {'flood_depth': 0.5, 'crowdsourced': 0.3, 'historical': 0.2}, return_period: rr01, time_step: 1, geotiff_enabled: False
2025-11-17 21:53:12 - app.agents.flood_agent_001 - INFO - __init__:36 - Agent flood_agent_001 created
2025-11-17 21:53:12 - services.river_scraper_service - INFO - __init__:44 - RiverScraperService initialized
2025-11-17 21:53:12 - app.agents.flood_agent - INFO - __init__:106 - flood_agent_001 initialized RiverScraperService
2025-11-17 21:53:12 - app.agents.flood_agent - INFO - __init__:114 - flood_agent_001 initialized OpenWeatherMapService
2025-11-17 21:53:12 - services.dam_water_scraper_service - INFO - __init__:164 - DamWaterScraperService initialized
2025-11-17 21:53:12 - app.agents.flood_agent - INFO - __init__:125 - flood_agent_001 initialized DamWaterScraperService
2025-11-17 21:53:12 - services.data_sources - INFO - __init__:309 - DataCollector initialized: simulated=False, pagasa=False, noah=False, mmda=False
2025-11-17 21:53:12 - app.agents.flood_agent - INFO - __init__:153 - flood_agent_001 initialized with update interval 300s, real_apis=True, simulated=False
2025-11-17 21:53:12 - app.agents.routing_agent_001 - INFO - __init__:36 - Agent routing_agent_001 created
2025-11-17 21:53:12 - app.agents.routing_agent - INFO - _load_evacuation_centers:402 - Loaded 36 evacuation centers from C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\data\evacuation_centers.csv
2025-11-17 21:53:12 - app.agents.routing_agent - INFO - __init__:71 - routing_agent_001 initialized with risk_weight=0.6, distance_weight=0.4, evacuation_centers=36
2025-11-17 21:53:12 - app.agents.evac_manager_001 - INFO - __init__:36 - Agent evac_manager_001 created
2025-11-17 21:53:12 - app.agents.evacuation_manager_agent - INFO - __init__:90 - evac_manager_001 initialized
2025-11-17 21:53:12 - app.agents.flood_agent - INFO - set_hazard_agent:167 - flood_agent_001 linked to hazard_agent_001
2025-11-17 21:53:12 - app.agents.evacuation_manager_agent - INFO - set_hazard_agent:126 - evac_manager_001 linked to hazard_agent_001
2025-11-17 21:53:12 - app.agents.evacuation_manager_agent - INFO - set_routing_agent:116 - evac_manager_001 linked to routing_agent_001
2025-11-17 21:53:12 - app.services.flood_data_scheduler - INFO - __init__:71 - FloodDataScheduler initialized with interval=300s (5.0 minutes), WebSocket broadcasting=enabled
2025-11-17 21:53:12 - app.main - INFO - <module>:450 - MAS-FRO system initialized successfully
2025-11-17 21:53:12 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-17 21:53:12 - app.main - INFO - startup_event:459 - ============================================================
2025-11-17 21:53:12 - app.main - INFO - startup_event:460 - MAS-FRO Backend Starting Up
2025-11-17 21:53:12 - app.main - INFO - startup_event:461 - ============================================================
2025-11-17 21:53:12 - app.main - INFO - startup_event:462 - Structured logging initialized - logs written to logs/masfro.log
2025-11-17 21:53:12 - app.main - INFO - startup_event:465 - Checking database connection...
2025-11-17 21:53:12 - app.database.connection - INFO - check_connection:92 - [OK] Database connection successful
2025-11-17 21:53:12 - app.main - INFO - startup_event:467 - Database connection successful
2025-11-17 21:53:12 - app.database.connection - INFO - init_db:76 - [OK] Database tables created successfully
2025-11-17 21:53:12 - app.main - INFO - startup_event:474 - Starting background scheduler...
2025-11-17 21:53:12 - app.services.flood_data_scheduler - INFO - start:265 - [OK] FloodDataScheduler started (interval=300s)
2025-11-17 21:53:12 - app.main - INFO - startup_event:478 - Automated flood data collection started (every 5 minutes)
2025-11-17 21:53:12 - app.services.flood_data_scheduler - INFO - _collection_loop:179 - FloodDataScheduler started
2025-11-17 21:53:12 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 21:53:12 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 21:53:12 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 21:53:12 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 21:53:12 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 21:53:14 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 21:53:15 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 21:53:15 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 12
2025-11-17 21:53:17 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 21:53:17 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 21:53:17 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 21:53:19 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 21:53:19 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 21:53:19 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 21:53:19 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 21:53:19 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 21:53:19 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 21:53:21 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 21:53:21 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 21:53:21 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 21:53:21 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 21:53:21 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 21:53:21 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 21:53:21 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 21:53:21 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 21:53:21 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 21:53:21 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 21:53:21 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 21:53:21 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 21:53:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 21:53:21 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 21:53:21 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 21:53:21 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 21:53:21 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 21:53:21 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 8.63s
2025-11-17 21:53:21 - app.database.repository - INFO - create_collection:104 - Saved flood data collection d3349edc-7a27-4d7c-9c2d-d9d4ed6b9734 with 13 river stations
2025-11-17 21:53:21 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=d3349edc-7a27-4d7c-9c2d-d9d4ed6b9734
2025-11-17 21:53:21 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 21:53:21 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 21:53:29 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 13
2025-11-17 21:53:29 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 14
2025-11-17 21:53:29 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 15
2025-11-17 21:53:30 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 21:53:30 - app.api.graph_routes - INFO - get_graph_edges_geojson:73 - Sampling 5000 edges evenly from 20124 total (step=4)
2025-11-17 21:53:30 - app.api.graph_routes - INFO - get_graph_edges_geojson:137 - Returning 5000 edges as GeoJSON
2025-11-17 21:53:31 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 21:53:31 - app.api.graph_routes - INFO - get_graph_edges_geojson:73 - Sampling 5000 edges evenly from 20124 total (step=4)
2025-11-17 21:53:31 - app.api.graph_routes - INFO - get_graph_edges_geojson:137 - Returning 5000 edges as GeoJSON
2025-11-17 21:53:33 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 16
2025-11-17 21:53:33 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 17
2025-11-17 21:53:33 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 18
2025-11-17 21:53:35 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 21:53:35 - app.api.graph_routes - INFO - get_graph_edges_geojson:73 - Sampling 5000 edges evenly from 20124 total (step=4)
2025-11-17 21:53:35 - app.api.graph_routes - INFO - get_graph_edges_geojson:137 - Returning 5000 edges as GeoJSON
2025-11-17 21:53:38 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 19
2025-11-17 21:53:44 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 20
2025-11-17 21:53:44 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 21
2025-11-17 21:53:44 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 22
2025-11-17 21:53:46 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 21:53:46 - app.api.graph_routes - INFO - get_graph_edges_geojson:73 - Sampling 5000 edges evenly from 20124 total (step=4)
2025-11-17 21:53:46 - app.api.graph_routes - INFO - get_graph_edges_geojson:137 - Returning 5000 edges as GeoJSON
2025-11-17 21:53:49 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 23
2025-11-17 21:55:03 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 24
2025-11-17 21:55:03 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 25
2025-11-17 21:55:03 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 26
2025-11-17 21:55:04 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 21:55:04 - app.api.graph_routes - INFO - get_graph_edges_geojson:73 - Sampling 5000 edges evenly from 20124 total (step=4)
2025-11-17 21:55:04 - app.api.graph_routes - INFO - get_graph_edges_geojson:137 - Returning 5000 edges as GeoJSON
2025-11-17 21:55:08 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 27
2025-11-17 21:55:50 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 21:55:50 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 21:55:50 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 21:55:50 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 21:55:50 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 21:55:51 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 21:55:52 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 21:55:54 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 21:55:54 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 21:55:54 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 21:55:56 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 21:55:56 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 21:55:56 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 21:55:56 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 21:55:56 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 21:55:56 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 21:55:58 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 21:55:58 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 21:55:58 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 21:55:58 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 21:55:58 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 21:55:58 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 21:55:58 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 21:55:58 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 21:55:58 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 21:55:58 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 21:55:58 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 21:55:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 21:55:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 21:55:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 21:55:58 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 21:55:58 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 21:55:58 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 21:55:58 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 8.37s
2025-11-17 21:55:58 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 11f3682f-982d-4363-b425-4104f68be9b2 with 13 river stations
2025-11-17 21:55:58 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=11f3682f-982d-4363-b425-4104f68be9b2
2025-11-17 21:55:58 - app.main - DEBUG - broadcast:164 - Successfully serialized message of type: flood_update
2025-11-17 21:55:58 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 21:55:58 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:55:58 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 21:55:58 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:55:58 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:55:58 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 21:55:58 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:55:58 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:55:58 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:55:58 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:55:58 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:55:58 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:55:58 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:55:58 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:55:58 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:55:58 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:55:58 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:55:58 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:55:58 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:55:58 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:55:58 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 21:55:58 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:55:58 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:55:58 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 21:55:58 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:55:58 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:55:58 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 21:55:58 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 26
2025-11-17 21:55:58 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 25
2025-11-17 21:55:58 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 24
2025-11-17 21:55:58 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 23
2025-11-17 21:55:58 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 22
2025-11-17 21:55:58 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 21
2025-11-17 21:55:58 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 20
2025-11-17 21:55:58 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 19
2025-11-17 21:55:58 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 18
2025-11-17 21:55:58 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 17
2025-11-17 21:55:58 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 16
2025-11-17 21:55:58 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 15
2025-11-17 21:55:58 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 14
2025-11-17 21:55:58 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 13
2025-11-17 21:55:58 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 12
2025-11-17 21:55:58 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 11
2025-11-17 21:55:58 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 10
2025-11-17 21:55:58 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 9
2025-11-17 21:55:58 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 8
2025-11-17 21:55:58 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 7
2025-11-17 21:55:58 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 6
2025-11-17 21:55:58 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 5
2025-11-17 21:55:58 - app.main - INFO - broadcast_flood_update:231 - Broadcasted flood update to 5 clients
2025-11-17 21:55:58 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 21:55:58 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 21:56:38 - app.main - INFO - shutdown_event:486 - ============================================================
2025-11-17 21:56:38 - app.main - INFO - shutdown_event:487 - MAS-FRO Backend Shutting Down
2025-11-17 21:56:38 - app.main - INFO - shutdown_event:488 - ============================================================
2025-11-17 21:56:38 - app.main - INFO - shutdown_event:489 - Stopping background scheduler...
2025-11-17 21:56:38 - app.services.flood_data_scheduler - INFO - stop:280 - Stopping FloodDataScheduler...
2025-11-17 21:57:08 - app.services.flood_data_scheduler - WARNING - stop:288 - Scheduler stop timed out, cancelling task
2025-11-17 21:57:08 - app.services.flood_data_scheduler - INFO - stop:291 - [OK] FloodDataScheduler stopped
2025-11-17 21:57:08 - app.main - INFO - shutdown_event:493 - Scheduler stopped gracefully
2025-11-17 21:57:08 - app.main - INFO - shutdown_event:494 - MAS-FRO backend shutdown complete
2025-11-17 21:57:12 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-17 21:57:12 - app.main - INFO - <module>:399 - Initializing MAS-FRO Multi-Agent System...
2025-11-17 21:57:13 - app.communication.message_queue - INFO - __init__:46 - MessageQueue system initialized
2025-11-17 21:57:13 - app.agents.hazard_agent_001 - INFO - __init__:36 - Agent hazard_agent_001 created
2025-11-17 21:57:13 - app.agents.hazard_agent - INFO - __init__:116 - hazard_agent_001 GeoTIFF integration DISABLED
2025-11-17 21:57:13 - app.ml_models.location_geocoder - INFO - __init__:169 - LocationGeocoder initialized with 85 location mappings
2025-11-17 21:57:13 - app.agents.hazard_agent - INFO - __init__:129 - hazard_agent_001 LocationGeocoder initialized
2025-11-17 21:57:13 - app.agents.hazard_agent - INFO - __init__:137 - hazard_agent_001 initialized with risk weights: {'flood_depth': 0.5, 'crowdsourced': 0.3, 'historical': 0.2}, return_period: rr01, time_step: 1, geotiff_enabled: False
2025-11-17 21:57:13 - app.agents.flood_agent_001 - INFO - __init__:36 - Agent flood_agent_001 created
2025-11-17 21:57:13 - services.river_scraper_service - INFO - __init__:44 - RiverScraperService initialized
2025-11-17 21:57:13 - app.agents.flood_agent - INFO - __init__:106 - flood_agent_001 initialized RiverScraperService
2025-11-17 21:57:13 - app.agents.flood_agent - INFO - __init__:114 - flood_agent_001 initialized OpenWeatherMapService
2025-11-17 21:57:13 - services.dam_water_scraper_service - INFO - __init__:164 - DamWaterScraperService initialized
2025-11-17 21:57:13 - app.agents.flood_agent - INFO - __init__:125 - flood_agent_001 initialized DamWaterScraperService
2025-11-17 21:57:13 - services.data_sources - INFO - __init__:309 - DataCollector initialized: simulated=False, pagasa=False, noah=False, mmda=False
2025-11-17 21:57:13 - app.agents.flood_agent - INFO - __init__:153 - flood_agent_001 initialized with update interval 300s, real_apis=True, simulated=False
2025-11-17 21:57:13 - app.agents.routing_agent_001 - INFO - __init__:36 - Agent routing_agent_001 created
2025-11-17 21:57:13 - app.agents.routing_agent - INFO - _load_evacuation_centers:402 - Loaded 36 evacuation centers from C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\data\evacuation_centers.csv
2025-11-17 21:57:13 - app.agents.routing_agent - INFO - __init__:71 - routing_agent_001 initialized with risk_weight=0.6, distance_weight=0.4, evacuation_centers=36
2025-11-17 21:57:13 - app.agents.evac_manager_001 - INFO - __init__:36 - Agent evac_manager_001 created
2025-11-17 21:57:13 - app.agents.evacuation_manager_agent - INFO - __init__:90 - evac_manager_001 initialized
2025-11-17 21:57:13 - app.agents.flood_agent - INFO - set_hazard_agent:167 - flood_agent_001 linked to hazard_agent_001
2025-11-17 21:57:13 - app.agents.evacuation_manager_agent - INFO - set_hazard_agent:126 - evac_manager_001 linked to hazard_agent_001
2025-11-17 21:57:13 - app.agents.evacuation_manager_agent - INFO - set_routing_agent:116 - evac_manager_001 linked to routing_agent_001
2025-11-17 21:57:13 - app.services.flood_data_scheduler - INFO - __init__:71 - FloodDataScheduler initialized with interval=300s (5.0 minutes), WebSocket broadcasting=enabled
2025-11-17 21:57:13 - app.main - INFO - <module>:450 - MAS-FRO system initialized successfully
2025-11-17 21:57:13 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-17 21:57:13 - app.main - INFO - startup_event:459 - ============================================================
2025-11-17 21:57:13 - app.main - INFO - startup_event:460 - MAS-FRO Backend Starting Up
2025-11-17 21:57:13 - app.main - INFO - startup_event:461 - ============================================================
2025-11-17 21:57:13 - app.main - INFO - startup_event:462 - Structured logging initialized - logs written to logs/masfro.log
2025-11-17 21:57:13 - app.main - INFO - startup_event:465 - Checking database connection...
2025-11-17 21:57:13 - app.database.connection - INFO - check_connection:92 - [OK] Database connection successful
2025-11-17 21:57:13 - app.main - INFO - startup_event:467 - Database connection successful
2025-11-17 21:57:13 - app.database.connection - INFO - init_db:76 - [OK] Database tables created successfully
2025-11-17 21:57:13 - app.main - INFO - startup_event:474 - Starting background scheduler...
2025-11-17 21:57:13 - app.services.flood_data_scheduler - INFO - start:265 - [OK] FloodDataScheduler started (interval=300s)
2025-11-17 21:57:13 - app.main - INFO - startup_event:478 - Automated flood data collection started (every 5 minutes)
2025-11-17 21:57:13 - app.services.flood_data_scheduler - INFO - _collection_loop:179 - FloodDataScheduler started
2025-11-17 21:57:13 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 21:57:13 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 21:57:13 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 21:57:13 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 21:57:13 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 21:57:13 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 1
2025-11-17 21:57:13 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 2
2025-11-17 21:57:13 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 21:57:13 - app.api.graph_routes - INFO - get_graph_edges_geojson:86 - Sampling 5000 connected edges from 20124 total using 50 clusters
2025-11-17 21:57:13 - app.api.graph_routes - INFO - get_graph_edges_geojson:130 - Sampled 5000 connected edges forming coherent road segments
2025-11-17 21:57:13 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 5000 edges as GeoJSON
2025-11-17 21:57:13 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 3
2025-11-17 21:57:14 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 21:57:15 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 4
2025-11-17 21:57:15 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 21:57:17 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 21:57:17 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 21:57:17 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 21:57:19 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 21:57:19 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 21:57:19 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 21:57:20 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 21:57:20 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 21:57:20 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 21:57:21 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 21:57:21 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 21:57:21 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 21:57:21 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 21:57:21 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 21:57:21 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 21:57:21 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 21:57:21 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 21:57:21 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 21:57:21 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 21:57:21 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 21:57:21 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 21:57:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 21:57:21 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 21:57:21 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 21:57:21 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 21:57:21 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 21:57:21 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 8.06s
2025-11-17 21:57:21 - app.database.repository - INFO - create_collection:104 - Saved flood data collection ff6d277d-c0e3-4691-963f-bb79cb8ea193 with 13 river stations
2025-11-17 21:57:21 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=ff6d277d-c0e3-4691-963f-bb79cb8ea193
2025-11-17 21:57:21 - app.main - DEBUG - broadcast:164 - Successfully serialized message of type: flood_update
2025-11-17 21:57:21 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 21:57:21 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 21:57:21 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 21:57:21 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 21:57:21 - app.main - INFO - broadcast_flood_update:231 - Broadcasted flood update to 4 clients
2025-11-17 21:57:21 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 21:57:21 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 21:57:33 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 21:57:34 - app.api.graph_routes - INFO - get_graph_edges_geojson:86 - Sampling 5000 connected edges from 20124 total using 50 clusters
2025-11-17 21:57:34 - app.api.graph_routes - INFO - get_graph_edges_geojson:130 - Sampled 5000 connected edges forming coherent road segments
2025-11-17 21:57:34 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 5000 edges as GeoJSON
2025-11-17 21:58:21 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 21:58:21 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 21:58:21 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 21:58:21 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 21:58:21 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 21:58:22 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 21:58:24 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 21:58:26 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 21:58:26 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 21:58:26 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 21:58:28 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 21:58:28 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 21:58:28 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 21:58:28 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 21:58:28 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 21:58:28 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 21:58:29 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 21:58:29 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 21:58:29 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 21:58:29 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 21:58:29 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 21:58:29 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 21:58:29 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 21:58:29 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 21:58:29 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 21:58:29 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 21:58:29 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 21:58:29 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 21:58:29 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 21:58:29 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 21:58:29 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 21:58:29 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 21:58:29 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 21:58:29 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 8.25s
2025-11-17 21:58:29 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 7341c376-e311-48c7-9712-a8f7f695941f with 13 river stations
2025-11-17 21:58:29 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=7341c376-e311-48c7-9712-a8f7f695941f
2025-11-17 21:58:29 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 21:58:29 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 21:58:55 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 5
2025-11-17 21:58:55 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 6
2025-11-17 21:58:55 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 7
2025-11-17 21:58:56 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 21:58:56 - app.api.graph_routes - INFO - get_graph_edges_geojson:86 - Sampling 5000 connected edges from 20124 total using 50 clusters
2025-11-17 21:58:56 - app.api.graph_routes - INFO - get_graph_edges_geojson:130 - Sampled 5000 connected edges forming coherent road segments
2025-11-17 21:58:56 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 5000 edges as GeoJSON
2025-11-17 21:59:00 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 8
2025-11-17 22:00:07 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 9
2025-11-17 22:00:07 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 10
2025-11-17 22:00:07 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 11
2025-11-17 22:00:09 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:00:09 - app.api.graph_routes - INFO - get_graph_edges_geojson:86 - Sampling 5000 connected edges from 20124 total using 50 clusters
2025-11-17 22:00:09 - app.api.graph_routes - INFO - get_graph_edges_geojson:130 - Sampled 5000 connected edges forming coherent road segments
2025-11-17 22:00:09 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 5000 edges as GeoJSON
2025-11-17 22:00:12 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 12
2025-11-17 22:00:49 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 13
2025-11-17 22:00:54 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 14
2025-11-17 22:00:55 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:00:55 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 20124 edges (no sampling)
2025-11-17 22:00:56 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 20124 edges as GeoJSON
2025-11-17 22:02:13 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 15
2025-11-17 22:02:14 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 16
2025-11-17 22:02:14 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 17
2025-11-17 22:02:15 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:02:15 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 20124 edges (no sampling)
2025-11-17 22:02:16 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 20124 edges as GeoJSON
2025-11-17 22:02:19 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 18
2025-11-17 22:02:21 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 22:02:21 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 22:02:21 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 22:02:21 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 22:02:21 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 22:02:23 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 22:02:25 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 22:02:27 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 22:02:27 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 22:02:27 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 22:02:29 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 22:02:29 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 22:02:29 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 22:02:29 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 22:02:29 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 22:02:29 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 22:02:30 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 22:02:30 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 22:02:30 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 22:02:30 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 22:02:30 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 22:02:30 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 22:02:30 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 22:02:30 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 22:02:30 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 22:02:30 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 22:02:30 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 22:02:30 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 22:02:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 22:02:30 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 22:02:30 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 22:02:30 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 22:02:30 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 22:02:30 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 9.16s
2025-11-17 22:02:30 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 3b8a2bb6-4add-4d41-9ca8-a49d4b1abdb7 with 13 river stations
2025-11-17 22:02:30 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=3b8a2bb6-4add-4d41-9ca8-a49d4b1abdb7
2025-11-17 22:02:30 - app.main - DEBUG - broadcast:164 - Successfully serialized message of type: flood_update
2025-11-17 22:02:30 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:02:30 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:02:30 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:02:30 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:02:30 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:02:30 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:02:30 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:02:30 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:02:30 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:02:30 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:02:30 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:02:30 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:02:30 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:02:30 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:02:30 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:02:30 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:02:30 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:02:30 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:02:30 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 17
2025-11-17 22:02:30 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 16
2025-11-17 22:02:30 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 15
2025-11-17 22:02:30 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 14
2025-11-17 22:02:30 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 13
2025-11-17 22:02:30 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 12
2025-11-17 22:02:30 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 11
2025-11-17 22:02:30 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 10
2025-11-17 22:02:30 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 9
2025-11-17 22:02:30 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 8
2025-11-17 22:02:30 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 7
2025-11-17 22:02:30 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 6
2025-11-17 22:02:30 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 5
2025-11-17 22:02:30 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 4
2025-11-17 22:02:30 - app.main - INFO - broadcast_flood_update:231 - Broadcasted flood update to 4 clients
2025-11-17 22:02:30 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 22:02:30 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 22:03:29 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 22:03:29 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 22:03:29 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 22:03:29 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 22:03:29 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 22:03:30 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 22:03:32 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 22:03:34 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 22:03:34 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 22:03:34 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 22:03:37 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 22:03:37 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 22:03:37 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 22:03:37 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 22:03:37 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 22:03:37 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 22:03:38 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 22:03:38 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 22:03:38 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 22:03:38 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 22:03:38 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 22:03:38 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 22:03:38 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 22:03:38 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 22:03:38 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 22:03:38 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 22:03:38 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 22:03:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 22:03:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 22:03:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 22:03:38 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 22:03:38 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 22:03:38 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 22:03:38 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 8.68s
2025-11-17 22:03:38 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 5b809e04-cb1f-46d6-9db6-e204c5ff4b6a with 13 river stations
2025-11-17 22:03:38 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=5b809e04-cb1f-46d6-9db6-e204c5ff4b6a
2025-11-17 22:03:38 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 22:03:38 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 22:04:15 - app.main - INFO - shutdown_event:486 - ============================================================
2025-11-17 22:04:15 - app.main - INFO - shutdown_event:487 - MAS-FRO Backend Shutting Down
2025-11-17 22:04:15 - app.main - INFO - shutdown_event:488 - ============================================================
2025-11-17 22:04:15 - app.main - INFO - shutdown_event:489 - Stopping background scheduler...
2025-11-17 22:04:15 - app.services.flood_data_scheduler - INFO - stop:280 - Stopping FloodDataScheduler...
2025-11-17 22:04:45 - app.services.flood_data_scheduler - WARNING - stop:288 - Scheduler stop timed out, cancelling task
2025-11-17 22:04:45 - app.services.flood_data_scheduler - INFO - stop:291 - [OK] FloodDataScheduler stopped
2025-11-17 22:04:45 - app.main - INFO - shutdown_event:493 - Scheduler stopped gracefully
2025-11-17 22:04:45 - app.main - INFO - shutdown_event:494 - MAS-FRO backend shutdown complete
2025-11-17 22:04:48 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-17 22:04:48 - app.main - INFO - <module>:399 - Initializing MAS-FRO Multi-Agent System...
2025-11-17 22:04:49 - app.communication.message_queue - INFO - __init__:46 - MessageQueue system initialized
2025-11-17 22:04:49 - app.agents.hazard_agent_001 - INFO - __init__:36 - Agent hazard_agent_001 created
2025-11-17 22:04:49 - app.agents.hazard_agent - INFO - __init__:116 - hazard_agent_001 GeoTIFF integration DISABLED
2025-11-17 22:04:49 - app.ml_models.location_geocoder - INFO - __init__:169 - LocationGeocoder initialized with 85 location mappings
2025-11-17 22:04:49 - app.agents.hazard_agent - INFO - __init__:129 - hazard_agent_001 LocationGeocoder initialized
2025-11-17 22:04:49 - app.agents.hazard_agent - INFO - __init__:137 - hazard_agent_001 initialized with risk weights: {'flood_depth': 0.5, 'crowdsourced': 0.3, 'historical': 0.2}, return_period: rr01, time_step: 1, geotiff_enabled: False
2025-11-17 22:04:49 - app.agents.flood_agent_001 - INFO - __init__:36 - Agent flood_agent_001 created
2025-11-17 22:04:49 - services.river_scraper_service - INFO - __init__:44 - RiverScraperService initialized
2025-11-17 22:04:49 - app.agents.flood_agent - INFO - __init__:106 - flood_agent_001 initialized RiverScraperService
2025-11-17 22:04:49 - app.agents.flood_agent - INFO - __init__:114 - flood_agent_001 initialized OpenWeatherMapService
2025-11-17 22:04:49 - services.dam_water_scraper_service - INFO - __init__:164 - DamWaterScraperService initialized
2025-11-17 22:04:49 - app.agents.flood_agent - INFO - __init__:125 - flood_agent_001 initialized DamWaterScraperService
2025-11-17 22:04:49 - services.data_sources - INFO - __init__:309 - DataCollector initialized: simulated=False, pagasa=False, noah=False, mmda=False
2025-11-17 22:04:49 - app.agents.flood_agent - INFO - __init__:153 - flood_agent_001 initialized with update interval 300s, real_apis=True, simulated=False
2025-11-17 22:04:49 - app.agents.routing_agent_001 - INFO - __init__:36 - Agent routing_agent_001 created
2025-11-17 22:04:49 - app.agents.routing_agent - INFO - _load_evacuation_centers:402 - Loaded 36 evacuation centers from C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\data\evacuation_centers.csv
2025-11-17 22:04:49 - app.agents.routing_agent - INFO - __init__:71 - routing_agent_001 initialized with risk_weight=0.6, distance_weight=0.4, evacuation_centers=36
2025-11-17 22:04:49 - app.agents.evac_manager_001 - INFO - __init__:36 - Agent evac_manager_001 created
2025-11-17 22:04:49 - app.agents.evacuation_manager_agent - INFO - __init__:90 - evac_manager_001 initialized
2025-11-17 22:04:49 - app.agents.flood_agent - INFO - set_hazard_agent:167 - flood_agent_001 linked to hazard_agent_001
2025-11-17 22:04:49 - app.agents.evacuation_manager_agent - INFO - set_hazard_agent:126 - evac_manager_001 linked to hazard_agent_001
2025-11-17 22:04:49 - app.agents.evacuation_manager_agent - INFO - set_routing_agent:116 - evac_manager_001 linked to routing_agent_001
2025-11-17 22:04:49 - app.services.flood_data_scheduler - INFO - __init__:71 - FloodDataScheduler initialized with interval=300s (5.0 minutes), WebSocket broadcasting=enabled
2025-11-17 22:04:49 - app.main - INFO - <module>:450 - MAS-FRO system initialized successfully
2025-11-17 22:04:49 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-17 22:04:49 - app.main - INFO - startup_event:459 - ============================================================
2025-11-17 22:04:49 - app.main - INFO - startup_event:460 - MAS-FRO Backend Starting Up
2025-11-17 22:04:49 - app.main - INFO - startup_event:461 - ============================================================
2025-11-17 22:04:49 - app.main - INFO - startup_event:462 - Structured logging initialized - logs written to logs/masfro.log
2025-11-17 22:04:49 - app.main - INFO - startup_event:465 - Checking database connection...
2025-11-17 22:04:49 - app.database.connection - INFO - check_connection:92 - [OK] Database connection successful
2025-11-17 22:04:49 - app.main - INFO - startup_event:467 - Database connection successful
2025-11-17 22:04:49 - app.database.connection - INFO - init_db:76 - [OK] Database tables created successfully
2025-11-17 22:04:49 - app.main - INFO - startup_event:474 - Starting background scheduler...
2025-11-17 22:04:49 - app.services.flood_data_scheduler - INFO - start:265 - [OK] FloodDataScheduler started (interval=300s)
2025-11-17 22:04:49 - app.main - INFO - startup_event:478 - Automated flood data collection started (every 5 minutes)
2025-11-17 22:04:49 - app.services.flood_data_scheduler - INFO - _collection_loop:179 - FloodDataScheduler started
2025-11-17 22:04:49 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 22:04:49 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 22:04:49 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 22:04:49 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 22:04:49 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 1
2025-11-17 22:04:49 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 22:04:49 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 2
2025-11-17 22:04:49 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 3
2025-11-17 22:04:49 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 4
2025-11-17 22:04:50 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 22:04:52 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 22:04:54 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 22:04:54 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 22:04:54 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 22:04:56 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 22:04:56 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 22:04:56 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 22:04:56 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 22:04:56 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 22:04:56 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 22:04:57 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 22:04:57 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 22:04:57 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 22:04:57 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 22:04:57 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 22:04:57 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 22:04:57 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 22:04:57 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 22:04:57 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 22:04:57 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 22:04:57 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 22:04:57 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 22:04:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 22:04:58 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 22:04:58 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 22:04:58 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 22:04:58 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 22:04:58 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 8.17s
2025-11-17 22:04:58 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 5deba6be-3781-447b-a4cf-370061e7173f with 13 river stations
2025-11-17 22:04:58 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=5deba6be-3781-447b-a4cf-370061e7173f
2025-11-17 22:04:58 - app.main - DEBUG - broadcast:164 - Successfully serialized message of type: flood_update
2025-11-17 22:04:58 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:04:58 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:04:58 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:04:58 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:04:58 - app.main - INFO - broadcast_flood_update:231 - Broadcasted flood update to 4 clients
2025-11-17 22:04:58 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 22:04:58 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 22:06:47 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 1
2025-11-17 22:06:47 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 2
2025-11-17 22:06:47 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 3
2025-11-17 22:08:38 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 22:08:38 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 22:08:38 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 22:08:38 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 22:08:38 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 22:08:40 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 22:08:41 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 22:08:43 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 22:08:43 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 22:08:43 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 22:08:45 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 22:08:45 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 22:08:45 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 22:08:45 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 22:08:45 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 22:08:45 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 22:08:46 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 22:08:46 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 22:08:46 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 22:08:46 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 22:08:46 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 22:08:46 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 22:08:46 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 22:08:46 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 22:08:46 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 22:08:46 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 22:08:46 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 22:08:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 22:08:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 22:08:47 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 22:08:47 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 22:08:47 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 22:08:47 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 22:08:47 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 8.78s
2025-11-17 22:08:47 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 5e778213-d8b7-42b6-b237-a5ee4d180c08 with 13 river stations
2025-11-17 22:08:47 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=5e778213-d8b7-42b6-b237-a5ee4d180c08
2025-11-17 22:08:47 - app.main - DEBUG - broadcast:164 - Successfully serialized message of type: flood_update
2025-11-17 22:08:47 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:08:47 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:08:47 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:08:47 - app.main - INFO - broadcast_flood_update:231 - Broadcasted flood update to 3 clients
2025-11-17 22:08:47 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 22:08:47 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 22:09:31 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-17 22:09:31 - app.main - INFO - <module>:399 - Initializing MAS-FRO Multi-Agent System...
2025-11-17 22:09:32 - app.communication.message_queue - INFO - __init__:46 - MessageQueue system initialized
2025-11-17 22:09:32 - app.agents.hazard_agent_001 - INFO - __init__:36 - Agent hazard_agent_001 created
2025-11-17 22:09:32 - app.agents.hazard_agent - INFO - __init__:116 - hazard_agent_001 GeoTIFF integration DISABLED
2025-11-17 22:09:32 - app.ml_models.location_geocoder - INFO - __init__:169 - LocationGeocoder initialized with 85 location mappings
2025-11-17 22:09:32 - app.agents.hazard_agent - INFO - __init__:129 - hazard_agent_001 LocationGeocoder initialized
2025-11-17 22:09:32 - app.agents.hazard_agent - INFO - __init__:137 - hazard_agent_001 initialized with risk weights: {'flood_depth': 0.5, 'crowdsourced': 0.3, 'historical': 0.2}, return_period: rr01, time_step: 1, geotiff_enabled: False
2025-11-17 22:09:32 - app.agents.flood_agent_001 - INFO - __init__:36 - Agent flood_agent_001 created
2025-11-17 22:09:32 - services.river_scraper_service - INFO - __init__:44 - RiverScraperService initialized
2025-11-17 22:09:32 - app.agents.flood_agent - INFO - __init__:106 - flood_agent_001 initialized RiverScraperService
2025-11-17 22:09:32 - app.agents.flood_agent - INFO - __init__:114 - flood_agent_001 initialized OpenWeatherMapService
2025-11-17 22:09:32 - services.dam_water_scraper_service - INFO - __init__:164 - DamWaterScraperService initialized
2025-11-17 22:09:32 - app.agents.flood_agent - INFO - __init__:125 - flood_agent_001 initialized DamWaterScraperService
2025-11-17 22:09:32 - services.data_sources - INFO - __init__:309 - DataCollector initialized: simulated=False, pagasa=False, noah=False, mmda=False
2025-11-17 22:09:32 - app.agents.flood_agent - INFO - __init__:153 - flood_agent_001 initialized with update interval 300s, real_apis=True, simulated=False
2025-11-17 22:09:32 - app.agents.routing_agent_001 - INFO - __init__:36 - Agent routing_agent_001 created
2025-11-17 22:09:32 - app.agents.routing_agent - INFO - _load_evacuation_centers:402 - Loaded 36 evacuation centers from C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\data\evacuation_centers.csv
2025-11-17 22:09:32 - app.agents.routing_agent - INFO - __init__:71 - routing_agent_001 initialized with risk_weight=0.6, distance_weight=0.4, evacuation_centers=36
2025-11-17 22:09:32 - app.agents.evac_manager_001 - INFO - __init__:36 - Agent evac_manager_001 created
2025-11-17 22:09:32 - app.agents.evacuation_manager_agent - INFO - __init__:90 - evac_manager_001 initialized
2025-11-17 22:09:32 - app.agents.flood_agent - INFO - set_hazard_agent:167 - flood_agent_001 linked to hazard_agent_001
2025-11-17 22:09:32 - app.agents.evacuation_manager_agent - INFO - set_hazard_agent:126 - evac_manager_001 linked to hazard_agent_001
2025-11-17 22:09:32 - app.agents.evacuation_manager_agent - INFO - set_routing_agent:116 - evac_manager_001 linked to routing_agent_001
2025-11-17 22:09:32 - app.services.flood_data_scheduler - INFO - __init__:71 - FloodDataScheduler initialized with interval=300s (5.0 minutes), WebSocket broadcasting=enabled
2025-11-17 22:09:32 - app.main - INFO - <module>:450 - MAS-FRO system initialized successfully
2025-11-17 22:09:32 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-17 22:09:32 - app.main - INFO - startup_event:459 - ============================================================
2025-11-17 22:09:32 - app.main - INFO - startup_event:460 - MAS-FRO Backend Starting Up
2025-11-17 22:09:32 - app.main - INFO - startup_event:461 - ============================================================
2025-11-17 22:09:32 - app.main - INFO - startup_event:462 - Structured logging initialized - logs written to logs/masfro.log
2025-11-17 22:09:32 - app.main - INFO - startup_event:465 - Checking database connection...
2025-11-17 22:09:32 - app.database.connection - INFO - check_connection:92 - [OK] Database connection successful
2025-11-17 22:09:32 - app.main - INFO - startup_event:467 - Database connection successful
2025-11-17 22:09:32 - app.database.connection - INFO - init_db:76 - [OK] Database tables created successfully
2025-11-17 22:09:32 - app.main - INFO - startup_event:474 - Starting background scheduler...
2025-11-17 22:09:32 - app.services.flood_data_scheduler - INFO - start:265 - [OK] FloodDataScheduler started (interval=300s)
2025-11-17 22:09:32 - app.main - INFO - startup_event:478 - Automated flood data collection started (every 5 minutes)
2025-11-17 22:09:32 - app.services.flood_data_scheduler - INFO - _collection_loop:179 - FloodDataScheduler started
2025-11-17 22:09:32 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 22:09:32 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 22:09:32 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 22:09:32 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 22:09:32 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 22:09:33 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 22:09:35 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 22:09:37 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 22:09:37 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 22:09:37 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 22:09:39 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 22:09:39 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 22:09:39 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 22:09:39 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 22:09:39 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 22:09:39 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 22:09:40 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 22:09:40 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 22:09:40 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 22:09:40 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 22:09:40 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 22:09:40 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 22:09:40 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 22:09:40 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 22:09:40 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 22:09:40 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 22:09:40 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 22:09:40 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 22:09:40 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 22:09:41 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 22:09:41 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 22:09:41 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 22:09:41 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 22:09:41 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 8.62s
2025-11-17 22:09:41 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 2a26d018-3572-4c90-a849-3da9331f425d with 13 river stations
2025-11-17 22:09:41 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=2a26d018-3572-4c90-a849-3da9331f425d
2025-11-17 22:09:41 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 22:09:41 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 22:09:51 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 1
2025-11-17 22:09:51 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 2
2025-11-17 22:09:51 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 3
2025-11-17 22:09:54 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:09:54 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 20124 edges (no sampling)
2025-11-17 22:09:54 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 20124 edges as GeoJSON
2025-11-17 22:09:57 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 4
2025-11-17 22:10:28 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 5
2025-11-17 22:10:29 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 6
2025-11-17 22:10:29 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 7
2025-11-17 22:10:30 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:10:30 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 20124 edges (no sampling)
2025-11-17 22:10:30 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 20124 edges as GeoJSON
2025-11-17 22:10:34 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 8
2025-11-17 22:12:11 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 9
2025-11-17 22:12:11 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 10
2025-11-17 22:12:11 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 11
2025-11-17 22:12:12 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:12:12 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 20124 edges (no sampling)
2025-11-17 22:12:13 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 20124 edges as GeoJSON
2025-11-17 22:12:16 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 12
2025-11-17 22:12:21 - app.main - INFO - shutdown_event:486 - ============================================================
2025-11-17 22:12:21 - app.main - INFO - shutdown_event:487 - MAS-FRO Backend Shutting Down
2025-11-17 22:12:21 - app.main - INFO - shutdown_event:488 - ============================================================
2025-11-17 22:12:21 - app.main - INFO - shutdown_event:489 - Stopping background scheduler...
2025-11-17 22:12:21 - app.services.flood_data_scheduler - INFO - stop:280 - Stopping FloodDataScheduler...
2025-11-17 22:12:25 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 4
2025-11-17 22:12:25 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 5
2025-11-17 22:12:25 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 6
2025-11-17 22:12:27 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 7
2025-11-17 22:12:27 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 8
2025-11-17 22:12:27 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:12:27 - app.api.graph_routes - INFO - get_graph_edges_geojson:76 - Returning all 20124 edges (no sampling)
2025-11-17 22:12:28 - app.api.graph_routes - INFO - get_graph_edges_geojson:137 - Returning 20124 edges as GeoJSON
2025-11-17 22:12:28 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 9
2025-11-17 22:12:30 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 10
2025-11-17 22:12:51 - app.services.flood_data_scheduler - WARNING - stop:288 - Scheduler stop timed out, cancelling task
2025-11-17 22:12:51 - app.services.flood_data_scheduler - INFO - stop:291 - [OK] FloodDataScheduler stopped
2025-11-17 22:12:51 - app.main - INFO - shutdown_event:493 - Scheduler stopped gracefully
2025-11-17 22:12:51 - app.main - INFO - shutdown_event:494 - MAS-FRO backend shutdown complete
2025-11-17 22:13:44 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-17 22:13:44 - app.main - INFO - <module>:399 - Initializing MAS-FRO Multi-Agent System...
2025-11-17 22:13:46 - app.communication.message_queue - INFO - __init__:46 - MessageQueue system initialized
2025-11-17 22:13:46 - app.agents.hazard_agent_001 - INFO - __init__:36 - Agent hazard_agent_001 created
2025-11-17 22:13:46 - app.agents.hazard_agent - INFO - __init__:116 - hazard_agent_001 GeoTIFF integration DISABLED
2025-11-17 22:13:46 - app.ml_models.location_geocoder - INFO - __init__:169 - LocationGeocoder initialized with 85 location mappings
2025-11-17 22:13:46 - app.agents.hazard_agent - INFO - __init__:129 - hazard_agent_001 LocationGeocoder initialized
2025-11-17 22:13:46 - app.agents.hazard_agent - INFO - __init__:137 - hazard_agent_001 initialized with risk weights: {'flood_depth': 0.5, 'crowdsourced': 0.3, 'historical': 0.2}, return_period: rr01, time_step: 1, geotiff_enabled: False
2025-11-17 22:13:46 - app.agents.flood_agent_001 - INFO - __init__:36 - Agent flood_agent_001 created
2025-11-17 22:13:46 - services.river_scraper_service - INFO - __init__:44 - RiverScraperService initialized
2025-11-17 22:13:46 - app.agents.flood_agent - INFO - __init__:106 - flood_agent_001 initialized RiverScraperService
2025-11-17 22:13:46 - app.agents.flood_agent - INFO - __init__:114 - flood_agent_001 initialized OpenWeatherMapService
2025-11-17 22:13:46 - services.dam_water_scraper_service - INFO - __init__:164 - DamWaterScraperService initialized
2025-11-17 22:13:46 - app.agents.flood_agent - INFO - __init__:125 - flood_agent_001 initialized DamWaterScraperService
2025-11-17 22:13:46 - services.data_sources - INFO - __init__:309 - DataCollector initialized: simulated=False, pagasa=False, noah=False, mmda=False
2025-11-17 22:13:46 - app.agents.flood_agent - INFO - __init__:153 - flood_agent_001 initialized with update interval 300s, real_apis=True, simulated=False
2025-11-17 22:13:46 - app.agents.routing_agent_001 - INFO - __init__:36 - Agent routing_agent_001 created
2025-11-17 22:13:46 - app.agents.routing_agent - INFO - _load_evacuation_centers:402 - Loaded 36 evacuation centers from C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\data\evacuation_centers.csv
2025-11-17 22:13:46 - app.agents.routing_agent - INFO - __init__:71 - routing_agent_001 initialized with risk_weight=0.6, distance_weight=0.4, evacuation_centers=36
2025-11-17 22:13:46 - app.agents.evac_manager_001 - INFO - __init__:36 - Agent evac_manager_001 created
2025-11-17 22:13:46 - app.agents.evacuation_manager_agent - INFO - __init__:90 - evac_manager_001 initialized
2025-11-17 22:13:46 - app.agents.flood_agent - INFO - set_hazard_agent:167 - flood_agent_001 linked to hazard_agent_001
2025-11-17 22:13:46 - app.agents.evacuation_manager_agent - INFO - set_hazard_agent:126 - evac_manager_001 linked to hazard_agent_001
2025-11-17 22:13:46 - app.agents.evacuation_manager_agent - INFO - set_routing_agent:116 - evac_manager_001 linked to routing_agent_001
2025-11-17 22:13:46 - app.services.flood_data_scheduler - INFO - __init__:71 - FloodDataScheduler initialized with interval=300s (5.0 minutes), WebSocket broadcasting=enabled
2025-11-17 22:13:46 - app.main - INFO - <module>:450 - MAS-FRO system initialized successfully
2025-11-17 22:13:46 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-17 22:13:46 - app.main - INFO - startup_event:459 - ============================================================
2025-11-17 22:13:46 - app.main - INFO - startup_event:460 - MAS-FRO Backend Starting Up
2025-11-17 22:13:46 - app.main - INFO - startup_event:461 - ============================================================
2025-11-17 22:13:46 - app.main - INFO - startup_event:462 - Structured logging initialized - logs written to logs/masfro.log
2025-11-17 22:13:46 - app.main - INFO - startup_event:465 - Checking database connection...
2025-11-17 22:13:46 - app.database.connection - INFO - check_connection:92 - [OK] Database connection successful
2025-11-17 22:13:46 - app.main - INFO - startup_event:467 - Database connection successful
2025-11-17 22:13:46 - app.database.connection - INFO - init_db:76 - [OK] Database tables created successfully
2025-11-17 22:13:46 - app.main - INFO - startup_event:474 - Starting background scheduler...
2025-11-17 22:13:46 - app.services.flood_data_scheduler - INFO - start:265 - [OK] FloodDataScheduler started (interval=300s)
2025-11-17 22:13:46 - app.main - INFO - startup_event:478 - Automated flood data collection started (every 5 minutes)
2025-11-17 22:13:46 - app.services.flood_data_scheduler - INFO - _collection_loop:179 - FloodDataScheduler started
2025-11-17 22:13:46 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 22:13:46 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 22:13:46 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 22:13:46 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 22:13:46 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 22:13:47 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 22:13:47 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 22:13:47 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 22:13:47 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 22:13:47 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 22:13:48 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 22:13:48 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 22:13:49 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 22:13:50 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 22:13:51 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 22:13:51 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 22:13:51 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 22:13:52 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 1
2025-11-17 22:13:52 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 2
2025-11-17 22:13:52 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 3
2025-11-17 22:13:52 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 22:13:52 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 22:13:52 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 22:13:53 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:13:53 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:13:54 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 22:13:54 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 22:13:54 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:13:54 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 22:13:54 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 22:13:54 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 22:13:54 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 22:13:54 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 22:13:54 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 22:13:54 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 22:13:55 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 22:13:55 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 22:13:55 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 22:13:55 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 22:13:55 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 22:13:55 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 22:13:55 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 22:13:55 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 22:13:55 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 22:13:55 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 22:13:55 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 22:13:55 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 22:13:55 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 22:13:55 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 22:13:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 22:13:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 22:13:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 22:13:56 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 22:13:56 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 22:13:56 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 22:13:56 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 8.95s
2025-11-17 22:13:56 - app.database.repository - INFO - create_collection:104 - Saved flood data collection fb741ab3-dbc5-4e0e-bf56-86e77c4fc3e5 with 13 river stations
2025-11-17 22:13:56 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=fb741ab3-dbc5-4e0e-bf56-86e77c4fc3e5
2025-11-17 22:13:56 - app.main - DEBUG - broadcast:164 - Successfully serialized message of type: flood_update
2025-11-17 22:13:56 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:13:56 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:13:56 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:13:56 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:13:56 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:13:56 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:13:56 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:13:56 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:13:56 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:13:56 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:13:56 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 9
2025-11-17 22:13:56 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 8
2025-11-17 22:13:56 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 7
2025-11-17 22:13:56 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 6
2025-11-17 22:13:56 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 5
2025-11-17 22:13:56 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 4
2025-11-17 22:13:56 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 3
2025-11-17 22:13:56 - app.main - INFO - broadcast_flood_update:231 - Broadcasted flood update to 3 clients
2025-11-17 22:13:56 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 22:13:56 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 22:13:56 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 22:13:56 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 22:13:56 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 22:13:56 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 22:13:56 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 22:13:56 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 22:13:56 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 22:13:56 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 22:13:56 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 22:13:56 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 22:13:56 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 22:13:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 22:13:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 22:13:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 35932 edges. Distribution: low=35932, moderate=0, high=0, critical=0
2025-11-17 22:13:56 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 22:13:56 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 35932 edges in the environment
2025-11-17 22:13:56 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 22:13:56 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 9.90s
2025-11-17 22:13:56 - app.database.repository - INFO - create_collection:104 - Saved flood data collection c6451739-21d2-4f88-9bc3-8c103567462a with 13 river stations
2025-11-17 22:13:56 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=c6451739-21d2-4f88-9bc3-8c103567462a
2025-11-17 22:13:56 - app.main - DEBUG - broadcast:164 - Successfully serialized message of type: flood_update
2025-11-17 22:13:56 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:13:56 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:13:56 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:13:56 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 2
2025-11-17 22:13:56 - app.main - INFO - broadcast_flood_update:231 - Broadcasted flood update to 2 clients
2025-11-17 22:13:56 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 22:13:56 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 22:13:57 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 3
2025-11-17 22:14:49 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 4
2025-11-17 22:14:49 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 5
2025-11-17 22:14:55 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 6
2025-11-17 22:14:55 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 7
2025-11-17 22:15:13 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 8
2025-11-17 22:15:13 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 9
2025-11-17 22:15:17 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 10
2025-11-17 22:15:17 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 11
2025-11-17 22:15:17 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 12
2025-11-17 22:15:19 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 13
2025-11-17 22:15:19 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:15:19 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:15:19 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:15:22 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 14
2025-11-17 22:15:26 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 15
2025-11-17 22:15:26 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 16
2025-11-17 22:15:26 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 17
2025-11-17 22:15:27 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:15:27 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:15:28 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:15:31 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 18
2025-11-17 22:15:36 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 19
2025-11-17 22:15:36 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 20
2025-11-17 22:15:36 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 21
2025-11-17 22:15:38 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:15:38 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:15:38 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:15:42 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 22
2025-11-17 22:16:06 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 23
2025-11-17 22:16:06 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 24
2025-11-17 22:16:07 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 25
2025-11-17 22:16:08 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 26
2025-11-17 22:16:08 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 27
2025-11-17 22:16:09 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:16:09 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:16:09 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:16:11 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 28
2025-11-17 22:16:13 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 29
2025-11-17 22:16:23 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 30
2025-11-17 22:16:23 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 31
2025-11-17 22:16:25 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 32
2025-11-17 22:16:26 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 33
2025-11-17 22:16:26 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 34
2025-11-17 22:16:27 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:16:27 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:16:28 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:16:29 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 35
2025-11-17 22:16:31 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 36
2025-11-17 22:18:56 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 22:18:56 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 22:18:56 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 22:18:56 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 22:18:56 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 22:18:56 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 22:18:56 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 22:18:56 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 22:18:56 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 22:18:56 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 22:18:57 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 22:18:57 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 22:18:59 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 22:18:59 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 22:19:01 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 22:19:01 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 22:19:01 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 22:19:01 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 22:19:01 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 22:19:01 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 22:19:03 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 22:19:03 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 22:19:03 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 22:19:03 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 22:19:03 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 22:19:03 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 22:19:03 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 22:19:03 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 22:19:03 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 22:19:03 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 22:19:03 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 22:19:03 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 22:19:04 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 22:19:04 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 22:19:04 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 22:19:04 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 22:19:04 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 22:19:04 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 22:19:04 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 22:19:04 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 22:19:04 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 22:19:04 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 22:19:04 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 22:19:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 22:19:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 22:19:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 22:19:04 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 22:19:04 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 22:19:04 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 22:19:04 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 8.55s
2025-11-17 22:19:04 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 3f3fade8-196f-4add-9b4b-6bb81d2b587e with 13 river stations
2025-11-17 22:19:04 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=3f3fade8-196f-4add-9b4b-6bb81d2b587e
2025-11-17 22:19:04 - app.main - DEBUG - broadcast:164 - Successfully serialized message of type: flood_update
2025-11-17 22:19:04 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:04 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:19:04 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:19:04 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 2
2025-11-17 22:19:04 - app.main - INFO - broadcast_flood_update:231 - Broadcasted flood update to 2 clients
2025-11-17 22:19:04 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 22:19:04 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 22:19:05 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 22:19:05 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 22:19:05 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 22:19:05 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 22:19:05 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 22:19:05 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 22:19:05 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 22:19:05 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 22:19:05 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 22:19:05 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 22:19:05 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 22:19:05 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 22:19:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 22:19:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 35932 edges. Distribution: low=35932, moderate=0, high=0, critical=0
2025-11-17 22:19:05 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 22:19:05 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 35932 edges in the environment
2025-11-17 22:19:05 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 22:19:05 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 9.07s
2025-11-17 22:19:05 - app.database.repository - INFO - create_collection:104 - Saved flood data collection af2c60f2-ae04-42a7-8b2c-a2d8820a4b71 with 13 river stations
2025-11-17 22:19:05 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=af2c60f2-ae04-42a7-8b2c-a2d8820a4b71
2025-11-17 22:19:05 - app.main - DEBUG - broadcast:164 - Successfully serialized message of type: flood_update
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:19:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 35
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 34
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 33
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 32
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 31
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 30
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 29
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 28
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 27
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 26
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 25
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 24
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 23
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 22
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 21
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 20
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 19
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 18
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 17
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 16
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 15
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 14
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 13
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 12
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 11
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 10
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 9
2025-11-17 22:19:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 8
2025-11-17 22:19:05 - app.main - INFO - broadcast_flood_update:231 - Broadcasted flood update to 8 clients
2025-11-17 22:19:05 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 22:19:05 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 22:19:41 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 9
2025-11-17 22:19:41 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 10
2025-11-17 22:19:46 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 11
2025-11-17 22:19:47 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 12
2025-11-17 22:19:54 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 13
2025-11-17 22:19:55 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 14
2025-11-17 22:19:55 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 15
2025-11-17 22:19:55 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 16
2025-11-17 22:19:55 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 17
2025-11-17 22:19:55 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 18
2025-11-17 22:19:56 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:19:56 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:19:56 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:20:00 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 19
2025-11-17 22:20:00 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 20
2025-11-17 22:20:00 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 21
2025-11-17 22:20:00 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 22
2025-11-17 22:20:00 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 23
2025-11-17 22:20:00 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 24
2025-11-17 22:20:04 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 25
2025-11-17 22:20:04 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 26
2025-11-17 22:20:05 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 27
2025-11-17 22:20:05 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 28
2025-11-17 22:20:05 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 29
2025-11-17 22:20:07 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:20:07 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:20:08 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:20:09 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 30
2025-11-17 22:20:10 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 31
2025-11-17 22:21:46 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:21:46 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:21:46 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:21:49 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 32
2025-11-17 22:21:50 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 33
2025-11-17 22:21:50 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 34
2025-11-17 22:21:52 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:21:52 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:21:52 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:21:55 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 35
2025-11-17 22:24:04 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 22:24:04 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 22:24:04 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 22:24:04 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 22:24:04 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 22:24:05 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 22:24:05 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 22:24:05 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 22:24:05 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 22:24:05 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 22:24:06 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 22:24:07 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 22:24:08 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 22:24:08 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 22:24:10 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 22:24:10 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 22:24:10 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 22:24:10 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 22:24:10 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 22:24:10 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 22:24:12 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 22:24:12 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 22:24:12 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 22:24:12 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 22:24:12 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 22:24:12 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 22:24:12 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 22:24:12 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 22:24:12 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 22:24:12 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 22:24:12 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 22:24:12 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 22:24:13 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 22:24:13 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 22:24:13 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 22:24:13 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 22:24:13 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 22:24:13 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 22:24:13 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 22:24:13 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 22:24:13 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 22:24:13 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 22:24:13 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 22:24:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 22:24:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 22:24:13 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 22:24:13 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 22:24:13 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 22:24:13 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 22:24:13 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 22:24:13 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 22:24:13 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 22:24:13 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 22:24:13 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 22:24:13 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 22:24:13 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 22:24:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 22:24:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 22:24:13 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 22:24:13 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 22:24:13 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 22:24:13 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 22:24:13 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 9.05s
2025-11-17 22:24:13 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 31670bbb-e393-4744-a481-8215d3d7cfa1 with 13 river stations
2025-11-17 22:24:13 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=31670bbb-e393-4744-a481-8215d3d7cfa1
2025-11-17 22:24:13 - app.main - DEBUG - broadcast:164 - Successfully serialized message of type: flood_update
2025-11-17 22:24:13 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:13 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:13 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 1
2025-11-17 22:24:13 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 0
2025-11-17 22:24:13 - app.main - INFO - broadcast_flood_update:231 - Broadcasted flood update to 0 clients
2025-11-17 22:24:13 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 22:24:13 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 22:24:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 35932 edges. Distribution: low=35932, moderate=0, high=0, critical=0
2025-11-17 22:24:14 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 22:24:14 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 35932 edges in the environment
2025-11-17 22:24:14 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 22:24:14 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 8.51s
2025-11-17 22:24:14 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 069da737-7e46-4d50-a6e7-9f9acdf53d90 with 13 river stations
2025-11-17 22:24:14 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=069da737-7e46-4d50-a6e7-9f9acdf53d90
2025-11-17 22:24:14 - app.main - DEBUG - broadcast:164 - Successfully serialized message of type: flood_update
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:24:14 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 34
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 33
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 32
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 31
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 30
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 29
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 28
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 27
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 26
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 25
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 24
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 23
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 22
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 21
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 20
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 19
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 18
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 17
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 16
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 15
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 14
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 13
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 12
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 11
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 10
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 9
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 8
2025-11-17 22:24:14 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 7
2025-11-17 22:24:14 - app.main - INFO - broadcast_flood_update:231 - Broadcasted flood update to 7 clients
2025-11-17 22:24:14 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 22:24:14 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 22:25:14 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 8
2025-11-17 22:25:14 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 9
2025-11-17 22:25:14 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 10
2025-11-17 22:25:16 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:25:16 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:25:17 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:25:20 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 11
2025-11-17 22:25:24 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 12
2025-11-17 22:25:25 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 13
2025-11-17 22:25:25 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 14
2025-11-17 22:25:27 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:25:27 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:25:28 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:25:29 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 15
2025-11-17 22:25:38 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 16
2025-11-17 22:25:38 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 17
2025-11-17 22:25:38 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 18
2025-11-17 22:25:38 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 19
2025-11-17 22:25:39 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:25:39 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:25:39 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:25:43 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 20
2025-11-17 22:25:43 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 21
2025-11-17 22:25:45 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:25:45 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:25:45 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:26:06 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 22
2025-11-17 22:26:06 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 23
2025-11-17 22:26:09 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 24
2025-11-17 22:26:09 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 25
2025-11-17 22:26:10 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 26
2025-11-17 22:26:10 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 27
2025-11-17 22:26:11 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 28
2025-11-17 22:26:11 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 29
2025-11-17 22:26:11 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 30
2025-11-17 22:26:13 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 31
2025-11-17 22:26:13 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 32
2025-11-17 22:26:14 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 33
2025-11-17 22:26:14 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 34
2025-11-17 22:26:14 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 35
2025-11-17 22:26:15 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 36
2025-11-17 22:26:15 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 37
2025-11-17 22:26:16 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 38
2025-11-17 22:26:16 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 39
2025-11-17 22:26:16 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 40
2025-11-17 22:26:18 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 41
2025-11-17 22:26:18 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 42
2025-11-17 22:26:18 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 43
2025-11-17 22:26:19 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 44
2025-11-17 22:26:20 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 45
2025-11-17 22:26:20 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 46
2025-11-17 22:26:20 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 47
2025-11-17 22:26:22 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 48
2025-11-17 22:26:22 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 49
2025-11-17 22:26:22 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 50
2025-11-17 22:26:24 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 51
2025-11-17 22:26:26 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 52
2025-11-17 22:26:28 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 53
2025-11-17 22:26:28 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 54
2025-11-17 22:26:32 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 55
2025-11-17 22:26:32 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 56
2025-11-17 22:26:37 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 57
2025-11-17 22:26:37 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 58
2025-11-17 22:27:30 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 59
2025-11-17 22:27:31 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 60
2025-11-17 22:27:32 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:27:32 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:27:32 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:27:36 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 61
2025-11-17 22:27:54 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:27:55 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:27:55 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:28:46 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 62
2025-11-17 22:28:46 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 63
2025-11-17 22:28:46 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 64
2025-11-17 22:28:46 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:28:46 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:28:47 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:28:48 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:28:48 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:28:49 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:28:50 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 65
2025-11-17 22:28:50 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:28:50 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:28:51 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:28:52 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 66
2025-11-17 22:28:52 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 67
2025-11-17 22:28:52 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 68
2025-11-17 22:28:52 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 69
2025-11-17 22:28:52 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 70
2025-11-17 22:28:52 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 71
2025-11-17 22:28:52 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 72
2025-11-17 22:28:52 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 73
2025-11-17 22:28:52 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 74
2025-11-17 22:28:52 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:28:53 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:28:53 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:28:55 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 75
2025-11-17 22:28:55 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:28:55 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:28:55 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:28:56 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 76
2025-11-17 22:28:56 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 77
2025-11-17 22:28:56 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:28:56 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:28:57 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:28:58 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 78
2025-11-17 22:28:58 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 79
2025-11-17 22:28:58 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 80
2025-11-17 22:28:58 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 81
2025-11-17 22:28:58 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 82
2025-11-17 22:28:58 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:28:58 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:28:59 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:29:00 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:29:00 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:29:01 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:29:01 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 83
2025-11-17 22:29:01 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 84
2025-11-17 22:29:01 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:29:01 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:29:02 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:29:02 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 85
2025-11-17 22:29:02 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 86
2025-11-17 22:29:02 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 87
2025-11-17 22:29:03 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 88
2025-11-17 22:29:04 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 89
2025-11-17 22:29:05 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 90
2025-11-17 22:29:13 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 22:29:13 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 22:29:13 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 22:29:13 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 22:29:13 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 22:29:14 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 22:29:14 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 22:29:14 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 22:29:14 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 22:29:14 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 22:29:16 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 22:29:16 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 22:29:18 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 22:29:19 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 22:29:20 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 22:29:20 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 22:29:20 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 22:29:21 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 22:29:21 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 22:29:21 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 22:29:22 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 22:29:22 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 22:29:22 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 22:29:22 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 22:29:22 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 22:29:22 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 22:29:23 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 22:29:23 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 22:29:23 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 22:29:24 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 22:29:24 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 22:29:24 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 22:29:24 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 22:29:24 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 22:29:24 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 22:29:24 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 22:29:24 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 22:29:24 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 22:29:24 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 22:29:24 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 22:29:24 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 22:29:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 22:29:24 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 22:29:24 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 22:29:24 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 22:29:24 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 22:29:24 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 22:29:24 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 22:29:24 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 22:29:24 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 10.56s
2025-11-17 22:29:24 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 95b6da9c-abda-4b83-ab7a-9acd9bc1fd6e with 13 river stations
2025-11-17 22:29:24 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=95b6da9c-abda-4b83-ab7a-9acd9bc1fd6e
2025-11-17 22:29:24 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 22:29:24 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 22:29:25 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 22:29:25 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 22:29:25 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 22:29:25 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 22:29:25 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 22:29:25 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 22:29:25 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 22:29:25 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 22:29:25 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 22:29:25 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 22:29:25 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 22:29:25 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 22:29:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 22:29:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 35932 edges. Distribution: low=35932, moderate=0, high=0, critical=0
2025-11-17 22:29:25 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 22:29:25 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 35932 edges in the environment
2025-11-17 22:29:25 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 22:29:25 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 11.21s
2025-11-17 22:29:25 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 6c78ad03-ff3d-4ca6-b83b-e9f9c88da245 with 13 river stations
2025-11-17 22:29:25 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=6c78ad03-ff3d-4ca6-b83b-e9f9c88da245
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:164 - Successfully serialized message of type: flood_update
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:29:25 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 89
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 88
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 87
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 86
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 85
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 84
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 83
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 82
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 81
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 80
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 79
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 78
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 77
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 76
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 75
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 74
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 73
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 72
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 71
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 70
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 69
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 68
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 67
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 66
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 65
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 64
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 63
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 62
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 61
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 60
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 59
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 58
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 57
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 56
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 55
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 54
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 53
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 52
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 51
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 50
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 49
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 48
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 47
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 46
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 45
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 44
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 43
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 42
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 41
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 40
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 39
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 38
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 37
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 36
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 35
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 34
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 33
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 32
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 31
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 30
2025-11-17 22:29:25 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 29
2025-11-17 22:29:25 - app.main - INFO - broadcast_flood_update:231 - Broadcasted flood update to 29 clients
2025-11-17 22:29:25 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 22:29:25 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 22:30:06 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 30
2025-11-17 22:30:07 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 31
2025-11-17 22:30:07 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:30:07 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:30:08 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:30:12 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 32
2025-11-17 22:31:00 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 33
2025-11-17 22:31:00 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 34
2025-11-17 22:31:01 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:31:01 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:31:01 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:31:03 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 35
2025-11-17 22:31:03 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 36
2025-11-17 22:31:03 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:31:03 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:31:04 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:31:08 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 37
2025-11-17 22:31:13 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 38
2025-11-17 22:31:13 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 39
2025-11-17 22:31:14 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:31:14 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:31:14 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:31:15 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 40
2025-11-17 22:31:15 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 41
2025-11-17 22:31:15 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:31:16 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:31:16 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:31:19 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 42
2025-11-17 22:31:19 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 43
2025-11-17 22:31:20 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 44
2025-11-17 22:31:21 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 45
2025-11-17 22:31:21 - asyncio - ERROR - default_exception_handler:1758 - Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Users\minem\AppData\Roaming\uv\python\cpython-3.10.16-windows-x86_64-none\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\minem\AppData\Roaming\uv\python\cpython-3.10.16-windows-x86_64-none\lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
2025-11-17 22:31:22 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 46
2025-11-17 22:31:22 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 47
2025-11-17 22:31:23 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:31:23 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:31:23 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:31:24 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 48
2025-11-17 22:31:25 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 49
2025-11-17 22:31:27 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 50
2025-11-17 22:33:40 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 51
2025-11-17 22:33:41 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 52
2025-11-17 22:33:41 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:33:41 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:33:42 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:33:46 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 53
2025-11-17 22:34:24 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 22:34:24 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 22:34:24 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 22:34:24 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 22:34:24 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 22:34:25 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 22:34:25 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 22:34:25 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 22:34:25 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 22:34:25 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 22:34:25 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 22:34:26 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 22:34:27 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 22:34:28 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 22:34:29 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 22:34:29 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 22:34:29 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 22:34:30 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 22:34:30 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 22:34:30 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 22:34:31 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 22:34:31 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 22:34:31 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 22:34:31 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 22:34:31 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 22:34:31 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 22:34:32 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 22:34:32 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 22:34:32 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 22:34:32 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 22:34:32 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 22:34:32 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 22:34:32 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 22:34:32 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 22:34:32 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 22:34:32 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 22:34:32 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 22:34:32 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 22:34:32 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 22:34:32 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 22:34:32 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 22:34:32 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 22:34:32 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 22:34:32 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 22:34:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 22:34:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 22:34:33 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 22:34:33 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 22:34:33 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 22:34:33 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 8.44s
2025-11-17 22:34:33 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 67a8e09a-4859-4ac7-9bf5-66b060ec21f6 with 13 river stations
2025-11-17 22:34:33 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=67a8e09a-4859-4ac7-9bf5-66b060ec21f6
2025-11-17 22:34:33 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 22:34:33 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 22:34:33 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 22:34:33 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 22:34:33 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 22:34:33 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 22:34:33 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 22:34:33 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 22:34:33 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 22:34:33 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 22:34:33 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 22:34:33 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 22:34:33 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 22:34:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 22:34:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 22:34:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 35932 edges. Distribution: low=35932, moderate=0, high=0, critical=0
2025-11-17 22:34:33 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 22:34:34 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 35932 edges in the environment
2025-11-17 22:34:34 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 22:34:34 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 8.20s
2025-11-17 22:34:34 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 39f18853-386a-4b7e-be13-b36f41af6f68 with 13 river stations
2025-11-17 22:34:34 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=39f18853-386a-4b7e-be13-b36f41af6f68
2025-11-17 22:34:34 - app.main - DEBUG - broadcast:164 - Successfully serialized message of type: flood_update
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:34:34 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:34:34 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:34:34 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:34:34 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:34:34 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:34:34 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:34:34 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:34:34 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:34:34 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 52
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 51
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 50
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 49
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 48
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 47
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 46
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 45
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 44
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 43
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 42
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 41
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 40
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 39
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 38
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 37
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 36
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 35
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 34
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 33
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 32
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 31
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 30
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 29
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 28
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 27
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 26
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 25
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 24
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 23
2025-11-17 22:34:34 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 22
2025-11-17 22:34:34 - app.main - INFO - broadcast_flood_update:231 - Broadcasted flood update to 22 clients
2025-11-17 22:34:34 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 22:34:34 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 22:35:42 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 23
2025-11-17 22:35:42 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 24
2025-11-17 22:35:47 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 25
2025-11-17 22:35:47 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 26
2025-11-17 22:36:06 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 27
2025-11-17 22:36:06 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 28
2025-11-17 22:36:06 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 29
2025-11-17 22:36:07 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 30
2025-11-17 22:36:07 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 31
2025-11-17 22:36:07 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:36:08 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:36:08 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:36:11 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 32
2025-11-17 22:36:11 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 33
2025-11-17 22:36:11 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 34
2025-11-17 22:36:12 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 35
2025-11-17 22:36:12 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 36
2025-11-17 22:36:12 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 37
2025-11-17 22:37:23 - asyncio - ERROR - default_exception_handler:1758 - Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Users\minem\AppData\Roaming\uv\python\cpython-3.10.16-windows-x86_64-none\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\minem\AppData\Roaming\uv\python\cpython-3.10.16-windows-x86_64-none\lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
2025-11-17 22:39:33 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 22:39:33 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 22:39:33 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 22:39:33 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 22:39:33 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 22:39:34 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 22:39:34 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 22:39:34 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 22:39:34 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 22:39:34 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 22:39:34 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 22:39:35 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 22:39:36 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 22:39:36 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 22:39:38 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 22:39:38 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 22:39:38 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 22:39:38 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 22:39:38 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 22:39:38 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 22:39:40 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 22:39:40 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 22:39:40 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 22:39:40 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 22:39:40 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 22:39:40 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 22:39:41 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 22:39:41 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 22:39:41 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 22:39:41 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 22:39:41 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 22:39:41 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 22:39:42 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 22:39:42 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 22:39:42 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 22:39:42 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 22:39:42 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 22:39:42 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 22:39:42 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 22:39:42 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 22:39:42 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 22:39:42 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 22:39:42 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 22:39:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 22:39:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 22:39:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 35932 edges. Distribution: low=35932, moderate=0, high=0, critical=0
2025-11-17 22:39:42 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 22:39:42 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 35932 edges in the environment
2025-11-17 22:39:42 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 22:39:42 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 8.48s
2025-11-17 22:39:42 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 8caeb553-43d5-451a-ad1b-b07b91248d15 with 13 river stations
2025-11-17 22:39:42 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=8caeb553-43d5-451a-ad1b-b07b91248d15
2025-11-17 22:39:42 - app.main - DEBUG - broadcast:164 - Successfully serialized message of type: flood_update
2025-11-17 22:39:42 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:39:42 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:39:42 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:39:42 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:39:42 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:39:42 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:39:42 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:39:42 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:39:42 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:39:42 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:39:42 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:39:42 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:39:42 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:39:42 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:39:42 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:39:42 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:39:42 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:39:42 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:39:42 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:39:42 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:39:42 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:39:42 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:39:42 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:39:42 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:39:42 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:39:42 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:39:42 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:39:42 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:39:42 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:39:42 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:39:42 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:39:42 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:39:42 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:39:42 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:39:42 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:39:42 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:39:42 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:39:42 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 36
2025-11-17 22:39:42 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 35
2025-11-17 22:39:42 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 34
2025-11-17 22:39:42 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 33
2025-11-17 22:39:42 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 32
2025-11-17 22:39:42 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 31
2025-11-17 22:39:42 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 30
2025-11-17 22:39:42 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 29
2025-11-17 22:39:42 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 28
2025-11-17 22:39:42 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 27
2025-11-17 22:39:42 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 26
2025-11-17 22:39:42 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 25
2025-11-17 22:39:42 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 24
2025-11-17 22:39:42 - app.main - INFO - broadcast_flood_update:231 - Broadcasted flood update to 24 clients
2025-11-17 22:39:42 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 22:39:42 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 22:39:43 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 22:39:43 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 22:39:43 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 22:39:43 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 22:39:43 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 22:39:43 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 22:39:43 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 22:39:43 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 22:39:43 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 22:39:43 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 22:39:43 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 22:39:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 22:39:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 22:39:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 22:39:43 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 22:39:43 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 22:39:43 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 22:39:43 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 10.27s
2025-11-17 22:39:43 - app.database.repository - INFO - create_collection:104 - Saved flood data collection b3cfa5c9-3e5a-489a-9e6d-4577eae2275e with 13 river stations
2025-11-17 22:39:43 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=b3cfa5c9-3e5a-489a-9e6d-4577eae2275e
2025-11-17 22:39:43 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 22:39:43 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 22:40:06 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 25
2025-11-17 22:40:06 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 26
2025-11-17 22:40:06 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 27
2025-11-17 22:40:11 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 28
2025-11-17 22:40:12 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 29
2025-11-17 22:40:12 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 30
2025-11-17 22:40:35 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 31
2025-11-17 22:40:40 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 32
2025-11-17 22:41:02 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 33
2025-11-17 22:41:03 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 34
2025-11-17 22:41:03 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:41:03 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:41:04 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:41:08 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 35
2025-11-17 22:44:42 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 22:44:42 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 22:44:42 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 22:44:42 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 22:44:42 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 22:44:43 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 22:44:43 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 22:44:43 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 22:44:43 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 22:44:43 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 22:44:43 - app.main - INFO - get_route:532 - Route request: (14.6330712, 121.0991601) -> (14.6508826, 121.1209165)
2025-11-17 22:44:43 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.6330712, 121.0991601) -> (14.6508826, 121.1209165)
2025-11-17 22:44:43 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 1300400339 to 13154554899 (risk_weight=0.6, distance_weight=0.4)
2025-11-17 22:44:43 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 157 nodes. Blocked 0 edges during search.
2025-11-17 22:44:43 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=4470m, risk=0.00
2025-11-17 22:44:43 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 22:44:44 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 22:44:47 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 22:44:47 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 22:44:49 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 22:44:49 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 22:44:49 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 22:44:49 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 22:44:49 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 22:44:49 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 22:44:51 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 22:44:51 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 22:44:51 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 22:44:51 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 22:44:51 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 22:44:51 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 22:44:51 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 22:44:51 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 22:44:51 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 22:44:51 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 22:44:51 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 22:44:51 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 22:44:52 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 22:44:52 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 22:44:52 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 22:44:52 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 22:44:52 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 22:44:52 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 22:44:52 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 22:44:52 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 22:44:52 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 22:44:52 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 22:44:52 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 22:44:52 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 22:44:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 22:44:53 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 22:44:53 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 22:44:53 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 22:44:53 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 22:44:53 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 9.60s
2025-11-17 22:44:53 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 821ea736-6857-49cb-a5fe-92038b0bf914 with 13 river stations
2025-11-17 22:44:53 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=821ea736-6857-49cb-a5fe-92038b0bf914
2025-11-17 22:44:53 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 22:44:53 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 22:44:53 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 22:44:53 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 22:44:53 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 22:44:53 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 22:44:53 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 22:44:53 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 22:44:53 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 22:44:53 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 22:44:53 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 22:44:53 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 22:44:53 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 22:44:53 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 22:44:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 22:44:53 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 35932 edges. Distribution: low=35932, moderate=0, high=0, critical=0
2025-11-17 22:44:53 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 22:44:53 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 35932 edges in the environment
2025-11-17 22:44:53 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 22:44:53 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 11.38s
2025-11-17 22:44:53 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 08b6c46a-81f8-4122-bb38-db9b758f4731 with 13 river stations
2025-11-17 22:44:53 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=08b6c46a-81f8-4122-bb38-db9b758f4731
2025-11-17 22:44:53 - app.main - DEBUG - broadcast:164 - Successfully serialized message of type: flood_update
2025-11-17 22:44:53 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:53 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:53 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:53 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:44:54 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 34
2025-11-17 22:44:54 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 33
2025-11-17 22:44:54 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 32
2025-11-17 22:44:54 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 31
2025-11-17 22:44:54 - app.main - INFO - broadcast_flood_update:231 - Broadcasted flood update to 31 clients
2025-11-17 22:44:54 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 22:44:54 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 22:47:45 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 32
2025-11-17 22:47:45 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 33
2025-11-17 22:47:46 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 34
2025-11-17 22:47:46 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:47:46 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:47:47 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:47:48 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 35
2025-11-17 22:47:49 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 36
2025-11-17 22:47:49 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:47:49 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:47:49 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:47:50 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 37
2025-11-17 22:47:50 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 38
2025-11-17 22:47:54 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 39
2025-11-17 22:48:23 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 40
2025-11-17 22:48:24 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 41
2025-11-17 22:48:24 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:48:24 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:48:25 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:48:28 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 42
2025-11-17 22:48:28 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:48:28 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:48:28 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:48:29 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 43
2025-11-17 22:48:31 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 44
2025-11-17 22:48:31 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 45
2025-11-17 22:48:31 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:48:31 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:48:32 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:48:36 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 46
2025-11-17 22:49:53 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 22:49:53 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 22:49:53 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 22:49:53 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 22:49:53 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 22:49:53 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 22:49:54 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 22:49:54 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 22:49:54 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 22:49:54 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 22:49:54 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 22:49:55 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 22:49:58 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 22:49:58 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 22:50:00 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 22:50:00 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 22:50:00 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 22:50:00 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 22:50:00 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 22:50:00 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 22:50:02 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 22:50:02 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 22:50:02 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 22:50:02 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 22:50:02 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 22:50:02 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 22:50:03 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 22:50:03 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 22:50:03 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 22:50:03 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 22:50:03 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 22:50:03 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 22:50:04 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 22:50:04 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 22:50:04 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 22:50:04 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 22:50:04 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 22:50:04 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 22:50:04 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 22:50:04 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 22:50:04 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 22:50:04 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 22:50:04 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 22:50:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 22:50:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 22:50:04 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 22:50:04 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 22:50:04 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 22:50:04 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 22:50:04 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 22:50:04 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 22:50:04 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 22:50:04 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 22:50:04 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 22:50:04 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 22:50:04 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 22:50:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 22:50:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 22:50:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 22:50:05 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 22:50:05 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 22:50:05 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 22:50:05 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 11.98s
2025-11-17 22:50:05 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 80c41de0-838f-4dd8-ac5f-3201e68ab76e with 13 river stations
2025-11-17 22:50:05 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=80c41de0-838f-4dd8-ac5f-3201e68ab76e
2025-11-17 22:50:05 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 22:50:05 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 22:50:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 35932 edges. Distribution: low=35932, moderate=0, high=0, critical=0
2025-11-17 22:50:05 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 22:50:05 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 35932 edges in the environment
2025-11-17 22:50:05 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 22:50:05 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 11.37s
2025-11-17 22:50:05 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 3da0969c-b7ff-4191-be9c-c925a9c38035 with 13 river stations
2025-11-17 22:50:05 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=3da0969c-b7ff-4191-be9c-c925a9c38035
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:164 - Successfully serialized message of type: flood_update
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:50:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:50:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:50:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:50:05 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:50:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 45
2025-11-17 22:50:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 44
2025-11-17 22:50:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 43
2025-11-17 22:50:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 42
2025-11-17 22:50:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 41
2025-11-17 22:50:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 40
2025-11-17 22:50:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 39
2025-11-17 22:50:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 38
2025-11-17 22:50:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 37
2025-11-17 22:50:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 36
2025-11-17 22:50:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 35
2025-11-17 22:50:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 34
2025-11-17 22:50:05 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 33
2025-11-17 22:50:05 - app.main - INFO - broadcast_flood_update:231 - Broadcasted flood update to 33 clients
2025-11-17 22:50:05 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 22:50:05 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 22:53:45 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 34
2025-11-17 22:53:45 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 35
2025-11-17 22:53:47 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 36
2025-11-17 22:53:47 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 37
2025-11-17 22:53:48 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:53:49 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:53:50 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:53:51 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 38
2025-11-17 22:53:51 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 39
2025-11-17 22:53:53 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 40
2025-11-17 22:54:01 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 41
2025-11-17 22:54:01 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 42
2025-11-17 22:54:07 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 43
2025-11-17 22:54:07 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 44
2025-11-17 22:54:09 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:54:10 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:54:10 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:54:11 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 45
2025-11-17 22:54:12 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 46
2025-11-17 22:54:13 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:54:13 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:54:13 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:54:17 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 47
2025-11-17 22:54:20 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 48
2025-11-17 22:54:20 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 49
2025-11-17 22:54:20 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 50
2025-11-17 22:54:22 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:54:22 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:54:22 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:54:25 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 51
2025-11-17 22:55:05 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 22:55:05 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 22:55:05 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 22:55:05 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 22:55:05 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 22:55:05 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-17 22:55:05 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-17 22:55:05 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-17 22:55:05 - services.river_scraper_service - INFO - get_river_levels:55 - Fetching river data from PAGASA website using Selenium
2025-11-17 22:55:05 - services.river_scraper_service - INFO - get_river_levels:70 - Launching Chrome browser...
2025-11-17 22:55:07 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 22:55:07 - services.river_scraper_service - INFO - get_river_levels:74 - Navigating to https://pasig-marikina-tullahanffws.pagasa.dost.gov.ph/water/map.do...
2025-11-17 22:55:09 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 22:55:09 - services.river_scraper_service - INFO - get_river_levels:78 - Waiting for table to load...
2025-11-17 22:55:11 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 22:55:11 - services.river_scraper_service - INFO - get_river_levels:99 - Found table 'table-type1'. Parsing with Pandas...
2025-11-17 22:55:11 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 22:55:11 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 22:55:11 - services.river_scraper_service - INFO - _process_dataframe:136 - Processing DataFrame into clean station data
2025-11-17 22:55:11 - services.river_scraper_service - INFO - get_river_levels:108 - Successfully scraped 14 stations
2025-11-17 22:55:13 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 22:55:13 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 22:55:13 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 22:55:13 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 4 Marikina stations. Statuses: ['alert', 'alert', 'normal', 'normal']
2025-11-17 22:55:13 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 4 stations
2025-11-17 22:55:13 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-17 22:55:13 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 22:55:13 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 22:55:13 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 22:55:13 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 0.0mm 24h forecast, intensity=none
2025-11-17 22:55:13 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-17 22:55:13 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-17 22:55:14 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 22:55:14 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 22:55:14 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 22:55:14 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 22:55:14 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 22:55:14 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 22:55:14 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 22:55:14 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 22:55:14 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 22:55:14 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 22:55:14 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 22:55:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 22:55:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 22:55:14 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-17 22:55:14 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'alarm', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alarm']
2025-11-17 22:55:14 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-17 22:55:14 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 14 data points to HazardAgent
2025-11-17 22:55:14 - app.agents.flood_agent - INFO - send_to_hazard_agent:870 - flood_agent_001 sending 14 data points to HazardAgent (batched)
2025-11-17 22:55:14 - app.agents.hazard_agent - INFO - process_flood_data_batch:243 - hazard_agent_001 received batched flood data for 14 locations
2025-11-17 22:55:14 - app.agents.hazard_agent - INFO - process_flood_data_batch:268 - hazard_agent_001 cached 14 valid data points (0 invalid)
2025-11-17 22:55:14 - app.agents.hazard_agent - INFO - process_flood_data_batch:275 - hazard_agent_001 triggering hazard processing after batch update
2025-11-17 22:55:14 - app.agents.hazard_agent - INFO - process_and_update:171 - hazard_agent_001 processing hazard data...
2025-11-17 22:55:14 - app.agents.hazard_agent - DEBUG - fuse_data:334 - hazard_agent_001 fusing data from multiple sources
2025-11-17 22:55:14 - app.agents.hazard_agent - INFO - fuse_data:383 - Data fusion complete for 14 locations
2025-11-17 22:55:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:598 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-17 22:55:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:457 - GeoTIFF integration disabled - skipping flood depth queries
2025-11-17 22:55:15 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 20124 edges. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-17 22:55:15 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 22:55:15 - app.agents.hazard_agent - INFO - calculate_risk_scores:654 - Calculated risk scores for 35932 edges. Distribution: low=35932, moderate=0, high=0, critical=0
2025-11-17 22:55:15 - app.agents.hazard_agent - DEBUG - update_environment:670 - hazard_agent_001 updating environment with risk scores
2025-11-17 22:55:15 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 20124 edges in the environment
2025-11-17 22:55:15 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 22:55:15 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 9.88s
2025-11-17 22:55:15 - app.agents.hazard_agent - INFO - update_environment:682 - Updated 35932 edges in the environment
2025-11-17 22:55:15 - app.agents.flood_agent - INFO - send_to_hazard_agent:883 - flood_agent_001 successfully forwarded batched data to hazard_agent_001
2025-11-17 22:55:15 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 14 data points in 9.70s
2025-11-17 22:55:15 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 69c752bd-d928-4b0f-869b-fb9c8fced304 with 13 river stations
2025-11-17 22:55:15 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=69c752bd-d928-4b0f-869b-fb9c8fced304
2025-11-17 22:55:15 - app.main - DEBUG - broadcast:164 - Successfully serialized message of type: flood_update
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:55:15 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:55:15 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:55:15 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:55:15 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:55:15 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.database.repository - INFO - create_collection:104 - Saved flood data collection f308d18f-d3b9-4586-bbd6-aa888d6dc736 with 13 river stations
2025-11-17 22:55:15 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=f308d18f-d3b9-4586-bbd6-aa888d6dc736
2025-11-17 22:55:15 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:55:15 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:55:15 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 22:55:15 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 22:55:15 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:55:15 - app.main - DEBUG - broadcast:189 - send_text successful
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - INFO - broadcast:191 - WebSocket disconnected during broadcast
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 50
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 49
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 48
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 47
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 46
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 45
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 44
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 43
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 42
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 41
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 40
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 39
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 38
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 37
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 36
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 35
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 34
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 33
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 32
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 31
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 30
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 29
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 28
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 27
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 26
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 25
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 24
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 23
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 22
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 21
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 20
2025-11-17 22:55:15 - app.main - INFO - disconnect:146 - WebSocket disconnected. Total connections: 19
2025-11-17 22:55:15 - app.main - INFO - broadcast_flood_update:231 - Broadcasted flood update to 19 clients
2025-11-17 22:55:15 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-17 22:55:15 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-17 22:55:24 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 20
2025-11-17 22:55:24 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 21
2025-11-17 22:55:24 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 22
2025-11-17 22:55:26 - app.api.graph_routes - INFO - get_graph_edges_geojson:59 - Fetching graph edges for GeoJSON conversion
2025-11-17 22:55:26 - app.api.graph_routes - INFO - get_graph_edges_geojson:133 - Returning all 35932 edges (no sampling)
2025-11-17 22:55:27 - app.api.graph_routes - INFO - get_graph_edges_geojson:194 - Returning 35932 edges as GeoJSON
2025-11-17 22:55:29 - app.main - INFO - connect:137 - WebSocket connected. Total connections: 23
