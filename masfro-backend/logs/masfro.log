2025-11-12 20:23:59 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-12 20:23:59 - app.main - INFO - <module>:377 - Initializing MAS-FRO Multi-Agent System...
2025-11-12 20:24:00 - app.communication.message_queue - INFO - __init__:46 - MessageQueue system initialized
2025-11-12 20:24:00 - app.agents.hazard_agent_001 - INFO - __init__:36 - Agent hazard_agent_001 created
2025-11-12 20:24:00 - services.geotiff_service - INFO - __init__:82 - GeoTIFFService initialized: 4 return periods, 18 time steps
2025-11-12 20:24:00 - services.geotiff_service - INFO - __init__:86 - Using manual coordinate mapping: center=(14.6456, 121.10305)
2025-11-12 20:24:00 - app.agents.hazard_agent - INFO - __init__:95 - hazard_agent_001 initialized GeoTIFFService
2025-11-12 20:24:00 - app.agents.hazard_agent - INFO - __init__:107 - hazard_agent_001 initialized with risk weights: {'flood_depth': 0.5, 'crowdsourced': 0.3, 'historical': 0.2}, return_period: rr01, time_step: 1
2025-11-12 20:24:00 - app.agents.flood_agent_001 - INFO - __init__:36 - Agent flood_agent_001 created
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - __init__:106 - flood_agent_001 initialized RiverScraperService
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - __init__:114 - flood_agent_001 initialized OpenWeatherMapService
2025-11-12 20:24:00 - services.dam_water_scraper_service - INFO - __init__:164 - DamWaterScraperService initialized
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - __init__:125 - flood_agent_001 initialized DamWaterScraperService
2025-11-12 20:24:00 - services.data_sources - INFO - __init__:309 - DataCollector initialized: simulated=False, pagasa=False, noah=False, mmda=False
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - __init__:153 - flood_agent_001 initialized with update interval 300s, real_apis=True, simulated=False
2025-11-12 20:24:00 - app.agents.routing_agent_001 - INFO - __init__:36 - Agent routing_agent_001 created
2025-11-12 20:24:00 - app.agents.routing_agent - INFO - _load_evacuation_centers:402 - Loaded 36 evacuation centers from C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\data\evacuation_centers.csv
2025-11-12 20:24:00 - app.agents.routing_agent - INFO - __init__:71 - routing_agent_001 initialized with risk_weight=0.6, distance_weight=0.4, evacuation_centers=36
2025-11-12 20:24:00 - app.agents.evac_manager_001 - INFO - __init__:36 - Agent evac_manager_001 created
2025-11-12 20:24:00 - app.agents.evacuation_manager_agent - INFO - __init__:90 - evac_manager_001 initialized
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - set_hazard_agent:167 - flood_agent_001 linked to hazard_agent_001
2025-11-12 20:24:00 - app.agents.evacuation_manager_agent - INFO - set_hazard_agent:126 - evac_manager_001 linked to hazard_agent_001
2025-11-12 20:24:00 - app.agents.evacuation_manager_agent - INFO - set_routing_agent:116 - evac_manager_001 linked to routing_agent_001
2025-11-12 20:24:00 - app.services.flood_data_scheduler - INFO - __init__:71 - FloodDataScheduler initialized with interval=300s (5.0 minutes), WebSocket broadcasting=enabled
2025-11-12 20:24:00 - app.main - INFO - <module>:425 - MAS-FRO system initialized successfully
2025-11-12 20:24:00 - app.core.logging_config - INFO - setup_logging:101 - Logging configuration initialized
2025-11-12 20:24:00 - app.main - INFO - startup_event:434 - ============================================================
2025-11-12 20:24:00 - app.main - INFO - startup_event:435 - MAS-FRO Backend Starting Up
2025-11-12 20:24:00 - app.main - INFO - startup_event:436 - ============================================================
2025-11-12 20:24:00 - app.main - INFO - startup_event:437 - Structured logging initialized - logs written to logs/masfro.log
2025-11-12 20:24:00 - app.main - INFO - startup_event:440 - Checking database connection...
2025-11-12 20:24:00 - app.database.connection - INFO - check_connection:92 - [OK] Database connection successful
2025-11-12 20:24:00 - app.main - INFO - startup_event:442 - Database connection successful
2025-11-12 20:24:00 - app.database.connection - INFO - init_db:76 - [OK] Database tables created successfully
2025-11-12 20:24:00 - app.main - INFO - startup_event:449 - Starting background scheduler...
2025-11-12 20:24:00 - app.services.flood_data_scheduler - INFO - start:265 - [OK] FloodDataScheduler started (interval=300s)
2025-11-12 20:24:00 - app.main - INFO - startup_event:453 - Automated flood data collection started (every 5 minutes)
2025-11-12 20:24:00 - app.services.flood_data_scheduler - INFO - _collection_loop:179 - FloodDataScheduler started
2025-11-12 20:24:00 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 20:24:00 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 20:24:01 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 4.9mm 24h forecast, intensity=none
2025-11-12 20:24:01 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 20:24:01 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 20:24:01 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 20:24:01 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 20:24:01 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 20:24:01 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 20:24:01 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 20:24:01 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 20:24:01 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 20:24:01 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:01 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:01 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:01 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 1 locations
2025-11-12 20:24:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 2 locations
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 3 locations
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 4 locations
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 5 locations
2025-11-12 20:24:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 6 locations
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 7 locations
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 8 locations
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 9 locations
2025-11-12 20:24:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 10 locations
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 11 locations
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 12 locations
2025-11-12 20:24:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 13 locations
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 14 locations
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:24:05 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:24:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:24:06 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:24:06 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:24:06 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:24:06 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 20:24:06 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 5.61s
2025-11-12 20:24:06 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 1ec8589d-7509-4bd9-8a24-9d5433ec8db1 with 14 river stations
2025-11-12 20:24:06 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=1ec8589d-7509-4bd9-8a24-9d5433ec8db1
2025-11-12 20:24:06 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 20:24:06 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 20:28:25 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 1
2025-11-12 20:28:25 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 2
2025-11-12 20:28:25 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 3
2025-11-12 20:28:30 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 4
2025-11-12 20:29:06 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 20:29:06 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 20:29:06 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 20:29:06 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 20:29:06 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 20:29:06 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 20:29:06 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 4.9mm 24h forecast, intensity=none
2025-11-12 20:29:06 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 20:29:06 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 20:29:07 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 20:29:07 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 20:29:07 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 20:29:07 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 20:29:07 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 20:29:07 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 20:29:07 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 20:29:07 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:07 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:07 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:07 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:07 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:08 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 20:29:08 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:08 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:08 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:08 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 20:29:08 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:08 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:08 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:10 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 20:29:10 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:10 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:10 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:10 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 20:29:10 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:10 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:10 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:11 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 20:29:11 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:11 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:11 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:11 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:11 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 20:29:12 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:12 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:12 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 20:29:12 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:12 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:12 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:13 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:13 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:14 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 20:29:14 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:29:14 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:29:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:29:14 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:29:14 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:29:14 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 20:29:14 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 8.52s
2025-11-12 20:29:14 - app.database.repository - INFO - create_collection:104 - Saved flood data collection a308b42c-e022-4fa0-9f27-4abbcf8f9dc8 with 14 river stations
2025-11-12 20:29:14 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=a308b42c-e022-4fa0-9f27-4abbcf8f9dc8
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6094, type: <class 'str'>
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6094, type: <class 'str'>
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6094, type: <class 'str'>
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:29:14 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 20:29:14 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 20:29:14 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:29:06.390386", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:29:06.390386", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:29:06.390386", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:29:06.390386", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:29:06.390386", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 4.92, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.8, "humidity_pct": 84, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T20:00:00", "rain_mm": 0.0, "temp_c": 28.8, "humidity_pct": 84, "pop": 0}, {"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.48, "humidity_pct": 83, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.05, "humidity_pct": 83, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 27.5, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 26.9, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.16, "humidity_pct": 86, "pop": 0}], "timestamp": "2025-11-12T20:29:06.572371", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T20:29:07.721848", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T20:29:14.773941", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 20:29:14 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6094, type: <class 'str'>
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:29:14 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:29:14 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 3
2025-11-12 20:29:14 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 20:29:14 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 20:29:14 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 20:30:32 - app.main - INFO - get_route:507 - Route request: (14.632850588665193, 121.08317709343379) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:30:32 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.632850588665193, 121.08317709343379) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:30:32 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 6773333505 to 32210237 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:30:32 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 60 nodes. Blocked 0 edges during search.
2025-11-12 20:30:32 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=1625m, risk=0.00
2025-11-12 20:30:43 - app.main - INFO - get_route:507 - Route request: (14.642154232149835, 121.08724640229883) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:30:43 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.642154232149835, 121.08724640229883) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:30:43 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 318616582 to 32210237 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:30:43 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 68 nodes. Blocked 0 edges during search.
2025-11-12 20:30:43 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=1423m, risk=0.00
2025-11-12 20:31:22 - app.main - INFO - get_route:507 - Route request: (14.642154232149835, 121.08724640229883) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:31:22 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.642154232149835, 121.08724640229883) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:31:22 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 318616582 to 32210237 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:31:22 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 68 nodes. Blocked 0 edges during search.
2025-11-12 20:31:22 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=1423m, risk=0.00
2025-11-12 20:32:01 - app.main - INFO - get_route:507 - Route request: (14.642154232149835, 121.08724640229883) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:32:01 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.642154232149835, 121.08724640229883) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:32:01 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 318616582 to 32210237 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:01 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 68 nodes. Blocked 0 edges during search.
2025-11-12 20:32:01 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=1423m, risk=0.00
2025-11-12 20:32:02 - app.main - INFO - get_route:507 - Route request: (14.642154232149835, 121.08724640229883) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:32:02 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.642154232149835, 121.08724640229883) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:32:02 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 318616582 to 32210237 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:02 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 68 nodes. Blocked 0 edges during search.
2025-11-12 20:32:02 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=1423m, risk=0.00
2025-11-12 20:32:08 - app.main - INFO - get_route:507 - Route request: (14.645062973471653, 121.09091600225071) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:32:08 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.645062973471653, 121.09091600225071) -> (14.635440923801553, 121.09661324325799)
2025-11-12 20:32:08 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 318616580 to 32210237 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:08 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 70 nodes. Blocked 0 edges during search.
2025-11-12 20:32:08 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=1531m, risk=0.00
2025-11-12 20:32:30 - app.main - INFO - get_route:507 - Route request: (14.63777480232011, 121.09795331953302) -> (14.642440445983851, 121.09974194281733)
2025-11-12 20:32:30 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.63777480232011, 121.09795331953302) -> (14.642440445983851, 121.09974194281733)
2025-11-12 20:32:30 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 21322195 to 21322197 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:30 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 11 nodes. Blocked 0 edges during search.
2025-11-12 20:32:30 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=683m, risk=0.00
2025-11-12 20:32:35 - app.main - INFO - get_route:507 - Route request: (14.63777480232011, 121.09795331953302) -> (14.642440445983851, 121.09974194281733)
2025-11-12 20:32:35 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.63777480232011, 121.09795331953302) -> (14.642440445983851, 121.09974194281733)
2025-11-12 20:32:35 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 21322195 to 21322197 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:35 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 11 nodes. Blocked 0 edges during search.
2025-11-12 20:32:35 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=683m, risk=0.00
2025-11-12 20:32:44 - app.main - INFO - get_route:507 - Route request: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:44 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:44 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 11481203584 to 21322197 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:44 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 16 nodes. Blocked 0 edges during search.
2025-11-12 20:32:44 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=905m, risk=0.00
2025-11-12 20:32:48 - app.main - INFO - get_route:507 - Route request: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:48 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:48 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 11481203584 to 21322197 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:48 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 16 nodes. Blocked 0 edges during search.
2025-11-12 20:32:48 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=905m, risk=0.00
2025-11-12 20:32:49 - app.main - INFO - get_route:507 - Route request: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:49 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:49 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 11481203584 to 21322197 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:49 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 16 nodes. Blocked 0 edges during search.
2025-11-12 20:32:49 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=905m, risk=0.00
2025-11-12 20:32:49 - app.main - INFO - get_route:507 - Route request: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:49 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:49 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 11481203584 to 21322197 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:49 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 16 nodes. Blocked 0 edges during search.
2025-11-12 20:32:49 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=905m, risk=0.00
2025-11-12 20:32:49 - app.main - INFO - get_route:507 - Route request: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:49 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.639453585561498, 121.09838227559862) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:32:49 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 11481203584 to 21322197 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:32:49 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 16 nodes. Blocked 0 edges during search.
2025-11-12 20:32:49 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=905m, risk=0.00
2025-11-12 20:34:14 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 20:34:14 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 20:34:14 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 20:34:14 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 20:34:14 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 20:34:14 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 20:34:15 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 4.9mm 24h forecast, intensity=none
2025-11-12 20:34:15 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 20:34:15 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 20:34:16 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 20:34:16 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 20:34:16 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 20:34:16 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 20:34:16 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 20:34:16 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 20:34:16 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 20:34:16 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:16 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:16 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:16 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:16 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:18 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 20:34:18 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:18 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:18 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 20:34:18 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:18 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:19 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 20:34:19 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:19 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:19 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 20:34:19 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:19 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:21 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 20:34:21 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:21 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:21 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:21 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 20:34:21 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:21 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:21 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:21 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:22 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 20:34:22 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:22 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:22 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:22 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 20:34:22 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:34:22 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:34:22 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:34:22 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:34:23 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:34:23 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:34:23 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:34:23 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:34:23 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 20:34:23 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 8.53s
2025-11-12 20:34:23 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 0d1ee3aa-406a-46ef-9332-68924b3029b1 with 14 river stations
2025-11-12 20:34:23 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=0d1ee3aa-406a-46ef-9332-68924b3029b1
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:34:23 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:34:23 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 20:34:23 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 20:34:23 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 20:37:27 - app.main - INFO - get_route:507 - Route request: (14.655187948704992, 121.09218890763293) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:37:27 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.655187948704992, 121.09218890763293) -> (14.642429249364099, 121.09976269693004)
2025-11-12 20:37:27 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 875474757 to 21322197 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:37:27 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 114 nodes. Blocked 0 edges during search.
2025-11-12 20:37:27 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=3156m, risk=0.00
2025-11-12 20:37:46 - app.main - INFO - get_route:507 - Route request: (14.655187948704992, 121.09218890763293) -> (14.655273147099777, 121.09904711264363)
2025-11-12 20:37:46 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.655187948704992, 121.09218890763293) -> (14.655273147099777, 121.09904711264363)
2025-11-12 20:37:46 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 875474757 to 33120912 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:37:46 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 37 nodes. Blocked 0 edges during search.
2025-11-12 20:37:46 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=981m, risk=0.01
2025-11-12 20:37:52 - app.main - INFO - get_route:507 - Route request: (14.655736076733646, 121.09262977526254) -> (14.655273147099777, 121.09904711264363)
2025-11-12 20:37:52 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.655736076733646, 121.09262977526254) -> (14.655273147099777, 121.09904711264363)
2025-11-12 20:37:52 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 875474974 to 33120912 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:37:52 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 36 nodes. Blocked 0 edges during search.
2025-11-12 20:37:52 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=876m, risk=0.01
2025-11-12 20:38:00 - app.main - INFO - get_route:507 - Route request: (14.655877813989392, 121.09220169503607) -> (14.655273147099777, 121.09904711264363)
2025-11-12 20:38:00 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.655877813989392, 121.09220169503607) -> (14.655273147099777, 121.09904711264363)
2025-11-12 20:38:00 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 875474956 to 33120912 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:38:00 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 37 nodes. Blocked 0 edges during search.
2025-11-12 20:38:00 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=925m, risk=0.01
2025-11-12 20:39:23 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 20:39:23 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 20:39:23 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 20:39:23 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 20:39:23 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 20:39:23 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 20:39:23 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 4.9mm 24h forecast, intensity=none
2025-11-12 20:39:23 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 20:39:23 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 20:39:24 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 20:39:24 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 20:39:24 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 20:39:24 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 20:39:24 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 20:39:24 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 20:39:24 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 20:39:24 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:24 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:24 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:24 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:24 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:24 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:25 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:25 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:26 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:26 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:27 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 20:39:27 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:27 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:27 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:27 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 20:39:27 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:27 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:27 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:27 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:28 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 20:39:28 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:28 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:28 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:28 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 20:39:28 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:28 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:28 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:28 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:29 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 20:39:29 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:29 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:29 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:29 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 20:39:29 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:29 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:29 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:29 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:39:30 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:39:30 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:39:31 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:39:31 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:39:31 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:39:31 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:39:31 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 20:39:31 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 7.99s
2025-11-12 20:39:31 - app.database.repository - INFO - create_collection:104 - Saved flood data collection eb6a2a96-2483-45e9-8409-a78df02f307c with 14 river stations
2025-11-12 20:39:31 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=eb6a2a96-2483-45e9-8409-a78df02f307c
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:39:31 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:39:31 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 3 clients
2025-11-12 20:39:31 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 20:39:31 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 20:40:06 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 4
2025-11-12 20:40:06 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 5
2025-11-12 20:40:11 - app.main - INFO - connect:130 - WebSocket connected. Total connections: 6
2025-11-12 20:44:31 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 20:44:31 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 20:44:31 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 20:44:31 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 20:44:31 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 20:44:31 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 20:44:31 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 4.9mm 24h forecast, intensity=none
2025-11-12 20:44:31 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 20:44:31 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 20:44:32 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 20:44:32 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 20:44:32 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 20:44:32 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 20:44:32 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 20:44:32 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 20:44:32 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 20:44:32 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:32 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:32 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:32 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:32 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:32 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:33 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 20:44:33 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:33 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:33 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 20:44:33 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:33 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:33 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:33 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:34 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 20:44:34 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:34 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:34 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 20:44:34 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:34 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:34 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:34 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:35 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 20:44:35 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:35 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:35 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:35 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 20:44:35 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:35 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:35 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:35 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:36 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 20:44:36 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:36 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:36 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:36 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 20:44:36 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:36 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:36 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:36 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:37 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 20:44:37 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:37 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:37 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:37 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 20:44:37 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:37 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:37 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:37 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:38 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:38 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:39 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 20:44:39 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:44:39 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:44:39 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:44:39 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:44:39 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:44:39 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 20:44:39 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 8.45s
2025-11-12 20:44:39 - app.database.repository - INFO - create_collection:104 - Saved flood data collection f970f276-9156-4daf-8265-9642273a50ca with 14 river stations
2025-11-12 20:44:39 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=f970f276-9156-4daf-8265-9642273a50ca
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:44:39 - app.main - ERROR - broadcast:173 - Error sending to WebSocket: 
2025-11-12 20:44:39 - app.main - ERROR - broadcast:174 - Exception type: WebSocketDisconnect
2025-11-12 20:44:39 - app.main - ERROR - broadcast:176 - Traceback: Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 331, in send
    output = self.conn.send(wsproto.events.Message(data=data))  # type: ignore
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\__init__.py", line 64, in send
    data += self.connection.send(event)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\wsproto\connection.py", line 107, in send
    raise LocalProtocolError(
wsproto.utilities.LocalProtocolError: Event Message(data='{"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm_level_m": 23.0, "critical_level_m": 23.6, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:44:31.545515", "source": "PAGASA_API"}, "Nangka": {"water_level_m": null, "alert_level_m": 16.5, "alarm_level_m": 17.1, "critical_level_m": 17.7, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:44:31.545515", "source": "PAGASA_API"}, "Rosario Bridge": {"water_level_m": null, "alert_level_m": 13.0, "alarm_level_m": 13.5, "critical_level_m": 14.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:44:31.545515", "source": "PAGASA_API"}, "Sto Nino": {"water_level_m": null, "alert_level_m": 15.0, "alarm_level_m": 16.0, "critical_level_m": 17.0, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:44:31.545515", "source": "PAGASA_API"}, "Tumana Bridge": {"water_level_m": null, "alert_level_m": 17.26, "alarm_level_m": 18.26, "critical_level_m": 19.26, "status": "normal", "risk_score": 0.0, "timestamp": "2025-11-12T20:44:31.545515", "source": "PAGASA_API"}, "Marikina_weather": {"location": "Marikina", "coordinates": [14.6507, 121.1029], "current_rainfall_mm": 0.0, "rainfall_24h_mm": 4.92, "forecast_6h_mm": 0.0, "intensity": "none", "temperature_c": 28.67, "humidity_pct": 84, "pressure_hpa": 1011, "forecast_hourly": [{"timestamp": "2025-11-12T20:00:00", "rain_mm": 0.0, "temp_c": 28.42, "humidity_pct": 83, "pop": 0}, {"timestamp": "2025-11-12T21:00:00", "rain_mm": 0.0, "temp_c": 28.67, "humidity_pct": 84, "pop": 0}, {"timestamp": "2025-11-12T22:00:00", "rain_mm": 0.0, "temp_c": 28.32, "humidity_pct": 83, "pop": 0}, {"timestamp": "2025-11-12T23:00:00", "rain_mm": 0.0, "temp_c": 27.85, "humidity_pct": 85, "pop": 0}, {"timestamp": "2025-11-13T00:00:00", "rain_mm": 0.0, "temp_c": 27.32, "humidity_pct": 86, "pop": 0}, {"timestamp": "2025-11-13T01:00:00", "rain_mm": 0.0, "temp_c": 27.46, "humidity_pct": 86, "pop": 0}], "timestamp": "2025-11-12T20:44:31.719593", "source": "OpenWeatherMap_API"}, "AMBUKLAO": {"dam_name": "AMBUKLAO", "reservoir_water_level_m": 750.22, "normal_high_water_level_m": 752.0, "deviation_from_nhwl_m": -1.78, "rule_curve_elevation_m": 752.0, "deviation_from_rule_curve_m": -1.78, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -1.73, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}, "ANGAT": {"dam_name": "ANGAT", "reservoir_water_level_m": 210.3, "normal_high_water_level_m": 210.0, "deviation_from_nhwl_m": 0.3, "rule_curve_elevation_m": 200.66, "deviation_from_rule_curve_m": 9.64, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.6, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}, "BINGA": {"dam_name": "BINGA", "reservoir_water_level_m": 572.31, "normal_high_water_level_m": 575.0, "deviation_from_nhwl_m": -2.69, "rule_curve_elevation_m": 575.0, "deviation_from_rule_curve_m": -2.69, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.64, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}, "CALIRAYA": {"dam_name": "CALIRAYA", "reservoir_water_level_m": 287.41, "normal_high_water_level_m": 0.0, "deviation_from_nhwl_m": 0.0, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "watch", "risk_score": 0.3, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.09, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}, "IPO": {"dam_name": "IPO", "reservoir_water_level_m": 100.65, "normal_high_water_level_m": 101.1, "deviation_from_nhwl_m": -0.45, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.03, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}, "LA MESA": {"dam_name": "LA MESA", "reservoir_water_level_m": 78.55, "normal_high_water_level_m": 80.15, "deviation_from_nhwl_m": -1.6, "rule_curve_elevation_m": 0.0, "deviation_from_rule_curve_m": 0.0, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.02, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}, "MAGAT DAM": {"dam_name": "MAGAT DAM", "reservoir_water_level_m": 190.53, "normal_high_water_level_m": 193.0, "deviation_from_nhwl_m": -2.47, "rule_curve_elevation_m": 189.63, "deviation_from_rule_curve_m": 0.9, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": -0.39, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}, "PANTABANGAN": {"dam_name": "PANTABANGAN", "reservoir_water_level_m": 216.38, "normal_high_water_level_m": 221.0, "deviation_from_nhwl_m": -4.62, "rule_curve_elevation_m": 219.62, "deviation_from_rule_curve_m": -3.24, "status": "normal", "risk_score": 0.1, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 0.07, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}, "SAN ROQUE": {"dam_name": "SAN ROQUE", "reservoir_water_level_m": 280.58, "normal_high_water_level_m": 280.0, "deviation_from_nhwl_m": 0.58, "rule_curve_elevation_m": 278.94, "deviation_from_rule_curve_m": 1.64, "status": "alert", "risk_score": 0.5, "latest_time": "08:00 AM", "latest_date": "Nov-12", "water_level_change_hr": 24.0, "water_level_change_amt": 2.33, "timestamp": "2025-11-12T20:44:32.849566", "source": "PAGASA_Dam_Monitoring"}}, "timestamp": "2025-11-12T20:44:39.893211", "source": "flood_agent"}', frame_finished=True, message_finished=True) cannot be sent in state ConnectionState.CLOSED.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 86, in send
    await self._send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\_exception_handler.py", line 39, in sender
    await send(message)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\uvicorn\protocols\websockets\wsproto_impl.py", line 350, in send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\app\main.py", line 170, in broadcast
    await connection.send_text(json_str)
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 166, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "C:\Users\minem\OneDrive\Documents\Coding Project\multi-agent-routing-app\masfro-backend\.venv\lib\site-packages\starlette\websockets.py", line 89, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect

2025-11-12 20:44:39 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:44:39 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:44:39 - app.main - INFO - disconnect:137 - WebSocket disconnected. Total connections: 5
2025-11-12 20:44:39 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 5 clients
2025-11-12 20:44:39 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 20:44:39 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 20:47:22 - app.main - INFO - get_route:507 - Route request: (14.656499917802734, 121.0938021747009) -> (14.655098402947672, 121.09934941736373)
2025-11-12 20:47:22 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.656499917802734, 121.0938021747009) -> (14.655098402947672, 121.09934941736373)
2025-11-12 20:47:22 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 317496239 to 12206558412 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:47:22 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 26 nodes. Blocked 0 edges during search.
2025-11-12 20:47:22 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=681m, risk=0.01
2025-11-12 20:48:50 - app.main - INFO - get_route:507 - Route request: (14.65530351656524, 121.0990326002763) -> (14.658309296109394, 121.10108030234699)
2025-11-12 20:48:50 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.65530351656524, 121.0990326002763) -> (14.658309296109394, 121.10108030234699)
2025-11-12 20:48:50 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 33120912 to 10789370050 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:48:50 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 29 nodes. Blocked 0 edges during search.
2025-11-12 20:48:50 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=535m, risk=0.02
2025-11-12 20:49:39 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 20:49:39 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 20:49:39 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 20:49:40 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 20:49:40 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 20:49:40 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 20:49:40 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 4.9mm 24h forecast, intensity=none
2025-11-12 20:49:40 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 20:49:40 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 20:49:41 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 20:49:41 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 20:49:41 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 20:49:41 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 20:49:41 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 20:49:41 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 20:49:41 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 20:49:41 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:41 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:41 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:41 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:41 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:41 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:42 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 20:49:42 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:42 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:42 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 20:49:42 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:42 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:42 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:42 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:43 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 20:49:43 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:43 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:43 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 20:49:43 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:43 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:43 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:43 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:44 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 20:49:44 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:44 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:44 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 20:49:44 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:44 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:44 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:44 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:45 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 20:49:45 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:45 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:45 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:45 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 20:49:45 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:45 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:45 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:45 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:46 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:46 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:47 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 20:49:47 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:47 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:47 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:47 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 20:49:47 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:47 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:47 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:47 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:48 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 20:49:48 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:49:48 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:49:48 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:49:48 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:49:48 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:49:48 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 20:49:48 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 8.88s
2025-11-12 20:49:48 - app.database.repository - INFO - create_collection:104 - Saved flood data collection e1604fbd-441c-4ecf-9e34-b442b0a2da25 with 14 river stations
2025-11-12 20:49:48 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=e1604fbd-441c-4ecf-9e34-b442b0a2da25
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:49:48 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:49:48 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 5 clients
2025-11-12 20:49:48 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 20:49:48 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 20:50:58 - app.main - INFO - get_route:507 - Route request: (14.65530351656524, 121.0990326002763) -> (14.658309296109394, 121.10108030234699)
2025-11-12 20:50:58 - app.agents.routing_agent - INFO - calculate_route:120 - routing_agent_001 calculating route: (14.65530351656524, 121.0990326002763) -> (14.658309296109394, 121.10108030234699)
2025-11-12 20:50:58 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:164 - Computing risk-aware A* path from 33120912 to 10789370050 (risk_weight=0.6, distance_weight=0.4)
2025-11-12 20:50:58 - app.algorithms.risk_aware_astar - INFO - risk_aware_astar:239 - Path found with 29 nodes. Blocked 0 edges during search.
2025-11-12 20:50:58 - app.agents.routing_agent - INFO - calculate_route:173 - routing_agent_001 route calculated: distance=535m, risk=0.02
2025-11-12 20:54:48 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 20:54:48 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 20:54:48 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 20:54:48 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 20:54:48 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 20:54:48 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 20:54:49 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 4.9mm 24h forecast, intensity=none
2025-11-12 20:54:49 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 20:54:49 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 20:54:50 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 20:54:50 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 20:54:50 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 20:54:50 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 20:54:50 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 20:54:50 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:50 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:50 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:50 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 20:54:50 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:50 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:50 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:50 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:51 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:51 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:52 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 20:54:52 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:52 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:52 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:52 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 20:54:52 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:52 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:52 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:52 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:53 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 20:54:53 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:53 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:53 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:53 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 20:54:53 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:53 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:53 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:53 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:54 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 20:54:54 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:54 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:54 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 20:54:54 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:54 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:54 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:54 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:55 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 20:54:55 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:55 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:55 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:55 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:55 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:54:56 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:54:56 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:54:57 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:54:57 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:54:57 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:54:57 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:54:57 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 20:54:57 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 8.62s
2025-11-12 20:54:57 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 7bbd1233-333b-42ec-ad1f-c18c00a775be with 14 river stations
2025-11-12 20:54:57 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=7bbd1233-333b-42ec-ad1f-c18c00a775be
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 20:54:57 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 20:54:57 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 5 clients
2025-11-12 20:54:57 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 20:54:57 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 20:59:57 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 20:59:57 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 20:59:57 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 20:59:57 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 20:59:57 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 20:59:57 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 20:59:57 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 4.9mm 24h forecast, intensity=none
2025-11-12 20:59:57 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 20:59:57 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 20:59:58 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 20:59:58 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 20:59:58 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 20:59:58 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 20:59:58 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 20:59:58 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 20:59:58 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 20:59:58 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:59:58 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:59:58 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:59:58 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:59:58 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:59:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:59:58 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:59:59 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 20:59:59 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:59:59 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:59:59 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 20:59:59 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 20:59:59 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 20:59:59 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 20:59:59 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 20:59:59 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:00 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:00 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:01 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:00:01 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:01 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:01 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:00:01 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:01 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:01 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:01 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:02 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:00:02 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:02 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:02 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:00:02 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:02 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:02 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:02 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:03 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 21:00:03 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:03 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:03 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:00:03 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:03 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:03 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:03 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:00:04 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:00:04 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:00:05 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:00:05 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:00:05 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:00:05 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:00:05 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:00:05 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 7.83s
2025-11-12 21:00:05 - app.database.repository - INFO - create_collection:104 - Saved flood data collection a737b3c6-8df6-4115-adb9-bdec8be63680 with 14 river stations
2025-11-12 21:00:05 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=a737b3c6-8df6-4115-adb9-bdec8be63680
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:00:05 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:00:05 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 5 clients
2025-11-12 21:00:05 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:00:05 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 21:05:05 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 21:05:05 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 21:05:05 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 21:05:05 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 21:05:05 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 21:05:05 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 21:05:05 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 21:05:05 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 21:05:05 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 21:05:06 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 21:05:06 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 21:05:06 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 21:05:06 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 21:05:06 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 21:05:06 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 21:05:06 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 21:05:06 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:06 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:06 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:06 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:06 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:06 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:06 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:07 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:07 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:08 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:05:08 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:08 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:08 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:08 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:05:08 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:08 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:08 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:08 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:09 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:09 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:10 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:10 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:11 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:05:11 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:11 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:11 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:11 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:05:11 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:11 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:11 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:11 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:05:12 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:05:12 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:05:12 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:05:12 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 7.54s
2025-11-12 21:05:12 - app.database.repository - INFO - create_collection:104 - Saved flood data collection 3f8a67d7-4f7a-4caa-a382-75b780f6e927 with 14 river stations
2025-11-12 21:05:12 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=3f8a67d7-4f7a-4caa-a382-75b780f6e927
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6098, type: <class 'str'>
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:05:12 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:05:12 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 5 clients
2025-11-12 21:05:12 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:05:12 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
2025-11-12 21:10:12 - app.services.flood_data_scheduler - INFO - _collection_loop:185 - Scheduler triggering flood data collection...
2025-11-12 21:10:12 - app.agents.flood_agent - INFO - collect_and_forward_data:194 - flood_agent_001 collecting flood data from all sources...
2025-11-12 21:10:12 - app.agents.flood_agent - INFO - fetch_real_river_levels:545 - flood_agent_001 fetching REAL river levels from PAGASA API
2025-11-12 21:10:13 - app.agents.flood_agent - INFO - fetch_real_river_levels:612 - Fetched river data for 5 Marikina stations. Statuses: ['normal', 'normal', 'normal', 'normal', 'normal']
2025-11-12 21:10:13 - app.agents.flood_agent - INFO - collect_and_forward_data:206 - [OK] Collected REAL river data: 5 stations
2025-11-12 21:10:13 - app.agents.flood_agent - INFO - fetch_real_weather_data:640 - flood_agent_001 fetching REAL weather from OpenWeatherMap
2025-11-12 21:10:13 - app.agents.flood_agent - INFO - fetch_real_weather_data:700 - Weather data: 0.0mm/hr current, 5.1mm 24h forecast, intensity=none
2025-11-12 21:10:13 - app.agents.flood_agent - INFO - collect_and_forward_data:219 - [OK] Collected REAL weather data for Marikina
2025-11-12 21:10:13 - app.agents.flood_agent - INFO - fetch_real_dam_levels:721 - flood_agent_001 fetching REAL dam levels from PAGASA
2025-11-12 21:10:14 - services.dam_water_scraper_service - INFO - get_dam_levels:180 - Successfully scraped 9 dam water levels
2025-11-12 21:10:14 - app.agents.flood_agent - INFO - fetch_real_dam_levels:791 - Fetched dam data for 9 dams. Statuses: ['normal', 'watch', 'normal', 'watch', 'normal', 'normal', 'normal', 'normal', 'alert']
2025-11-12 21:10:14 - app.agents.flood_agent - INFO - collect_and_forward_data:233 - [OK] Collected REAL dam data: 9 dams
2025-11-12 21:10:14 - app.agents.flood_agent - INFO - collect_and_forward_data:254 - [SEND] Forwarding 15 data points to HazardAgent
2025-11-12 21:10:14 - app.agents.flood_agent - INFO - send_to_hazard_agent:858 - flood_agent_001 sending 15 data points to HazardAgent
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Montalban
2025-11-12 21:10:14 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Montalban
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:14 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:14 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Nangka
2025-11-12 21:10:14 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Nangka
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:14 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:14 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:14 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:15 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Rosario Bridge
2025-11-12 21:10:15 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Rosario Bridge
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:15 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:15 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:15 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Sto Nino
2025-11-12 21:10:15 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Sto Nino
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:15 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:15 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:15 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Tumana Bridge
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Tumana Bridge
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: Marikina_weather
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: Marikina_weather
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: AMBUKLAO
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: AMBUKLAO
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:16 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:16 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:17 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: ANGAT
2025-11-12 21:10:17 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: ANGAT
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:17 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:17 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: BINGA
2025-11-12 21:10:17 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: BINGA
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:17 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:17 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:17 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:18 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: CALIRAYA
2025-11-12 21:10:18 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: CALIRAYA
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:18 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:18 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: IPO
2025-11-12 21:10:18 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: IPO
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:18 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:18 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:18 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:19 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: LA MESA
2025-11-12 21:10:19 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: LA MESA
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:19 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:19 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: MAGAT DAM
2025-11-12 21:10:19 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: MAGAT DAM
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:19 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:19 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:19 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:20 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: PANTABANGAN
2025-11-12 21:10:20 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: PANTABANGAN
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:20 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:20 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - process_flood_data:167 - hazard_agent_001 received flood data: SAN ROQUE
2025-11-12 21:10:20 - app.agents.hazard_agent - DEBUG - process_flood_data:178 - Flood data cached for location: SAN ROQUE
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - process_flood_data:181 - hazard_agent_001 triggering hazard processing after flood data update
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - process_and_update:140 - hazard_agent_001 processing hazard data...
2025-11-12 21:10:20 - app.agents.hazard_agent - DEBUG - fuse_data:234 - hazard_agent_001 fusing data from multiple sources
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - fuse_data:283 - Data fusion complete for 15 locations
2025-11-12 21:10:20 - app.agents.hazard_agent - DEBUG - calculate_risk_scores:439 - hazard_agent_001 calculating risk scores with GeoTIFF integration
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:363 - Querying flood depths for all edges (rp=rr01, ts=1)
2025-11-12 21:10:20 - app.agents.hazard_agent - INFO - get_edge_flood_depths:377 - Flood depth query complete: 3236/20124 edges flooded (>0.01m)
2025-11-12 21:10:21 - app.agents.hazard_agent - INFO - calculate_risk_scores:495 - Calculated risk scores for 20124 edges using GeoTIFF data. Distribution: low=20124, moderate=0, high=0, critical=0
2025-11-12 21:10:21 - app.agents.hazard_agent - DEBUG - update_environment:511 - hazard_agent_001 updating environment with risk scores
2025-11-12 21:10:21 - app.agents.hazard_agent - INFO - update_environment:523 - Updated 20124 edges in the environment
2025-11-12 21:10:21 - app.agents.flood_agent - INFO - send_to_hazard_agent:879 - flood_agent_001 successfully forwarded data to hazard_agent_001
2025-11-12 21:10:21 - app.services.flood_data_scheduler - INFO - _collection_loop:205 - [OK] Scheduled collection successful: 15 data points in 8.19s
2025-11-12 21:10:21 - app.database.repository - INFO - create_collection:104 - Saved flood data collection e36a2905-d182-470d-8961-a02db34f4b53 with 14 river stations
2025-11-12 21:10:21 - app.services.flood_data_scheduler - INFO - _save_to_database:143 - [DB] Data saved to database: collection_id=e36a2905-d182-470d-8961-a02db34f4b53
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:153 - Successfully serialized message of type: flood_update
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:168 - Attempting send_text with string of length: 6096, type: <class 'str'>
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:169 - First 100 chars: {"type": "flood_update", "data": {"Montalban": {"water_level_m": null, "alert_level_m": 22.4, "alarm
2025-11-12 21:10:21 - app.main - DEBUG - broadcast:171 - send_text successful
2025-11-12 21:10:21 - app.main - INFO - broadcast_flood_update:212 - Broadcasted flood update to 5 clients
2025-11-12 21:10:21 - app.services.flood_data_scheduler - DEBUG - _collection_loop:222 - WebSocket broadcast completed
2025-11-12 21:10:21 - app.services.flood_data_scheduler - DEBUG - _collection_loop:248 - Next collection in 300s...
